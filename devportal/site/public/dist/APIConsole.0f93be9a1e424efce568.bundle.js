(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["APIConsole"],{

/***/ "./source/src/app/components/Apis/Details/ApiConsole/ApiConsole.jsx":
/*!**************************************************************************!*\
  !*** ./source/src/app/components/Apis/Details/ApiConsole/ApiConsole.jsx ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-intl */ \"./node_modules/react-intl/lib/index.js\");\n/* harmony import */ var _material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/Grid */ \"./node_modules/@material-ui/core/esm/Grid/index.js\");\n/* harmony import */ var _material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material-ui/core/Typography */ \"./node_modules/@material-ui/core/esm/Typography/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material-ui/core/styles */ \"./node_modules/@material-ui/core/esm/styles/index.js\");\n/* harmony import */ var _material_ui_core_Icon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core/Icon */ \"./node_modules/@material-ui/core/esm/Icon/index.js\");\n/* harmony import */ var AppData_AuthManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! AppData/AuthManager */ \"./source/src/app/data/AuthManager.jsx\");\n/* harmony import */ var _material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/core/Paper */ \"./node_modules/@material-ui/core/esm/Paper/index.js\");\n/* harmony import */ var _material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @material-ui/core/Button */ \"./node_modules/@material-ui/core/esm/Button/index.js\");\n/* harmony import */ var _material_ui_icons_CloudDownloadRounded__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @material-ui/icons/CloudDownloadRounded */ \"./node_modules/@material-ui/icons/CloudDownloadRounded.js\");\n/* harmony import */ var _material_ui_icons_CloudDownloadRounded__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_material_ui_icons_CloudDownloadRounded__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _ApiContext__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ApiContext */ \"./source/src/app/components/Apis/Details/ApiContext.jsx\");\n/* harmony import */ var _Shared_Progress__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../Shared/Progress */ \"./source/src/app/components/Shared/Progress.jsx\");\n/* harmony import */ var _data_api__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../data/api */ \"./source/src/app/data/api.jsx\");\n/* harmony import */ var _SwaggerUI__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./SwaggerUI */ \"./source/src/app/components/Apis/Details/ApiConsole/SwaggerUI.jsx\");\n/* harmony import */ var _TryOutController__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./TryOutController */ \"./source/src/app/components/Apis/Details/ApiConsole/TryOutController.jsx\");\n/* harmony import */ var _data_Application__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../data/Application */ \"./source/src/app/data/Application.jsx\");\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\n/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @inheritdoc\n * @param {*} theme theme\n */\n\nvar styles = function styles(theme) {\n  return {\n    buttonIcon: {\n      marginRight: 10\n    },\n    paper: {\n      margin: theme.spacing(1),\n      padding: theme.spacing(1),\n      '& span, & h5, & label, & td, & li, & div, & input': {\n        color: theme.palette.getContrastText(theme.palette.background.paper)\n      }\n    },\n    grid: {\n      marginTop: theme.spacing(4),\n      marginBottom: theme.spacing(4),\n      paddingRight: theme.spacing(2),\n      justifyContent: 'center'\n    },\n    userNotificationPaper: {\n      padding: theme.spacing(2)\n    },\n    titleSub: {\n      marginLeft: theme.spacing(2),\n      paddingTop: theme.spacing(2),\n      paddingBottom: theme.spacing(2),\n      color: theme.palette.getContrastText(theme.palette.background.default)\n    },\n    swaggerUIPaper: {\n      backgroundColor: theme.custom.apiDetailPages.swaggerUIBackground\n    }\n  };\n};\n/**\n *\n *\n * @class ApiConsole\n * @extends {React.Component}\n */\n\n\nvar ApiConsole =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ApiConsole, _React$Component);\n\n  /**\n   *Creates an instance of ApiConsole.\n   * @param {*} props properties\n   * @memberof ApiConsole\n   */\n  function ApiConsole(props) {\n    var _this;\n\n    _classCallCheck(this, ApiConsole);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ApiConsole).call(this, props));\n    _this.state = {\n      securitySchemeType: 'OAUTH',\n      username: '',\n      password: '',\n      scopes: [],\n      selectedKeyType: 'PRODUCTION',\n      keys: [],\n      productionApiKey: '',\n      sandboxApiKey: '',\n      selectedKeyManager: 'Resident Key Manager'\n    };\n    _this.accessTokenProvider = _this.accessTokenProvider.bind(_assertThisInitialized(_this));\n    _this.updateSwagger = _this.updateSwagger.bind(_assertThisInitialized(_this));\n    _this.setSecurityScheme = _this.setSecurityScheme.bind(_assertThisInitialized(_this));\n    _this.setSelectedEnvironment = _this.setSelectedEnvironment.bind(_assertThisInitialized(_this));\n    _this.setProductionAccessToken = _this.setProductionAccessToken.bind(_assertThisInitialized(_this));\n    _this.setSandboxAccessToken = _this.setSandboxAccessToken.bind(_assertThisInitialized(_this));\n    _this.setUsername = _this.setUsername.bind(_assertThisInitialized(_this));\n    _this.setPassword = _this.setPassword.bind(_assertThisInitialized(_this));\n    _this.setSelectedKeyType = _this.setSelectedKeyType.bind(_assertThisInitialized(_this));\n    _this.setSectedKeyManager = _this.setSelectedKeyManager.bind(_assertThisInitialized(_this));\n    _this.setKeys = _this.setKeys.bind(_assertThisInitialized(_this));\n    _this.updateAccessToken = _this.updateAccessToken.bind(_assertThisInitialized(_this));\n    _this.setProductionApiKey = _this.setProductionApiKey.bind(_assertThisInitialized(_this));\n    _this.setSandboxApiKey = _this.setSandboxApiKey.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n  /**\n   * @memberof ApiConsole\n   */\n\n\n  _createClass(ApiConsole, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var api = this.context.api;\n      var apiID = api.id;\n      var user = AppData_AuthManager__WEBPACK_IMPORTED_MODULE_7__[\"default\"].getUser();\n      var apiData;\n      var environments;\n      var containerMngEnvironments;\n      var labels;\n      var selectedEnvironment;\n      var swagger;\n      var productionAccessToken;\n      var sandboxAccessToken;\n      this.apiClient = new _data_api__WEBPACK_IMPORTED_MODULE_13__[\"default\"]();\n      var promiseAPI = this.apiClient.getAPIById(apiID);\n      promiseAPI.then(function (apiResponse) {\n        apiData = apiResponse.obj;\n\n        if (apiData.endpointURLs) {\n          environments = apiData.endpointURLs.map(function (endpoint) {\n            return endpoint.environmentName;\n          });\n        }\n\n        containerMngEnvironments = apiData.ingressURLs;\n\n        if (apiData.labels) {\n          labels = apiData.labels.map(function (label) {\n            return label.name;\n          });\n        }\n\n        if (apiData.scopes) {\n          var scopeList = apiData.scopes.map(function (scope) {\n            return scope.key;\n          });\n\n          _this2.setState({\n            scopes: scopeList\n          });\n        }\n\n        if (environments && environments.length > 0) {\n          var _environments = environments;\n\n          var _environments2 = _slicedToArray(_environments, 1);\n\n          selectedEnvironment = _environments2[0];\n          return _this2.apiClient.getSwaggerByAPIIdAndEnvironment(apiID, selectedEnvironment);\n        } else if (containerMngEnvironments && containerMngEnvironments.some(function (env) {\n          return env.clusterDetails.length > 0;\n        })) {\n          var _containerMngEnvironm = containerMngEnvironments.find(function (env) {\n            return env.clusterDetails.length > 0;\n          }),\n              _containerMngEnvironm2 = _slicedToArray(_containerMngEnvironm.clusterDetails, 1),\n              clusterName = _containerMngEnvironm2[0].clusterName;\n\n          selectedEnvironment = clusterName;\n          return _this2.apiClient.getSwaggerByAPIIdAndClusterName(apiID, clusterName);\n        } else if (labels && labels.length > 0) {\n          var _labels = labels;\n\n          var _labels2 = _slicedToArray(_labels, 1);\n\n          selectedEnvironment = _labels2[0];\n          return _this2.apiClient.getSwaggerByAPIIdAndLabel(apiID, selectedEnvironment);\n        } else {\n          return _this2.apiClient.getSwaggerByAPIId(apiID);\n        }\n      }).then(function (swaggerResponse) {\n        swagger = swaggerResponse.obj;\n\n        _this2.setState({\n          api: apiData,\n          swagger: swagger,\n          environments: environments,\n          containerMngEnvironments: containerMngEnvironments,\n          labels: labels,\n          productionAccessToken: productionAccessToken,\n          sandboxAccessToken: sandboxAccessToken,\n          selectedEnvironment: selectedEnvironment\n        });\n\n        if (user != null) {\n          return _this2.apiClient.getSubscriptions(apiID);\n        } else {\n          return null;\n        }\n      }).catch(function (error) {\n        if (true) {\n          console.error(error);\n        }\n\n        var status = error.status;\n\n        if (status === 404) {\n          _this2.setState({\n            notFound: true\n          });\n        }\n      });\n    }\n    /**\n     * Set SecurityScheme value\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"setSecurityScheme\",\n    value: function setSecurityScheme(securityScheme) {\n      this.setState({\n        securitySchemeType: securityScheme\n      });\n    }\n    /**\n     * Set Selected Environment\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"setSelectedEnvironment\",\n    value: function setSelectedEnvironment(selectedEnvironment) {\n      this.setState({\n        selectedEnvironment: selectedEnvironment\n      });\n    }\n    /**\n     * Set Production Access Token\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"setProductionAccessToken\",\n    value: function setProductionAccessToken(productionAccessToken) {\n      this.setState({\n        productionAccessToken: productionAccessToken\n      });\n    }\n    /**\n     * Set Sandbox Access Token\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"setSandboxAccessToken\",\n    value: function setSandboxAccessToken(sandboxAccessToken) {\n      this.setState({\n        sandboxAccessToken: sandboxAccessToken\n      });\n    }\n    /**\n     * Set Production API Key\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"setProductionApiKey\",\n    value: function setProductionApiKey(productionApiKey) {\n      this.setState({\n        productionApiKey: productionApiKey\n      });\n    }\n    /**\n     * Set Sandbox API Key\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"setSandboxApiKey\",\n    value: function setSandboxApiKey(sandboxApiKey) {\n      this.setState({\n        sandboxApiKey: sandboxApiKey\n      });\n    }\n    /**\n     * Set Username\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"setUsername\",\n    value: function setUsername(username) {\n      this.setState({\n        username: username\n      });\n    }\n    /**\n     * Set Password\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"setPassword\",\n    value: function setPassword(password) {\n      this.setState({\n        password: password\n      });\n    }\n    /**\n     * Set Password\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"setSelectedKeyType\",\n    value: function setSelectedKeyType(selectedKeyType, isUpdateToken, selectedApplication) {\n      if (isUpdateToken) {\n        this.setState({\n          selectedKeyType: selectedKeyType\n        }, this.updateAccessToken(selectedApplication));\n      } else {\n        this.setState({\n          selectedKeyType: selectedKeyType\n        });\n      }\n    }\n    /**\n     * Set Password\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"setSelectedKeyManager\",\n    value: function setSelectedKeyManager(selectedKeyManager, isUpdateToken, selectedApplication) {\n      if (isUpdateToken) {\n        this.setState({\n          selectedKeyManager: selectedKeyManager\n        }, this.updateAccessToken(selectedApplication));\n      } else {\n        this.setState({\n          selectedKeyManager: selectedKeyManager\n        });\n      }\n    }\n  }, {\n    key: \"setKeys\",\n    value: function setKeys(keys) {\n      this.setState({\n        keys: keys\n      });\n    }\n    /**\n     * Load the access token for given key type\n     * @memberof TryOutController\n     */\n\n  }, {\n    key: \"updateAccessToken\",\n    value: function updateAccessToken(selectedApplication) {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          selectedKeyType = _this$state.selectedKeyType,\n          selectedKeyManager = _this$state.selectedKeyManager,\n          keys = _this$state.keys;\n      var accessToken;\n\n      if (keys.get(selectedKeyManager) && keys.get(selectedKeyManager).keyType === selectedKeyType) {\n        accessToken = keys.get(selectedKeyManager).token.accessToken;\n\n        if (selectedKeyType === 'PRODUCTION') {\n          this.setProductionAccessToken(accessToken);\n        } else {\n          this.setSandboxAccessToken(accessToken);\n        }\n      } else {\n        _data_Application__WEBPACK_IMPORTED_MODULE_16__[\"default\"].get(selectedApplication).then(function (application) {\n          return application.getKeys(selectedKeyType);\n        }).then(function (appKeys) {\n          if (appKeys.get(selectedKeyManager) && appKeys.get(selectedKeyManager).keyType === selectedKeyType) {\n            accessToken = appKeys.get(selectedKeyManager).token.accessToken;\n          }\n\n          if (appKeys.get(selectedKeyManager).keyType === 'PRODUCTION') {\n            _this3.setProductionAccessToken(accessToken);\n          } else {\n            _this3.setSandboxAccessToken(accessToken);\n          }\n\n          _this3.setKeys(appKeys);\n        });\n      }\n    }\n    /**\n     *\n     * Provids the access token to the Swagger UI\n     * @returns {*} access token\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"accessTokenProvider\",\n    value: function accessTokenProvider() {\n      var _this$state2 = this.state,\n          securitySchemeType = _this$state2.securitySchemeType,\n          username = _this$state2.username,\n          password = _this$state2.password,\n          productionAccessToken = _this$state2.productionAccessToken,\n          sandboxAccessToken = _this$state2.sandboxAccessToken,\n          selectedKeyType = _this$state2.selectedKeyType,\n          productionApiKey = _this$state2.productionApiKey,\n          sandboxApiKey = _this$state2.sandboxApiKey;\n\n      if (securitySchemeType === 'BASIC') {\n        var credentials = username + ':' + password;\n        return btoa(credentials);\n      }\n\n      if (securitySchemeType === 'API-KEY') {\n        if (selectedKeyType === 'PRODUCTION') {\n          return productionApiKey;\n        } else {\n          return sandboxApiKey;\n        }\n      } else if (selectedKeyType === 'PRODUCTION') {\n        return productionAccessToken;\n      } else {\n        return sandboxAccessToken;\n      }\n    }\n    /**\n     * Load the swagger file of the given environment\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"updateSwagger\",\n    value: function updateSwagger(environment) {\n      var _this4 = this;\n\n      var _this$state3 = this.state,\n          api = _this$state3.api,\n          environments = _this$state3.environments,\n          containerMngEnvironments = _this$state3.containerMngEnvironments;\n      var promiseSwagger;\n\n      if (environment) {\n        if (environments.includes(environment)) {\n          promiseSwagger = this.apiClient.getSwaggerByAPIIdAndEnvironment(api.id, environment);\n        } else if (containerMngEnvironments.some(function (env) {\n          return env.clusterDetails.length > 0 && env.clusterDetails.some(function (cluster) {\n            return cluster.clusterName === environment;\n          });\n        })) {\n          promiseSwagger = this.apiClient.getSwaggerByAPIIdAndClusterName(api.id, environment);\n        } else {\n          promiseSwagger = this.apiClient.getSwaggerByAPIIdAndLabel(api.id, environment);\n        }\n      } else {\n        promiseSwagger = this.apiClient.getSwaggerByAPIId(api.id);\n      }\n\n      promiseSwagger.then(function (swaggerResponse) {\n        _this4.setState({\n          swagger: swaggerResponse.obj\n        });\n      });\n    }\n    /**\n     * @inheritdoc\n     * @memberof ApiConsole\n     */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var _this$state4 = this.state,\n          api = _this$state4.api,\n          notFound = _this$state4.notFound,\n          swagger = _this$state4.swagger,\n          securitySchemeType = _this$state4.securitySchemeType,\n          selectedEnvironment = _this$state4.selectedEnvironment,\n          labels = _this$state4.labels,\n          environments = _this$state4.environments,\n          scopes = _this$state4.scopes,\n          username = _this$state4.username,\n          password = _this$state4.password,\n          productionAccessToken = _this$state4.productionAccessToken,\n          sandboxAccessToken = _this$state4.sandboxAccessToken,\n          selectedKeyType = _this$state4.selectedKeyType,\n          sandboxApiKey = _this$state4.sandboxApiKey,\n          productionApiKey = _this$state4.productionApiKey,\n          selectedKeyManager = _this$state4.selectedKeyManager,\n          containerMngEnvironments = _this$state4.containerMngEnvironments;\n      var user = AppData_AuthManager__WEBPACK_IMPORTED_MODULE_7__[\"default\"].getUser();\n      var downloadSwagger = JSON.stringify(_objectSpread({}, swagger));\n      var downloadLink = 'data:text/json;charset=utf-8, ' + encodeURIComponent(downloadSwagger);\n      var fileName = 'swagger.json';\n\n      if (api == null || swagger == null) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Shared_Progress__WEBPACK_IMPORTED_MODULE_12__[\"default\"], null);\n      }\n\n      if (notFound) {\n        return 'API Not found !';\n      }\n\n      var isApiKeyEnabled = false;\n      var authorizationHeader = api.authorizationHeader ? api.authorizationHeader : 'Authorization';\n\n      if (api && api.securityScheme) {\n        isApiKeyEnabled = api.securityScheme.includes('api_key');\n\n        if (isApiKeyEnabled && securitySchemeType === 'API-KEY') {\n          authorizationHeader = 'apikey';\n        }\n      }\n\n      var isPrototypedAPI = api.lifeCycleStatus && api.lifeCycleStatus.toLowerCase() === 'prototyped';\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        variant: \"h4\",\n        className: classes.titleSub\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"Apis.Details.ApiConsole.ApiConsole.title\",\n        defaultMessage: \"Try Out\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        className: classes.paper\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        container: true,\n        className: classes.grid\n      }, !isPrototypedAPI && !user && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        item: true,\n        md: 6\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        className: classes.userNotificationPaper\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        variant: \"h5\",\n        component: \"h3\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Icon__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null, \"warning\"), ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"notice\",\n        defaultMessage: \"Notice\"\n      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n        component: \"p\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"api.console.require.access.token\",\n        defaultMessage: 'You need an access token to try the API. Please log ' + 'in and subscribe to the API to generate an access token. If you already ' + 'have an access token, please provide it below.'\n      }))))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_TryOutController__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n        setSecurityScheme: this.setSecurityScheme,\n        securitySchemeType: securitySchemeType,\n        setSelectedEnvironment: this.setSelectedEnvironment,\n        selectedEnvironment: selectedEnvironment,\n        productionAccessToken: productionAccessToken,\n        setProductionAccessToken: this.setProductionAccessToken,\n        sandboxAccessToken: sandboxAccessToken,\n        setSandboxAccessToken: this.setSandboxAccessToken,\n        swagger: swagger,\n        labels: labels,\n        containerMngEnvironments: containerMngEnvironments,\n        environments: environments,\n        scopes: scopes,\n        setUsername: this.setUsername,\n        setPassword: this.setPassword,\n        username: username,\n        password: password,\n        setSelectedKeyType: this.setSelectedKeyType,\n        selectedKeyType: selectedKeyType,\n        setSelectedKeyManager: this.setSelectedKeyManager,\n        selectedKeyManager: selectedKeyManager,\n        updateSwagger: this.updateSwagger,\n        setKeys: this.setKeys,\n        setProductionApiKey: this.setProductionApiKey,\n        setSandboxApiKey: this.setSandboxApiKey,\n        productionApiKey: productionApiKey,\n        sandboxApiKey: sandboxApiKey,\n        api: this.state.api\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        container: true\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        xs: 10,\n        item: true\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        xs: 2,\n        item: true\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"a\", {\n        href: downloadLink,\n        download: fileName\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n        size: \"small\"\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_icons_CloudDownloadRounded__WEBPACK_IMPORTED_MODULE_10___default.a, {\n        className: classes.buttonIcon\n      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_1__[\"FormattedMessage\"], {\n        id: \"Apis.Details.APIConsole.APIConsole.download.swagger\",\n        defaultMessage: \"Swagger ( /swagger.json )\"\n      })))))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n        className: classes.swaggerUIPaper\n      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_SwaggerUI__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n        api: this.state.api,\n        accessTokenProvider: this.accessTokenProvider,\n        spec: swagger,\n        authorizationHeader: authorizationHeader,\n        securitySchemeType: securitySchemeType\n      })));\n    }\n  }]);\n\n  return ApiConsole;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\nApiConsole.propTypes = {\n  classes: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({\n    paper: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,\n    titleSub: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,\n    grid: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,\n    userNotificationPaper: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,\n    buttonIcon: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired\n  }).isRequired\n};\nApiConsole.contextType = _ApiContext__WEBPACK_IMPORTED_MODULE_11__[\"ApiContext\"];\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_5__[\"withStyles\"])(styles)(ApiConsole));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zb3VyY2Uvc3JjL2FwcC9jb21wb25lbnRzL0FwaXMvRGV0YWlscy9BcGlDb25zb2xlL0FwaUNvbnNvbGUuanN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc291cmNlL3NyYy9hcHAvY29tcG9uZW50cy9BcGlzL0RldGFpbHMvQXBpQ29uc29sZS9BcGlDb25zb2xlLmpzeD82ZGVkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTksIFdTTzIgSW5jLiAoaHR0cDovL3d3dy53c28yLm9yZykgQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBXU08yIEluYy4gbGljZW5zZXMgdGhpcyBmaWxlIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsXG4gKiBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHRcbiAqIGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb3JtYXR0ZWRNZXNzYWdlIH0gZnJvbSAncmVhY3QtaW50bCc7XG5pbXBvcnQgR3JpZCBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9HcmlkJztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL1R5cG9ncmFwaHknO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHdpdGhTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IEljb24gZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvSWNvbic7XG5pbXBvcnQgQXV0aE1hbmFnZXIgZnJvbSAnQXBwRGF0YS9BdXRoTWFuYWdlcic7XG5pbXBvcnQgUGFwZXIgZnJvbSAnQG1hdGVyaWFsLXVpL2NvcmUvUGFwZXInO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9CdXR0b24nO1xuaW1wb3J0IENsb3VkRG93bmxvYWRSb3VuZGVkIGZyb20gJ0BtYXRlcmlhbC11aS9pY29ucy9DbG91ZERvd25sb2FkUm91bmRlZCc7XG5pbXBvcnQgeyBBcGlDb250ZXh0IH0gZnJvbSAnLi4vQXBpQ29udGV4dCc7XG5pbXBvcnQgUHJvZ3Jlc3MgZnJvbSAnLi4vLi4vLi4vU2hhcmVkL1Byb2dyZXNzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vLi4vLi4vLi4vZGF0YS9hcGknO1xuaW1wb3J0IFN3YWdnZXJVSSBmcm9tICcuL1N3YWdnZXJVSSc7XG5pbXBvcnQgVHJ5T3V0Q29udHJvbGxlciBmcm9tICcuL1RyeU91dENvbnRyb2xsZXInO1xuaW1wb3J0IEFwcGxpY2F0aW9uIGZyb20gJy4uLy4uLy4uLy4uL2RhdGEvQXBwbGljYXRpb24nO1xuXG4vKipcbiAqIEBpbmhlcml0ZG9jXG4gKiBAcGFyYW0geyp9IHRoZW1lIHRoZW1lXG4gKi9cbmNvbnN0IHN0eWxlcyA9ICh0aGVtZSkgPT4gKHtcbiAgICBidXR0b25JY29uOiB7XG4gICAgICAgIG1hcmdpblJpZ2h0OiAxMCxcbiAgICB9LFxuICAgIHBhcGVyOiB7XG4gICAgICAgIG1hcmdpbjogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgICAgcGFkZGluZzogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgICAgJyYgc3BhbiwgJiBoNSwgJiBsYWJlbCwgJiB0ZCwgJiBsaSwgJiBkaXYsICYgaW5wdXQnOiB7XG4gICAgICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5nZXRDb250cmFzdFRleHQodGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLnBhcGVyKSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGdyaWQ6IHtcbiAgICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nKDQpLFxuICAgICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcoNCksXG4gICAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUuc3BhY2luZygyKSxcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIH0sXG4gICAgdXNlck5vdGlmaWNhdGlvblBhcGVyOiB7XG4gICAgICAgIHBhZGRpbmc6IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgfSxcbiAgICB0aXRsZVN1Yjoge1xuICAgICAgICBtYXJnaW5MZWZ0OiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgICBwYWRkaW5nVG9wOiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgICBwYWRkaW5nQm90dG9tOiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5nZXRDb250cmFzdFRleHQodGhlbWUucGFsZXR0ZS5iYWNrZ3JvdW5kLmRlZmF1bHQpLFxuICAgIH0sXG4gICAgc3dhZ2dlclVJUGFwZXI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5jdXN0b20uYXBpRGV0YWlsUGFnZXMuc3dhZ2dlclVJQmFja2dyb3VuZCxcbiAgICB9LFxufSk7XG5cbi8qKlxuICpcbiAqXG4gKiBAY2xhc3MgQXBpQ29uc29sZVxuICogQGV4dGVuZHMge1JlYWN0LkNvbXBvbmVudH1cbiAqL1xuY2xhc3MgQXBpQ29uc29sZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICpDcmVhdGVzIGFuIGluc3RhbmNlIG9mIEFwaUNvbnNvbGUuXG4gICAgICogQHBhcmFtIHsqfSBwcm9wcyBwcm9wZXJ0aWVzXG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzZWN1cml0eVNjaGVtZVR5cGU6ICdPQVVUSCcsXG4gICAgICAgICAgICB1c2VybmFtZTogJycsXG4gICAgICAgICAgICBwYXNzd29yZDogJycsXG4gICAgICAgICAgICBzY29wZXM6IFtdLFxuICAgICAgICAgICAgc2VsZWN0ZWRLZXlUeXBlOiAnUFJPRFVDVElPTicsXG4gICAgICAgICAgICBrZXlzOiBbXSxcbiAgICAgICAgICAgIHByb2R1Y3Rpb25BcGlLZXk6ICcnLFxuICAgICAgICAgICAgc2FuZGJveEFwaUtleTogJycsXG4gICAgICAgICAgICBzZWxlY3RlZEtleU1hbmFnZXI6ICdSZXNpZGVudCBLZXkgTWFuYWdlcicsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWNjZXNzVG9rZW5Qcm92aWRlciA9IHRoaXMuYWNjZXNzVG9rZW5Qcm92aWRlci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN3YWdnZXIgPSB0aGlzLnVwZGF0ZVN3YWdnZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRTZWN1cml0eVNjaGVtZSA9IHRoaXMuc2V0U2VjdXJpdHlTY2hlbWUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZEVudmlyb25tZW50ID0gdGhpcy5zZXRTZWxlY3RlZEVudmlyb25tZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0UHJvZHVjdGlvbkFjY2Vzc1Rva2VuID0gdGhpcy5zZXRQcm9kdWN0aW9uQWNjZXNzVG9rZW4uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRTYW5kYm94QWNjZXNzVG9rZW4gPSB0aGlzLnNldFNhbmRib3hBY2Nlc3NUb2tlbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldFVzZXJuYW1lID0gdGhpcy5zZXRVc2VybmFtZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldFBhc3N3b3JkID0gdGhpcy5zZXRQYXNzd29yZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldFNlbGVjdGVkS2V5VHlwZSA9IHRoaXMuc2V0U2VsZWN0ZWRLZXlUeXBlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0U2VjdGVkS2V5TWFuYWdlciA9IHRoaXMuc2V0U2VsZWN0ZWRLZXlNYW5hZ2VyLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2V0S2V5cyA9IHRoaXMuc2V0S2V5cy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZUFjY2Vzc1Rva2VuID0gdGhpcy51cGRhdGVBY2Nlc3NUb2tlbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNldFByb2R1Y3Rpb25BcGlLZXkgPSB0aGlzLnNldFByb2R1Y3Rpb25BcGlLZXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZXRTYW5kYm94QXBpS2V5ID0gdGhpcy5zZXRTYW5kYm94QXBpS2V5LmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgY29uc3QgeyBhcGkgfSA9IHRoaXMuY29udGV4dDtcbiAgICAgICAgY29uc3QgYXBpSUQgPSBhcGkuaWQ7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBBdXRoTWFuYWdlci5nZXRVc2VyKCk7XG4gICAgICAgIGxldCBhcGlEYXRhO1xuICAgICAgICBsZXQgZW52aXJvbm1lbnRzO1xuICAgICAgICBsZXQgY29udGFpbmVyTW5nRW52aXJvbm1lbnRzO1xuICAgICAgICBsZXQgbGFiZWxzO1xuICAgICAgICBsZXQgc2VsZWN0ZWRFbnZpcm9ubWVudDtcbiAgICAgICAgbGV0IHN3YWdnZXI7XG4gICAgICAgIGxldCBwcm9kdWN0aW9uQWNjZXNzVG9rZW47XG4gICAgICAgIGxldCBzYW5kYm94QWNjZXNzVG9rZW47XG5cbiAgICAgICAgdGhpcy5hcGlDbGllbnQgPSBuZXcgQXBpKCk7XG4gICAgICAgIGNvbnN0IHByb21pc2VBUEkgPSB0aGlzLmFwaUNsaWVudC5nZXRBUElCeUlkKGFwaUlEKTtcblxuICAgICAgICBwcm9taXNlQVBJXG4gICAgICAgICAgICAudGhlbigoYXBpUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBhcGlEYXRhID0gYXBpUmVzcG9uc2Uub2JqO1xuICAgICAgICAgICAgICAgIGlmIChhcGlEYXRhLmVuZHBvaW50VVJMcykge1xuICAgICAgICAgICAgICAgICAgICBlbnZpcm9ubWVudHMgPSBhcGlEYXRhLmVuZHBvaW50VVJMcy5tYXAoKGVuZHBvaW50KSA9PiB7IHJldHVybiBlbmRwb2ludC5lbnZpcm9ubWVudE5hbWU7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250YWluZXJNbmdFbnZpcm9ubWVudHMgPSBhcGlEYXRhLmluZ3Jlc3NVUkxzO1xuICAgICAgICAgICAgICAgIGlmIChhcGlEYXRhLmxhYmVscykge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbHMgPSBhcGlEYXRhLmxhYmVscy5tYXAoKGxhYmVsKSA9PiB7IHJldHVybiBsYWJlbC5uYW1lOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFwaURhdGEuc2NvcGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjb3BlTGlzdCA9IGFwaURhdGEuc2NvcGVzLm1hcCgoc2NvcGUpID0+IHsgcmV0dXJuIHNjb3BlLmtleTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzY29wZXM6IHNjb3BlTGlzdCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVudmlyb25tZW50cyAmJiBlbnZpcm9ubWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBbc2VsZWN0ZWRFbnZpcm9ubWVudF0gPSBlbnZpcm9ubWVudHM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFwaUNsaWVudC5nZXRTd2FnZ2VyQnlBUElJZEFuZEVudmlyb25tZW50KGFwaUlELCBzZWxlY3RlZEVudmlyb25tZW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lck1uZ0Vudmlyb25tZW50c1xuICAgICAgICAgICAgICAgICAgICAmJiBjb250YWluZXJNbmdFbnZpcm9ubWVudHMuc29tZSgoZW52KSA9PiBlbnYuY2x1c3RlckRldGFpbHMubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjbHVzdGVyRGV0YWlsczogW3sgY2x1c3Rlck5hbWUgfV0gfSA9IGNvbnRhaW5lck1uZ0Vudmlyb25tZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoKGVudikgPT4gZW52LmNsdXN0ZXJEZXRhaWxzLmxlbmd0aCA+IDApO1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVudmlyb25tZW50ID0gY2x1c3Rlck5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFwaUNsaWVudC5nZXRTd2FnZ2VyQnlBUElJZEFuZENsdXN0ZXJOYW1lKGFwaUlELCBjbHVzdGVyTmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsYWJlbHMgJiYgbGFiZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgW3NlbGVjdGVkRW52aXJvbm1lbnRdID0gbGFiZWxzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hcGlDbGllbnQuZ2V0U3dhZ2dlckJ5QVBJSWRBbmRMYWJlbChhcGlJRCwgc2VsZWN0ZWRFbnZpcm9ubWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBpQ2xpZW50LmdldFN3YWdnZXJCeUFQSUlkKGFwaUlEKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHN3YWdnZXJSZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHN3YWdnZXIgPSBzd2FnZ2VyUmVzcG9uc2Uub2JqO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBhcGk6IGFwaURhdGEsXG4gICAgICAgICAgICAgICAgICAgIHN3YWdnZXIsXG4gICAgICAgICAgICAgICAgICAgIGVudmlyb25tZW50cyxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTW5nRW52aXJvbm1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbHMsXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Rpb25BY2Nlc3NUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgc2FuZGJveEFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVudmlyb25tZW50LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh1c2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBpQ2xpZW50LmdldFN1YnNjcmlwdGlvbnMoYXBpSUQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgc3RhdHVzIH0gPSBlcnJvcjtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG5vdEZvdW5kOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBTZWN1cml0eVNjaGVtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJvZiBBcGlDb25zb2xlXG4gICAgICovXG4gICAgc2V0U2VjdXJpdHlTY2hlbWUoc2VjdXJpdHlTY2hlbWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlY3VyaXR5U2NoZW1lVHlwZTogc2VjdXJpdHlTY2hlbWUgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IFNlbGVjdGVkIEVudmlyb25tZW50XG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICBzZXRTZWxlY3RlZEVudmlyb25tZW50KHNlbGVjdGVkRW52aXJvbm1lbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkRW52aXJvbm1lbnQgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IFByb2R1Y3Rpb24gQWNjZXNzIFRva2VuXG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICBzZXRQcm9kdWN0aW9uQWNjZXNzVG9rZW4ocHJvZHVjdGlvbkFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwcm9kdWN0aW9uQWNjZXNzVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IFNhbmRib3ggQWNjZXNzIFRva2VuXG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICBzZXRTYW5kYm94QWNjZXNzVG9rZW4oc2FuZGJveEFjY2Vzc1Rva2VuKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzYW5kYm94QWNjZXNzVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IFByb2R1Y3Rpb24gQVBJIEtleVxuICAgICAqIEBtZW1iZXJvZiBBcGlDb25zb2xlXG4gICAgICovXG4gICAgc2V0UHJvZHVjdGlvbkFwaUtleShwcm9kdWN0aW9uQXBpS2V5KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwcm9kdWN0aW9uQXBpS2V5IH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBTYW5kYm94IEFQSSBLZXlcbiAgICAgKiBAbWVtYmVyb2YgQXBpQ29uc29sZVxuICAgICAqL1xuICAgIHNldFNhbmRib3hBcGlLZXkoc2FuZGJveEFwaUtleSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2FuZGJveEFwaUtleSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgVXNlcm5hbWVcbiAgICAgKiBAbWVtYmVyb2YgQXBpQ29uc29sZVxuICAgICAqL1xuICAgIHNldFVzZXJuYW1lKHVzZXJuYW1lKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB1c2VybmFtZSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgUGFzc3dvcmRcbiAgICAgKiBAbWVtYmVyb2YgQXBpQ29uc29sZVxuICAgICAqL1xuICAgIHNldFBhc3N3b3JkKHBhc3N3b3JkKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBwYXNzd29yZCB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgUGFzc3dvcmRcbiAgICAgKiBAbWVtYmVyb2YgQXBpQ29uc29sZVxuICAgICAqL1xuICAgIHNldFNlbGVjdGVkS2V5VHlwZShzZWxlY3RlZEtleVR5cGUsIGlzVXBkYXRlVG9rZW4sIHNlbGVjdGVkQXBwbGljYXRpb24pIHtcbiAgICAgICAgaWYgKGlzVXBkYXRlVG9rZW4pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEtleVR5cGUgfSwgdGhpcy51cGRhdGVBY2Nlc3NUb2tlbihzZWxlY3RlZEFwcGxpY2F0aW9uKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRLZXlUeXBlIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IFBhc3N3b3JkXG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICBzZXRTZWxlY3RlZEtleU1hbmFnZXIoc2VsZWN0ZWRLZXlNYW5hZ2VyLCBpc1VwZGF0ZVRva2VuLCBzZWxlY3RlZEFwcGxpY2F0aW9uKSB7XG4gICAgICAgIGlmIChpc1VwZGF0ZVRva2VuKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRLZXlNYW5hZ2VyIH0sIHRoaXMudXBkYXRlQWNjZXNzVG9rZW4oc2VsZWN0ZWRBcHBsaWNhdGlvbikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkS2V5TWFuYWdlciB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEtleXMoa2V5cykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsga2V5cyB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIHRoZSBhY2Nlc3MgdG9rZW4gZm9yIGdpdmVuIGtleSB0eXBlXG4gICAgICogQG1lbWJlcm9mIFRyeU91dENvbnRyb2xsZXJcbiAgICAgKi9cbiAgICB1cGRhdGVBY2Nlc3NUb2tlbihzZWxlY3RlZEFwcGxpY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHNlbGVjdGVkS2V5VHlwZSwgc2VsZWN0ZWRLZXlNYW5hZ2VyLCBrZXlzLFxuICAgICAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgbGV0IGFjY2Vzc1Rva2VuO1xuICAgICAgICBpZiAoa2V5cy5nZXQoc2VsZWN0ZWRLZXlNYW5hZ2VyKSAmJiBrZXlzLmdldChzZWxlY3RlZEtleU1hbmFnZXIpLmtleVR5cGUgPT09IHNlbGVjdGVkS2V5VHlwZSkge1xuICAgICAgICAgICAgKHsgYWNjZXNzVG9rZW4gfSA9IGtleXMuZ2V0KHNlbGVjdGVkS2V5TWFuYWdlcikudG9rZW4pO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkS2V5VHlwZSA9PT0gJ1BST0RVQ1RJT04nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQcm9kdWN0aW9uQWNjZXNzVG9rZW4oYWNjZXNzVG9rZW4pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNhbmRib3hBY2Nlc3NUb2tlbihhY2Nlc3NUb2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBBcHBsaWNhdGlvbi5nZXQoc2VsZWN0ZWRBcHBsaWNhdGlvbilcbiAgICAgICAgICAgICAgICAudGhlbigoYXBwbGljYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcGxpY2F0aW9uLmdldEtleXMoc2VsZWN0ZWRLZXlUeXBlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChhcHBLZXlzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBLZXlzLmdldChzZWxlY3RlZEtleU1hbmFnZXIpXG4gICAgICAgICAgICAgICAgICAgICYmIGFwcEtleXMuZ2V0KHNlbGVjdGVkS2V5TWFuYWdlcikua2V5VHlwZSA9PT0gc2VsZWN0ZWRLZXlUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoeyBhY2Nlc3NUb2tlbiB9ID0gYXBwS2V5cy5nZXQoc2VsZWN0ZWRLZXlNYW5hZ2VyKS50b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcEtleXMuZ2V0KHNlbGVjdGVkS2V5TWFuYWdlcikua2V5VHlwZSA9PT0gJ1BST0RVQ1RJT04nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFByb2R1Y3Rpb25BY2Nlc3NUb2tlbihhY2Nlc3NUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNhbmRib3hBY2Nlc3NUb2tlbihhY2Nlc3NUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlzKGFwcEtleXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBQcm92aWRzIHRoZSBhY2Nlc3MgdG9rZW4gdG8gdGhlIFN3YWdnZXIgVUlcbiAgICAgKiBAcmV0dXJucyB7Kn0gYWNjZXNzIHRva2VuXG4gICAgICogQG1lbWJlcm9mIEFwaUNvbnNvbGVcbiAgICAgKi9cbiAgICBhY2Nlc3NUb2tlblByb3ZpZGVyKCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBzZWN1cml0eVNjaGVtZVR5cGUsIHVzZXJuYW1lLCBwYXNzd29yZCwgcHJvZHVjdGlvbkFjY2Vzc1Rva2VuLFxuICAgICAgICAgICAgc2FuZGJveEFjY2Vzc1Rva2VuLCBzZWxlY3RlZEtleVR5cGUsIHByb2R1Y3Rpb25BcGlLZXksIHNhbmRib3hBcGlLZXksXG4gICAgICAgIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoc2VjdXJpdHlTY2hlbWVUeXBlID09PSAnQkFTSUMnKSB7XG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFscyA9IHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQ7XG4gICAgICAgICAgICByZXR1cm4gYnRvYShjcmVkZW50aWFscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlY3VyaXR5U2NoZW1lVHlwZSA9PT0gJ0FQSS1LRVknKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRLZXlUeXBlID09PSAnUFJPRFVDVElPTicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvZHVjdGlvbkFwaUtleTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNhbmRib3hBcGlLZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRLZXlUeXBlID09PSAnUFJPRFVDVElPTicpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9kdWN0aW9uQWNjZXNzVG9rZW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2FuZGJveEFjY2Vzc1Rva2VuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZCB0aGUgc3dhZ2dlciBmaWxlIG9mIHRoZSBnaXZlbiBlbnZpcm9ubWVudFxuICAgICAqIEBtZW1iZXJvZiBBcGlDb25zb2xlXG4gICAgICovXG4gICAgdXBkYXRlU3dhZ2dlcihlbnZpcm9ubWVudCkge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBhcGksIGVudmlyb25tZW50cywgY29udGFpbmVyTW5nRW52aXJvbm1lbnRzLFxuICAgICAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgbGV0IHByb21pc2VTd2FnZ2VyO1xuXG4gICAgICAgIGlmIChlbnZpcm9ubWVudCkge1xuICAgICAgICAgICAgaWYgKGVudmlyb25tZW50cy5pbmNsdWRlcyhlbnZpcm9ubWVudCkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlU3dhZ2dlciA9IHRoaXMuYXBpQ2xpZW50LmdldFN3YWdnZXJCeUFQSUlkQW5kRW52aXJvbm1lbnQoYXBpLmlkLCBlbnZpcm9ubWVudCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRhaW5lck1uZ0Vudmlyb25tZW50cy5zb21lKChlbnYpID0+IGVudi5jbHVzdGVyRGV0YWlscy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgJiYgZW52LmNsdXN0ZXJEZXRhaWxzLnNvbWUoKGNsdXN0ZXIpID0+IGNsdXN0ZXIuY2x1c3Rlck5hbWUgPT09IGVudmlyb25tZW50KSkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlU3dhZ2dlciA9IHRoaXMuYXBpQ2xpZW50LmdldFN3YWdnZXJCeUFQSUlkQW5kQ2x1c3Rlck5hbWUoYXBpLmlkLCBlbnZpcm9ubWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb21pc2VTd2FnZ2VyID0gdGhpcy5hcGlDbGllbnQuZ2V0U3dhZ2dlckJ5QVBJSWRBbmRMYWJlbChhcGkuaWQsIGVudmlyb25tZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2VTd2FnZ2VyID0gdGhpcy5hcGlDbGllbnQuZ2V0U3dhZ2dlckJ5QVBJSWQoYXBpLmlkKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9taXNlU3dhZ2dlci50aGVuKChzd2FnZ2VyUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzd2FnZ2VyOiBzd2FnZ2VyUmVzcG9uc2Uub2JqIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdGRvY1xuICAgICAqIEBtZW1iZXJvZiBBcGlDb25zb2xlXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7IGNsYXNzZXMgfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGFwaSwgbm90Rm91bmQsIHN3YWdnZXIsIHNlY3VyaXR5U2NoZW1lVHlwZSwgc2VsZWN0ZWRFbnZpcm9ubWVudCwgbGFiZWxzLCBlbnZpcm9ubWVudHMsIHNjb3BlcyxcbiAgICAgICAgICAgIHVzZXJuYW1lLCBwYXNzd29yZCwgcHJvZHVjdGlvbkFjY2Vzc1Rva2VuLCBzYW5kYm94QWNjZXNzVG9rZW4sIHNlbGVjdGVkS2V5VHlwZSxcbiAgICAgICAgICAgIHNhbmRib3hBcGlLZXksIHByb2R1Y3Rpb25BcGlLZXksIHNlbGVjdGVkS2V5TWFuYWdlciwgY29udGFpbmVyTW5nRW52aXJvbm1lbnRzLFxuICAgICAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgY29uc3QgdXNlciA9IEF1dGhNYW5hZ2VyLmdldFVzZXIoKTtcbiAgICAgICAgY29uc3QgZG93bmxvYWRTd2FnZ2VyID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5zd2FnZ2VyIH0pO1xuICAgICAgICBjb25zdCBkb3dubG9hZExpbmsgPSAnZGF0YTp0ZXh0L2pzb247Y2hhcnNldD11dGYtOCwgJyArIGVuY29kZVVSSUNvbXBvbmVudChkb3dubG9hZFN3YWdnZXIpO1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9ICdzd2FnZ2VyLmpzb24nO1xuXG4gICAgICAgIGlmIChhcGkgPT0gbnVsbCB8fCBzd2FnZ2VyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiA8UHJvZ3Jlc3MgLz47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdEZvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gJ0FQSSBOb3QgZm91bmQgISc7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlzQXBpS2V5RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgYXV0aG9yaXphdGlvbkhlYWRlciA9IGFwaS5hdXRob3JpemF0aW9uSGVhZGVyID8gYXBpLmF1dGhvcml6YXRpb25IZWFkZXIgOiAnQXV0aG9yaXphdGlvbic7XG4gICAgICAgIGlmIChhcGkgJiYgYXBpLnNlY3VyaXR5U2NoZW1lKSB7XG4gICAgICAgICAgICBpc0FwaUtleUVuYWJsZWQgPSBhcGkuc2VjdXJpdHlTY2hlbWUuaW5jbHVkZXMoJ2FwaV9rZXknKTtcbiAgICAgICAgICAgIGlmIChpc0FwaUtleUVuYWJsZWQgJiYgc2VjdXJpdHlTY2hlbWVUeXBlID09PSAnQVBJLUtFWScpIHtcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uSGVhZGVyID0gJ2FwaWtleSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNQcm90b3R5cGVkQVBJID0gYXBpLmxpZmVDeWNsZVN0YXR1cyAmJiBhcGkubGlmZUN5Y2xlU3RhdHVzLnRvTG93ZXJDYXNlKCkgPT09ICdwcm90b3R5cGVkJztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD0naDQnIGNsYXNzTmFtZT17Y2xhc3Nlcy50aXRsZVN1Yn0+XG4gICAgICAgICAgICAgICAgICAgIDxGb3JtYXR0ZWRNZXNzYWdlIGlkPSdBcGlzLkRldGFpbHMuQXBpQ29uc29sZS5BcGlDb25zb2xlLnRpdGxlJyBkZWZhdWx0TWVzc2FnZT0nVHJ5IE91dCcgLz5cbiAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgPFBhcGVyIGNsYXNzTmFtZT17Y2xhc3Nlcy5wYXBlcn0+XG4gICAgICAgICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBjbGFzc05hbWU9e2NsYXNzZXMuZ3JpZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7IWlzUHJvdG90eXBlZEFQSSAmJiAhdXNlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBtZD17Nn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXBlciBjbGFzc05hbWU9e2NsYXNzZXMudXNlck5vdGlmaWNhdGlvblBhcGVyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9J2g1JyBjb21wb25lbnQ9J2gzJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbj53YXJuaW5nPC9JY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsnICd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2UgaWQ9J25vdGljZScgZGVmYXVsdE1lc3NhZ2U9J05vdGljZScgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IGNvbXBvbmVudD0ncCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1hdHRlZE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9J2FwaS5jb25zb2xlLnJlcXVpcmUuYWNjZXNzLnRva2VuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZT17J1lvdSBuZWVkIGFuIGFjY2VzcyB0b2tlbiB0byB0cnkgdGhlIEFQSS4gUGxlYXNlIGxvZyAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJ2luIGFuZCBzdWJzY3JpYmUgdG8gdGhlIEFQSSB0byBnZW5lcmF0ZSBhbiBhY2Nlc3MgdG9rZW4uIElmIHlvdSBhbHJlYWR5ICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnaGF2ZSBhbiBhY2Nlc3MgdG9rZW4sIHBsZWFzZSBwcm92aWRlIGl0IGJlbG93Lid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9QYXBlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG5cbiAgICAgICAgICAgICAgICAgICAgPFRyeU91dENvbnRyb2xsZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlY3VyaXR5U2NoZW1lPXt0aGlzLnNldFNlY3VyaXR5U2NoZW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHlTY2hlbWVUeXBlPXtzZWN1cml0eVNjaGVtZVR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEVudmlyb25tZW50PXt0aGlzLnNldFNlbGVjdGVkRW52aXJvbm1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEVudmlyb25tZW50PXtzZWxlY3RlZEVudmlyb25tZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdGlvbkFjY2Vzc1Rva2VuPXtwcm9kdWN0aW9uQWNjZXNzVG9rZW59XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQcm9kdWN0aW9uQWNjZXNzVG9rZW49e3RoaXMuc2V0UHJvZHVjdGlvbkFjY2Vzc1Rva2VufVxuICAgICAgICAgICAgICAgICAgICAgICAgc2FuZGJveEFjY2Vzc1Rva2VuPXtzYW5kYm94QWNjZXNzVG9rZW59XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTYW5kYm94QWNjZXNzVG9rZW49e3RoaXMuc2V0U2FuZGJveEFjY2Vzc1Rva2VufVxuICAgICAgICAgICAgICAgICAgICAgICAgc3dhZ2dlcj17c3dhZ2dlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVscz17bGFiZWxzfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyTW5nRW52aXJvbm1lbnRzPXtjb250YWluZXJNbmdFbnZpcm9ubWVudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnZpcm9ubWVudHM9e2Vudmlyb25tZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3Blcz17c2NvcGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXNlcm5hbWU9e3RoaXMuc2V0VXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQYXNzd29yZD17dGhpcy5zZXRQYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lPXt1c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPXtwYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkS2V5VHlwZT17dGhpcy5zZXRTZWxlY3RlZEtleVR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEtleVR5cGU9e3NlbGVjdGVkS2V5VHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkS2V5TWFuYWdlcj17dGhpcy5zZXRTZWxlY3RlZEtleU1hbmFnZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEtleU1hbmFnZXI9e3NlbGVjdGVkS2V5TWFuYWdlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN3YWdnZXI9e3RoaXMudXBkYXRlU3dhZ2dlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEtleXM9e3RoaXMuc2V0S2V5c31cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFByb2R1Y3Rpb25BcGlLZXk9e3RoaXMuc2V0UHJvZHVjdGlvbkFwaUtleX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNhbmRib3hBcGlLZXk9e3RoaXMuc2V0U2FuZGJveEFwaUtleX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Rpb25BcGlLZXk9e3Byb2R1Y3Rpb25BcGlLZXl9XG4gICAgICAgICAgICAgICAgICAgICAgICBzYW5kYm94QXBpS2V5PXtzYW5kYm94QXBpS2V5fVxuICAgICAgICAgICAgICAgICAgICAgICAgYXBpPXt0aGlzLnN0YXRlLmFwaX1cbiAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8R3JpZCB4cz17MTB9IGl0ZW0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIHhzPXsyfSBpdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2Rvd25sb2FkTGlua30gZG93bmxvYWQ9e2ZpbGVOYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPSdzbWFsbCc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvdWREb3dubG9hZFJvdW5kZWQgY2xhc3NOYW1lPXtjbGFzc2VzLmJ1dHRvbkljb259IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybWF0dGVkTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPSdBcGlzLkRldGFpbHMuQVBJQ29uc29sZS5BUElDb25zb2xlLmRvd25sb2FkLnN3YWdnZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2U9J1N3YWdnZXIgKCAvc3dhZ2dlci5qc29uICknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICA8L1BhcGVyPlxuICAgICAgICAgICAgICAgIDxQYXBlciBjbGFzc05hbWU9e2NsYXNzZXMuc3dhZ2dlclVJUGFwZXJ9PlxuICAgICAgICAgICAgICAgICAgICA8U3dhZ2dlclVJXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGk9e3RoaXMuc3RhdGUuYXBpfVxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW5Qcm92aWRlcj17dGhpcy5hY2Nlc3NUb2tlblByb3ZpZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3BlYz17c3dhZ2dlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25IZWFkZXI9e2F1dGhvcml6YXRpb25IZWFkZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN1cml0eVNjaGVtZVR5cGU9e3NlY3VyaXR5U2NoZW1lVHlwZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L1BhcGVyPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5BcGlDb25zb2xlLnByb3BUeXBlcyA9IHtcbiAgICBjbGFzc2VzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICBwYXBlcjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICB0aXRsZVN1YjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICBncmlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgIHVzZXJOb3RpZmljYXRpb25QYXBlcjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICBidXR0b25JY29uOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgfSkuaXNSZXF1aXJlZCxcbn07XG5cbkFwaUNvbnNvbGUuY29udGV4dFR5cGUgPSBBcGlDb250ZXh0O1xuXG5leHBvcnQgZGVmYXVsdCB3aXRoU3R5bGVzKHN0eWxlcykoQXBpQ29uc29sZSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBREE7QUExQkE7QUFBQTtBQStCQTs7Ozs7Ozs7QUFNQTs7Ozs7QUFDQTs7Ozs7QUFLQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFCQTtBQTJCQTtBQUVBOzs7Ozs7O0FBR0E7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUZBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBSUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFEQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUZBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE1QkE7QUErQkE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUZBO0FBU0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVVBOzs7O0FBNVpBO0FBQ0E7QUE4WkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQURBO0FBVUE7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/src/app/components/Apis/Details/ApiConsole/ApiConsole.jsx\n");

/***/ }),

/***/ "./source/src/app/components/Apis/Details/ApiConsole/SwaggerUI.jsx":
/*!*************************************************************************!*\
  !*** ./source/src/app/components/Apis/Details/ApiConsole/SwaggerUI.jsx ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var swagger_ui_react_swagger_ui_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! swagger-ui-react/swagger-ui.css */ \"./node_modules/swagger-ui-react/swagger-ui.css\");\n/* harmony import */ var swagger_ui_react_swagger_ui_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(swagger_ui_react_swagger_ui_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var swagger_ui_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! swagger-ui-react */ \"./node_modules/swagger-ui-react/index.js\");\n/* harmony import */ var swagger_ui_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(swagger_ui_react__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\nvar disableAuthorizeAndInfoPlugin = function disableAuthorizeAndInfoPlugin() {\n  return {\n    wrapComponents: {\n      info: function info() {\n        return function () {\n          return null;\n        };\n      },\n      authorizeBtn: function authorizeBtn() {\n        return function () {\n          return null;\n        };\n      }\n    }\n  };\n};\n/**\n *\n * @class SwaggerUI\n * @extends {Component}\n */\n\n\nvar SwaggerUI = function SwaggerUI(props) {\n  var spec = props.spec,\n      accessTokenProvider = props.accessTokenProvider,\n      authorizationHeader = props.authorizationHeader,\n      api = props.api,\n      securitySchemeType = props.securitySchemeType;\n  var componentProps = {\n    spec: spec,\n    validatorUrl: null,\n    defaultModelsExpandDepth: -1,\n    docExpansion: 'list',\n    requestInterceptor: function requestInterceptor(req) {\n      var url = req.url;\n      var context = api.context;\n      var patternToCheck = \"\".concat(context, \"/*\");\n\n      if (authorizationHeader === 'apikey') {\n        req.headers[authorizationHeader] = accessTokenProvider();\n      } else if (securitySchemeType === 'BASIC') {\n        req.headers[authorizationHeader] = 'Basic ' + accessTokenProvider();\n      } else if (securitySchemeType === 'TEST') {\n        req.headers[authorizationHeader] = accessTokenProvider();\n      } else {\n        req.headers[authorizationHeader] = 'Bearer ' + accessTokenProvider();\n      }\n\n      if (url.endsWith(patternToCheck)) {\n        req.url = url.substring(0, url.length - 2);\n      } else if (url.includes(patternToCheck + '?')) {\n        // Check for query parameters.\n        var splitTokens = url.split('/*?');\n        req.url = splitTokens.length > 1 ? splitTokens[0] + '?' + splitTokens[1] : splitTokens[0];\n      }\n\n      return req;\n    },\n    defaultModelExpandDepth: -1,\n    plugins: [disableAuthorizeAndInfoPlugin]\n  };\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(swagger_ui_react__WEBPACK_IMPORTED_MODULE_3___default.a, componentProps);\n};\n\nSwaggerUI.propTypes = {\n  accessTokenProvider: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,\n  authorizationHeader: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  api: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({\n    context: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n  }).isRequired,\n  spec: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (SwaggerUI);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zb3VyY2Uvc3JjL2FwcC9jb21wb25lbnRzL0FwaXMvRGV0YWlscy9BcGlDb25zb2xlL1N3YWdnZXJVSS5qc3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2Uvc3JjL2FwcC9jb21wb25lbnRzL0FwaXMvRGV0YWlscy9BcGlDb25zb2xlL1N3YWdnZXJVSS5qc3g/NzFkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAnc3dhZ2dlci11aS1yZWFjdC9zd2FnZ2VyLXVpLmNzcyc7XG5pbXBvcnQgU3dhZ2dlclVJTGliIGZyb20gJ3N3YWdnZXItdWktcmVhY3QnO1xuXG5jb25zdCBkaXNhYmxlQXV0aG9yaXplQW5kSW5mb1BsdWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB3cmFwQ29tcG9uZW50czoge1xuICAgICAgICAgICAgaW5mbzogKCkgPT4gKCkgPT4gbnVsbCxcbiAgICAgICAgICAgIGF1dGhvcml6ZUJ0bjogKCkgPT4gKCkgPT4gbnVsbCxcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbi8qKlxuICpcbiAqIEBjbGFzcyBTd2FnZ2VyVUlcbiAqIEBleHRlbmRzIHtDb21wb25lbnR9XG4gKi9cbmNvbnN0IFN3YWdnZXJVSSA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgc3BlYywgYWNjZXNzVG9rZW5Qcm92aWRlciwgYXV0aG9yaXphdGlvbkhlYWRlciwgYXBpLCBzZWN1cml0eVNjaGVtZVR5cGUsXG4gICAgfSA9IHByb3BzO1xuXG4gICAgY29uc3QgY29tcG9uZW50UHJvcHMgPSB7XG4gICAgICAgIHNwZWMsXG4gICAgICAgIHZhbGlkYXRvclVybDogbnVsbCxcbiAgICAgICAgZGVmYXVsdE1vZGVsc0V4cGFuZERlcHRoOiAtMSxcbiAgICAgICAgZG9jRXhwYW5zaW9uOiAnbGlzdCcsXG4gICAgICAgIHJlcXVlc3RJbnRlcmNlcHRvcjogKHJlcSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB1cmwgfSA9IHJlcTtcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGV4dCB9ID0gYXBpO1xuICAgICAgICAgICAgY29uc3QgcGF0dGVyblRvQ2hlY2sgPSBgJHtjb250ZXh0fS8qYDtcbiAgICAgICAgICAgIGlmIChhdXRob3JpemF0aW9uSGVhZGVyID09PSAnYXBpa2V5Jykge1xuICAgICAgICAgICAgICAgIHJlcS5oZWFkZXJzW2F1dGhvcml6YXRpb25IZWFkZXJdID0gYWNjZXNzVG9rZW5Qcm92aWRlcigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN1cml0eVNjaGVtZVR5cGUgPT09ICdCQVNJQycpIHtcbiAgICAgICAgICAgICAgICByZXEuaGVhZGVyc1thdXRob3JpemF0aW9uSGVhZGVyXSA9ICdCYXNpYyAnICsgYWNjZXNzVG9rZW5Qcm92aWRlcigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN1cml0eVNjaGVtZVR5cGUgPT09ICdURVNUJykge1xuICAgICAgICAgICAgICAgIHJlcS5oZWFkZXJzW2F1dGhvcml6YXRpb25IZWFkZXJdID0gYWNjZXNzVG9rZW5Qcm92aWRlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXEuaGVhZGVyc1thdXRob3JpemF0aW9uSGVhZGVyXSA9ICdCZWFyZXIgJyArIGFjY2Vzc1Rva2VuUHJvdmlkZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1cmwuZW5kc1dpdGgocGF0dGVyblRvQ2hlY2spKSB7XG4gICAgICAgICAgICAgICAgcmVxLnVybCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxlbmd0aCAtIDIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1cmwuaW5jbHVkZXMocGF0dGVyblRvQ2hlY2sgKyAnPycpKSB7IC8vIENoZWNrIGZvciBxdWVyeSBwYXJhbWV0ZXJzLlxuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0VG9rZW5zID0gdXJsLnNwbGl0KCcvKj8nKTtcbiAgICAgICAgICAgICAgICByZXEudXJsID0gc3BsaXRUb2tlbnMubGVuZ3RoID4gMSA/IHNwbGl0VG9rZW5zWzBdICsgJz8nICsgc3BsaXRUb2tlbnNbMV0gOiBzcGxpdFRva2Vuc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXE7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRNb2RlbEV4cGFuZERlcHRoOiAtMSxcbiAgICAgICAgcGx1Z2luczogW2Rpc2FibGVBdXRob3JpemVBbmRJbmZvUGx1Z2luXSxcbiAgICB9O1xuICAgIHJldHVybiA8U3dhZ2dlclVJTGliIHsuLi5jb21wb25lbnRQcm9wc30gLz47XG59O1xuXG5Td2FnZ2VyVUkucHJvcFR5cGVzID0ge1xuICAgIGFjY2Vzc1Rva2VuUHJvdmlkZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgYXV0aG9yaXphdGlvbkhlYWRlcjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGFwaTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgY29udGV4dDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgc3BlYzogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxufTtcbmV4cG9ydCBkZWZhdWx0IFN3YWdnZXJVSTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFEQTtBQU1BO0FBQ0E7Ozs7Ozs7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBM0JBO0FBNkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBTkE7QUFRQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./source/src/app/components/Apis/Details/ApiConsole/SwaggerUI.jsx\n");

/***/ }),

/***/ 2:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* (ignored) *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy91dGlsIChpZ25vcmVkKT8xOGE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIChpZ25vcmVkKSAqLyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n");

/***/ }),

/***/ 3:
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/* (ignored) *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy91dGlsIChpZ25vcmVkKT8yOTRjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIChpZ25vcmVkKSAqLyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ })

}]);