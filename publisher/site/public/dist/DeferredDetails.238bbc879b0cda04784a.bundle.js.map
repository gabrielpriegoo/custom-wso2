{"version":3,"sources":["webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./source/src/app/components/Shared/testconsole.css?6ce1","webpack:///./source/src/app/components/Shared/testconsole.css","webpack:///./source/src/app/components/Shared/LeftMenuItem.jsx","webpack:///./source/src/app/components/Apis/Details/components/LastUpdatedTime.jsx","webpack:///./source/src/app/components/Apis/Details/NewOverview/Resources.jsx","webpack:///./source/src/app/components/Apis/Details/NewOverview/Operations.jsx","webpack:///./source/src/app/components/Apis/Details/NewOverview/ProductResources.jsx","webpack:///./source/src/app/data/stringFormatter.js","webpack:///./source/src/app/components/Apis/Details/NewOverview/Policies.jsx","webpack:///./source/src/app/components/Apis/Details/NewOverview/Configuration.jsx","webpack:///./source/src/app/components/Apis/Details/NewOverview/CustomizedStepper.jsx","webpack:///./source/src/app/components/Apis/Details/NewOverview/BusinessInformation.jsx","webpack:///./source/src/app/components/Apis/Details/NewOverview/MetaData.jsx","webpack:///./source/src/app/components/Apis/Details/NewOverview/Endpoints.jsx","webpack:///./source/src/app/components/Apis/Details/NewOverview/Overview.jsx","webpack:///./source/src/app/components/Apis/Listing/components/ImageGenerator/ThumbnailView.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/DefaultVersion.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/Description.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/AccessControl.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/StoreVisibility.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/Tags.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/APICategories.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/DesignConfigurations.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/ResponseCaching.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/CORSConfiguration.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/SchemaValidation.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/MaxBackendTps.jsx","webpack:///./source/src/app/components/Apis/Details/MediationPolicies/EditMediationPolicy.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/Flow.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/Endpoints.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/APISecurity/components/apiSecurityConstants.js","webpack:///./source/src/app/components/Apis/Details/Configuration/components/AuthorizationHeader.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/KeyManager.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/APISecurity/components/ApplicationLevel.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/GeneralConfiguration/SelectEndpoint.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/GeneralConfiguration/UploadCertificate.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/GeneralConfiguration/Certificates.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/Transports.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/APISecurity/components/TransportLevel.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/APISecurity/APISecurity.jsx","webpack:///./source/src/app/components/Apis/Details/QueryAnalysis/UpdateComplexity.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/QueryAnalysis.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/RuntimeConfiguration.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/components/APILevelRateLimitingPolicies.jsx","webpack:///./source/src/app/components/Apis/Details/Configuration/RuntimeConfigurationWebSocket.jsx","webpack:///./source/src/app/components/Apis/Details/LifeCycle/LifeCycleImage.jsx","webpack:///./source/src/app/components/Apis/Details/LifeCycle/CheckboxLabels.jsx","webpack:///./source/src/app/components/Apis/Details/LifeCycle/LifecyclePending.jsx","webpack:///./source/src/app/components/Apis/Details/LifeCycle/LifeCycleUpdate.jsx","webpack:///./source/src/app/components/Apis/Details/LifeCycle/LifeCycleHistory.jsx","webpack:///./source/src/app/components/Apis/Details/LifeCycle/LifeCycle.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/CreateEditForm.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/GoToEdit.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/Create.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/MarkdownEditor.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/Edit.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/Delete.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/DeleteMultiple.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/Download.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/Listing.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/View.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/EditContent.jsx","webpack:///./source/src/app/components/Apis/Details/Documents/index.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/APIRateLimiting.jsx","webpack:///./source/src/app/components/Apis/Details/Operations/Operation.jsx","webpack:///./source/src/app/components/Apis/Details/Operations/Operations.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/DescriptionAndSummary.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/operationUtils.js","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/OperationGovernance.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/AWSLambdaSettings.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/parameterUtils.js","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/AddParameter.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/RequestBody.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/EditParameter.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/ListParameters.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/Parameters.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/SOAPToREST/CloseConfirmation.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/SOAPToREST/PolicyEditor.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/operationComponents/SOAPToREST/SOAPToRESTListing.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/Operation.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/GroupOfOperations.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/SpecErrors.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/AddOperation.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/GoToDefinitionLink.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/OperationsSelector.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/components/SaveOperations.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/Resources.jsx","webpack:///./source/src/app/components/Apis/Details/Resources/APIOperations.jsx","webpack:///./source/src/app/components/Apis/Details/ProductResources/APIProductOperations.jsx","webpack:///./source/src/app/components/Apis/Details/ProductResources/ProductResourcesEdit.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/NewEndpointCreate.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/Prototype/GenericResource.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/Prototype/InlineEndpoints.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/endpointUtils.js","webpack:///./source/src/app/components/Apis/Details/Endpoints/GeneralConfiguration.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/GenericEndpoint.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/GenericEndpointAdd.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/EndpointListing.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/LoadBalanceConfig.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/LoadbalanceFailoverConfig.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/AdvancedConfig/AdvanceEndpointConfig.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/GeneralConfiguration/EditableParameterRow.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/GeneralConfiguration/EndpointSecurity.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/AWSLambda/Credentials.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/EndpointOverview.jsx","webpack:///./source/src/app/components/Apis/Details/Endpoints/Endpoints.jsx","webpack:///./source/src/app/components/Apis/Details/Environments/MicroGateway.jsx","webpack:///./source/src/app/components/Apis/Details/Environments/Kubernetes.jsx","webpack:///./source/src/app/components/Apis/Details/Environments/Environments.jsx","webpack:///./source/src/app/components/Apis/Details/Subscriptions/Invoice.jsx","webpack:///./source/src/app/components/Apis/Details/Subscriptions/SubscriptionsTable.jsx","webpack:///./source/src/app/components/Apis/Details/Subscriptions/SubscriptionPoliciesManage.jsx","webpack:///./source/src/app/components/Apis/Details/Subscriptions/TenantAutocomplete.jsx","webpack:///./source/src/app/components/Apis/Details/Subscriptions/SubscriptionAvailability.jsx","webpack:///./source/src/app/components/Apis/Details/Subscriptions/Subscriptions.jsx","webpack:///./source/src/app/components/Apis/Details/Comments/CommentAdd.jsx","webpack:///./source/src/app/components/Apis/Details/Comments/CommentEdit.jsx","webpack:///./source/src/app/components/Apis/Details/Comments/CommentOptions.jsx","webpack:///./source/src/app/components/Apis/Details/Comments/CommentReply.jsx","webpack:///./source/src/app/components/Apis/Details/Comments/Comment.jsx","webpack:///./source/src/app/components/Apis/Details/Comments/Comments.jsx","webpack:///./source/src/app/components/Apis/Details/Scopes/CreateScope.jsx","webpack:///./source/src/app/components/Apis/Details/Scopes/EditScope.jsx","webpack:///./source/src/app/components/Apis/Details/Scopes/Delete.jsx","webpack:///./source/src/app/components/Apis/Details/Scopes/Scopes.jsx","webpack:///./source/src/app/components/Apis/Details/Scopes/index.jsx","webpack:///./source/src/app/components/Apis/Details/Security/AddPolicy.jsx","webpack:///./source/src/app/components/Apis/Details/Security/SecurityOverview.jsx","webpack:///./source/src/app/components/Apis/Details/Security/index.jsx","webpack:///./source/src/app/components/Apis/Details/APIDefinition/APISecurityAudit.jsx","webpack:///./source/src/app/components/Apis/Details/APIDefinition/ImportDefinition.jsx","webpack:///./source/src/app/components/Apis/Details/APIDefinition/APIDefinition.jsx","webpack:///./source/src/app/components/Apis/Details/APIDefinition/WSDL.jsx","webpack:///./source/src/app/components/Apis/Details/GoTo/RouteMappings.jsx","webpack:///./source/src/app/components/Apis/Details/GoTo/GoTo.jsx","webpack:///./source/src/app/components/Apis/Details/components/CreateNewVersionButton.jsx","webpack:///./source/src/app/components/Apis/Details/components/APIDetailsTopMenu.jsx","webpack:///./source/src/app/components/Apis/Details/BusinessInformation/BusinessInformation.jsx","webpack:///./source/src/app/components/Apis/Details/Properties/EditableRow.jsx","webpack:///./source/src/app/components/Apis/Details/Properties/Properties.jsx","webpack:///./source/src/app/components/Apis/Details/Monetization/BusinessPlans.jsx","webpack:///./source/src/app/components/Apis/Details/Monetization/index.jsx","webpack:///./source/src/app/components/Apis/Details/ExternalStores/ExternalStores.jsx","webpack:///./source/src/app/components/Apis/Details/NewVersion/NewVersion.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/components/Shared/Progress.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/data/Utils.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/data/User.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/data/Constants.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/data/AuthManager.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/data/APIClient.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/data/APIClientFactory.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/data/Resource.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/data/Wsdl.js","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/data/api.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/data/Application.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/components/Apis/Details/ApiConsole/SelectAppPanel.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/components/Apis/Details/ApiConsole/TryOutController.jsx","webpack:////home/jenkins/workspace/full/wilkinson/carbon-apimgt-6.7.206/features/apimgt/org.wso2.carbon.apimgt.store.feature/src/main/resources/devportal/source/src/app/components/Apis/Details/ApiConsole/SwaggerUI.jsx","webpack:///./source/src/app/components/Apis/Details/TestConsole/TestConsole.jsx","webpack:///./source/src/app/components/Apis/Details/index.jsx"],"names":["map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","content","i","options","transform","locals","push","LeftMenuItem","props","selected","setSelected","useState","classes","theme","Icon","to","history","text","route","routeToCheck","leftMenu","custom","strokeColor","palette","getContrastText","background","iconSize","leftMenuIconSize","ditectCurrentMenu","location","pathname","test1","RegExp","test2","match","useEffect","listen","react_default","a","createElement","react_router_dom","className","classNames","leftLInk","[object Object]","leftLink_IconLeft","style","backgroundColor","appBarSelected","React","cloneElement","leftLink_Icon","noIcon","CustomIcon","width","height","icon","iconText","Typography","leftLInkText","leftLInkText_IconLeft","leftLInkText_NoText","defaultProps","propTypes","PropTypes","shape","divider","string","isRequired","number","func","appBar","element","withRouter","withStyles","color","textTransform","leftMenuTextStyle","textAlign","overflow","textOverflow","whiteSpace","paddingLeft","LeftMenu","leftMenuWidth","fontFamily","typography","position","bottom","left","top","paddingTop","spacing","paddingBottom","paddingRight","fontSize","caption","cursor","textDecoration","display","alignItems","diplay","withTheme","LastUpdatedTime","lastUpdatedTime","float","Tooltip","title","moment","calendar","aria-label","variant","lib","defaultMessage","fromNow","RenderMethodBase","method","chipColor","resourceChipColors","chipTextColor","console","log","Chip","label","toUpperCase","marginRight","RenderMethod","Resources","Component","constructor","super","this","state","paths","restApi","Api","componentDidMount","api","getSwagger","then","response","undefined","obj","setState","catch","error","status","notFound","doRedirectToLogin","render","parentClasses","Fragment","titleWrapper","type","component","Box","p","contentWrapper","key","path","root","heading","innerKey","CONSTS","HTTP_METHODS","includes","subHeading","Launch_default","marginLeft","flexDirection","marginBottom","maxHeight","overflowY","methodLower","toLowerCase","operationChipColor","Operations","ApiContext","Consumer","_ref","Table","padding","operations","length","item","TableRow","borderStyle","TableCell","target","Operations_RenderMethod","verb","py","marginTop","ProductResources","PureComponent","apiResources","apis","margin","resource","name","version","operation","resourceRow","ProductResources_RenderMethod","capitalizeFirstLetter","charAt","slice","lowerCaseString","Policies","Grid","xs","md","lg","subtitle","policies","index","withAPI","HUMAN_READABLE_SCHEMES","oauth2","basic_auth","mutualssl","api_key","Configuration","useContext","APIContext","container","placement","tabIndex","tooltip","htmlTooltip","Button","helpButton","HelpOutline_default","helpIcon","transport","upperCaseString","notConfigured","securityScheme","filter","filteredItem","join","accessControl","accessControlRoles","workflowStatus","visibility","visibleRoles","NewOverview_Policies","apiType","API","APIProduct","tags","tag","font-size","useStyles","makeStyles","button","secondary","gridRequirements","justifyContent","gridSmall","gridEndpoint","iconTrue","green","iconFalse","grey","arrowIcon","right","default","zIndex","overviewArrow","flexBasis","maxWidth","stepper","box","borderRight","pointerStart","overviewStepper","backgrounds","completed","&:before","borderLeft","borderLeftColor","borderTop","borderBottom","pointerMiddle","active","&:after","wrapperBackground","pointerEnd","inactive","pointerMiddleCompleted","pointerEndActive","pointerEndCompleted","stepIcon","CustomizedSteppers","updateAPI","useAPI","settings","user","useAppContext","isEndpointAvailable","endpointConfig","isTierAvailable","isPrototypedAvailable","implementation_status","lifecycleState","setlifecycleState","isUpdating","setUpdating","tenantList","userNameSplit","split","tenantDomain","devportalUrl","concat","storeUrl","updateLCStateOfAPI","apiId","updateLcState","Alert","body","description","info","finally","errorResponse","JSON","stringify","message","getLcState","result","activeStep","step2Class","step3Class","Stepper","alternativeLabel","Step","StepLabel","StepIconProps","Check_default","Close_default","rel","href","viewInStoreLauncher","onClick","disabled","AuthManager","isNotPublisher","CircularProgress","size","finalLifecycleState","BusinessInformation","businessInformation","businessOwner","technicalOwner","contextType","MetaData","provider","context","createdTime","interactive","NewOverview_BusinessInformation","showEndpoint","getProductionEndpoint","getSandboxEndpoint","Endpoints","url","endpointSecurity","Overview","newApi","loadEndpoints","NewOverview_Endpoints","align","mainTitle","s","Paper","NewOverview_MetaData","NewOverview_Configuration","specialGap","NewOverview_Operations","NewOverview_ProductResources","NewOverview_Resources","getResourcesClassForAPIs","_objectSpread","mixins","gutters","buttonSuccess","&:hover","checkItem","chip","& span","imageContainer","imageWrapper","resourceTitle","ListRoot","flex","minWidth","pxToRem","border","& b","fontWeight","fontWeightMedium","lifecycleWrapper","lifecycleIcon","leftSideWrapper","windowURL","window","URL","webkitURL","dropzoneStyles","borderRadius","Transition","Slide","_extends","direction","ThumbnailView","ThumbnailView_defineProperty","action","intl","open","selectedTab","selectedIconUpdate","category","colorUpdate","backgroundIndexUpdate","file","fileObj","formatMessage","newIconJson","backgroundIndex","blob","Blob","File","uploadThumbnail","event","value","hex","thumbnail","MaterialIcons","categories","selectedIcon","uploading","handleClick","bind","handleClose","componentWillUnmount","revokeObjectURL","onDrop","acceptedFile","preview","cState","setImageUpdate","addAPIProductThumbnail","addAPIThumbnail","createObjectURL","saveDisableEnable","isEditable","imageUpdate","colorPairs","BaseThumbnail","Dialog","TransitionComponent","aria-labelledby","disableBackdropClick","onClose","fullWidth","fullScreen","square","popupHeader","IconButton","Icon_Icon","RadioGroup","group","onChange","handleChange","FormControlLabel","control","Radio","DialogContent","src","Configurations","app","alt","es","multiple","accept","dropzone","activeClassName","acceptDrop","rejectClassName","rejectDrop","dropFile","getRootProps","getInputProps","dropZoneWrapper","dropIcon","imageGenWrapper","ImageGenerator","fixedIcon","subtitleWrapper","Select","native","handleSelectionChange","cat","icons","FindCategoryKeys","iconView","selectIcon","react_color_lib","onChangeComplete","handleChangeComplete","colorPair","backgroundSelection","selectBackground","onKeyDown","Background","DialogActions","actionBox","bool","injectIntl","primary","main","red","& > div","boxShadow","DefaultVersion","configDispatcher","apiFromContext","mt","FormControl","FormLabel","isDefaultVersion","isRestricted","Description","TextField","multiline","rows","AccessControl","roleValidity","setRoleValidity","userRoleValidity","setUserRoleValidity","isNone","invalidRoles","setInvalidRoles","otherValidSystemRoles","setOtherValidSystemRoles","every","val","select","SelectProps","MenuProps","menu","helperText","MenuItem","ChipInput_default","alwaysShowPlaceholder","placeholder","blurBehavior","InputProps","endAdornment","InputAdornment","Error_default","onAdd","role","systemRolePromise","APIValidation","validate","base64url","encode","userRolePromise","userRole","_toConsumableArray","handleRoleValidationFailure","chipRenderer","_ref2","onDelete","existingRole","handleRoleDeletion","StoreVisibility","roleExists","setRoleExists","isRestrictedByRoles","tenants","setTenants","getTenantsByState","TENANT_STATE_ACTIVE","count","StoreVisibility_toConsumableArray","Tags","isTagValid","setIsTagValid","invalidTags","setInvalidTags","regexPattern","test","Tags_toConsumableArray","substring","currentInvalidTags","existingTag","oldTag","APICategories","setCategories","apiCategories","list","dense","disableGutters","ListItemText","renderValue","Array","isArray","Checkbox","checked","paper","paperCenter","itemPadding","arrowForwardIcon","arrowBackIcon","expansionPanel","expansionPanelDetails","lineHeight","btnSpacing","copyAPIConfig","lifeCycleStatus","authorizationHeader","responseCachingEnabled","cacheTimeout","enableSchemaValidation","DesignConfigurations_toConsumableArray","maxTps","wsdlUrl","corsConfiguration","corsConfigurationEnabled","accessControlAllowCredentials","accessControlAllowOrigins","accessControlAllowHeaders","accessControlAllowMethods","DesignConfigurations","setIsUpdating","apiConfig","useReducer","configAction","nextState","DesignConfigurations_objectSpread","invalidTagsExist","find","Container","elevation","px","ImageGenerator_ThumbnailView","components_APICategories","pt","iconSpace","actionSpace","ResponseCaching","isResponseCachingEnabled","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpandMore_default","Switch","ExpansionPanelDetails","CORSConfiguration","isCorsEnabled","isAllowAllOrigins","accessControlAllowOrigin","CORSConfiguration_toConsumableArray","oldOrigin","accessControlAllowHeader","oldHeader","newValue","accessControlAllowMethod","oldMethod","_ref3","SchemaValidation","isOpen","setIsOpen","componentDidUpdate","prevProps","aria-describedby","DialogTitle","DialogContentText","gutterBottom","MaxBackendTps","defaultExpanded","production","sandbox","row","labelPlacement","Collapse","in","MaxBackendTps_objectSpread","FormHelperText","EditMediationPolicy","updateMediationPolicy","selectedMediationPolicy","setEditing","editing","globalMediationPolicies","setGlobalMediationPolicies","seqCustom","setSeqCustom","provideBy","setProvideBy","NONE","localSelectedPolicyFile","setLocalSelectedPolicyFile","updatePoliciesFromBE","globalPromise","getGlobalMediationPolicies","customPromise","getMediationPolicies","Promise","all","values","EditMediationPolicy_toConsumableArray","seq","process","setActivePolicy","policy","assign","shared","policyFile","newPolicy","addMediationPolicy","policyType","saveMediationPolicy","getAttribute","handleDownload","policyToDownload","getGlobalMediationPolicyContent","Utils","forceDownload","downloadGlobalMediationPolicyContent","getMediationPolicyContent","done","document","downloadCustomMediationPolicyContent","handleDelete","policyToDelete","deleteMediationPolicy","deleteCustomMediationPolicy","disableEscapeKeyDown","dividers","inputValue","radioWrapper","EditMediationPolicy_extends","radioGroup","inputProps","seq_id","seq_name","seq_type","formControl","InFlow","EditRounded_default","MediationPolicies_EditMediationPolicy","flexGrow","itemWrapper","subTitle","subTitleDescription","flowWrapper","wordBreak","textTrim","production_endpoints","isDynamicEndpoints","pb","m","DEFAULT_API_SECURITY_OAUTH2","API_SECURITY_BASIC_AUTH","API_SECURITY_API_KEY","API_SECURITY_MUTUAL_SSL","API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY","API_SECURITY_MUTUAL_SSL_MANDATORY","AuthorizationHeader","hasResourceWithSecurity","apiList","apiInProduct","prototype","hasOwnProperty","call","findIndex","op","authType","keyManagerSelect","KeyManager","keyManagersConfigured","setKeyManagersConfigured","keyManagers","newKeyManagers","KeyManager_toConsumableArray","indexOf","splice","ml","required","FormGroup","enabled","displayName","mb","bottomSpace","ApplicationLevel","haveMultiLevelSecurity","mandatoryValue","_ref4","arrayOf","SelectEndpoint","endpoint","isEndpointEmpty","endpoints","autoFocus","condition","otherwise","iff","ep","fileinput","& span.material-icons","uploadedFile","certificatesHeader","addCertificateBtn","borderColor","borderWidth","certificateList","certDetailsHeader","uploadCertDialogHeader","UploadCertificate","uploadCertificate","isMutualSSLEnabled","uploadCertificateOpen","setUploadCertificateOpen","aliasList","alias","setAlias","setPolicy","setEndpoint","isSaving","setSaving","certificate","setCertificate","setIsEndpointEmpty","isPoliciesEmpty","setPoliciesEmpty","aliasValidity","setAliasValidity","isRejected","setIsRejected","closeCertificateUpload","SelectPolicies","onBlur","aliasValidation","isValid","details","handleAliasOnBlur","getHelperText","maxLength","certificateFile","extension","InsertDriveFile_default","certificates","alertWrapper","warningIcon","warningColor","& .material-icons","deleteIcon","dark","deleteIconDisable","Certificates","deleteCertificate","setCertificateList","openCertificateDetails","setOpenCertificateDetails","anchor","certificateToDelete","setCertificateToDelete","isDeleting","setDeleting","List_List","ListItem","ListItemAvatar","cert","tier","ListItemSecondaryAction","edge","certAlias","getClientCertificateStatus","currentTarget","getCertificateStatus","err","showCertificateDetails","certificateAlias","deleteCertificateByAlias","subject","Transports","TransportLevel","clientCertificates","setClientCertificates","getAllClientCertificates","resp","GeneralConfiguration_Certificates","addClientCertificate","tmpCertificates","TransportLevel_toConsumableArray","deleteClientCertificate","APISecurity","apiContext","isAPIProduct","isPrototyped","components_TransportLevel","resourcesWithSecurity","searchWrapper","UpdateComplexity","filterKeyWord","setFilter","setList","typelist","setFilterByKeyWord","InputLabelProps","shrink","stickyHeader","TableHead","TableBody","typename","aria-controls","respond","field","complexityValue","newArr","UpdateComplexity_toConsumableArray","summation","editIcon","dialogPaper","minHeight","GraphQLQueryAnalysis","setUpdateComplexityList","setOpen","setTypeList","findSummation","List","QueryAnalysis_toConsumableArray","Set","array","ob","getGraphqlPoliciesComplexity","res","getGraphqlPoliciesComplexityTypes","typeList","fieldList","setInitialComplexity","Shared","fixed","saveButton","RuntimeConfiguration_toConsumableArray","RuntimeConfiguration","updateComplexityList","RuntimeConfiguration_objectSpread","schema","newState","noMandatoryOAuthBasicAuth","noMandatoryMutualSSL","mediationPolicies","cloneDeep","inPolicy","setInPolicy","outPolicy","setOutPolicy","faultPolicy","setFaultPolicy","useIntl","kmNameList","forEach","km","getMediationPoliciesToSave","newMediationPolicies","isEmpty","justify","components_SchemaValidation","Flow","ArrowForward_default","ArrowBack_default","components_Endpoints","updateGraphqlPoliciesComplexity","updateComplexity","APILevelRateLimitingPolicies","apiThrottlingPolicy","apiRateLimits","setApiRateLimits","rateLimit","boxFlex","flexWrap","RuntimeConfigurationWebSocket_toConsumableArray","RuntimeConfigurationWebSocket_objectSpread","pr","SettingsEthernet_default","LifeCycleImage","highLightMe","startsWith","opacity","xmlns","viewBox","d","isolation","mixBlendMode","fill","strokeWidth","strokeLinejoin","y","x","letterSpacing","wordSpacing","clipRule","fillRule","stroke","strokeLinecap","stateButton","iconWarn","yellow","grid","labelsGrid","CheckboxLabels","isCertAvailable","isAppLayerSecurityMandatory","isBusinessPlanAvailable","isEnvironmentAvailable","gatewayEnvironments","isContainerMngEnvironmentAvailable","deploymentEnvironments","some","env","clusterName","endpointImplementationType","WarningRounded_default","lifecyclePending","currentState","transition","cleanupPendingTask","LifeCycleUpdate","updateLifeCycleState","WORKFLOW_STATUS","CREATED","APPROVED","pageError","apiUUID","promisedUpdate","lifecycleChecklist","checkList","handleUpdate","enableStore","preventDefault","lcState","handleChangeCheckList","certList","lifecycleStates","LifeCycleUpdate_toConsumableArray","availableTransitions","isWorkflowPending","lcMap","Map","set","isPrototype","lifecycleButtons","LifeCycleUpdate_objectSpread","LifecyclePending","lifeCycleImage","LifeCycle_LifeCycleImage","ScopeValidation","resourcePath","API_CHANGE_LC","resourceMethod","POST","buttonsWrapper","transitionState","data-value","Banner","disableActions","paperProps","LifeCycleHistory","table","firstCol","lcHistory","reverse","entry","previousState","postState","scope","Avatar","avatar","Person_default","personIcon","previous","post","updatedTime","LifeCycle","updateData","promisedAPI","get","promisedLcState","promisedLcHistory","getLcHistory","promisedClientCerts","clientCerts","checkItems","privateJetModeEnabled","LifeCycle_toConsumableArray","LifeCycle_LifeCycleUpdate","historyHead","LifeCycle_LifeCycleHistory","contentAreaWidth","CreateEditForm","CreateEditForm_defineProperty","sourceType","summary","sourceUrl","otherTypeName","restAPI","docPromise","addDocument","inlineContent","docId","updateDocument","disableName","nameNotDuplicate","nameMaxLengthExceeds","invalidUrl","nameEmpty","summeryEmpty","urlEmpty","getDocument","doc","apiNotFound","arguments","apiDocument","isDocumentPresent","showNameHelper","getUrlHelperText","setSaveDisabled","settingsContext","addNewOther","FormControlOdd","onKeyUp","docVisibilityEnabled","formControlFirst","changeType","formControlLabel","typeTextWrapper","changeSource","setDisable","_ref5","_ref6","InlineMessage","AppContext","saveDisabled","oneOf","GoToEdit","urlPrefix","listingPath","displayAddContent","docContentEditPath","documentId","Create","newDoc","setNewDoc","createEditForm","useRef","sm","titleLink","Documents_CreateEditForm","innerRef","node","Divider","promiseWrapper","addFileToDocument","Documents_GoToEdit","addNewWrapper","addNewHeader","h6","MonacoEditor","lazy","t","ReactMarkdown","MarkdownEditor_extends","MarkdownEditor","showAtOnce","setCode","toggleOpen","updateDoc","getInlineContentOfDocument","docName","addInlineContentToDocument","splitWrapper","react","fallback","language","selectOnLineNumbers","newCode","editorDidMount","editor","monaco","focus","markdownViewWrapper","escapeHtml","source","Edit_extends","Edit","getDocumentsList","Delete","runAction","deleteDoc","deleteDocument","apiName","DeleteMultiple","docsToDelete","docs","deleteDocs","docPromises","data","docIndexObj","instanceOf","Download","isFileAvailable","setIsFileAvailable","isSuccessful","setIsSuccessful","getFileForDocument","TextEditor","LinkGenerator","Listing","showAddDocs","toggleAddDocs","getDocuments","errorData","parse","messageTxt","oldState","setFoo","foo","_this","showActionsColumn","print","download","viewColumns","customToolbar","search","onRowsDelete","rowData","rowMeta","that","columns","customBodyRender","tableMeta","actionTable","Documents_MarkdownEditor","Documents_Edit","Documents_Delete","Documents_Download","Documents_DeleteMultiple","AddCircle_default","buttonIcon","Documents_Create","dist_default","head","actions","& td","& td:first-child","messageBox","& button","View","params","setDoc","loadContentForDoc","leftCell","View_ReactMarkdown","react_safe_html_lib_default","html","displayURL","displayURLLink","docTitle","docBadge","replace","EditContent_TextEditor","Documents","react_router","exact","EditContent","DocCreate","ResourceNotFound","RateLimitingLevels","RESOURCE","APIRateLimiting","operationRateLimits","currentApiThrottlingPolicy","setApiThrottlingPolicy","setIsSaving","isResourceLevel","rateLimitingLevel","operationRateLimitMessage","light","userSelection","pl","disabledAction","memo","Operation","isSecurity","handleScopeChange","handlePolicyChange","operationAction","defValue","newoperation","Operation_objectSpread","scopes","Operation_toConsumableArray","handleUpdateList","throttlingPolicy","apiPolicies","isOperationRateLimiting","sharedScopes","dropdownScopes","filteredApiScopes","sharedScope","chipActive","dropDown","fieldName","ListSubheader","apiScope","auth","textField","link","listItem","resourceRoot","deleteButton","pathDisplay","descriptionWrapper","scopeSelect","descriptionWrapperUp","addParamRow","propsForm","deleteLink","verticalAlign","operationCopy","Operations_toConsumableArray","sort","b","apiScopesByName","sharedScopesByName","handleApiThrottlePolicy","updateOperations","apiScopesByNameList","scopeObject","modifiedScope","getAllSharedScopes","getAllScopes","sharedScopesList","sharedScopesByNameList","newOperation","updatedList","selectedScope","updateApiScopes","apiOperations","isScopeExistsInOperation","resourceNotFoundMessage","components_APIRateLimiting","Operations_Operation","buttonMain","addResource","DescriptionAndSummary","operationsDispatcher","disableUpdate","spec","VERSIONS","V3","V2","getVersion","openapi","swagger","getOperationScopes","openAPIVersion","security","mapAPIOperations","temp","rest","_objectWithoutProperties","isRef","isReference","OperationGovernance","operationScopes","autoWidth","IconComponent","ArrowDropDownIcon","renderInput","ref","other","AWSLambdaSettings_objectWithoutProperties","AWSLambdaSettings_extends","AWSLambdaSettings_objectSpread","inputRef","inputRoot","input","inputInput","renderSuggestion","suggestionProps","suggestion","itemProps","highlightedIndex","selectedItem","isHighlighted","isSelected","object","oneOfType","IntegrationDownshift","arns","timeout","setTimeout","downshift_esm","onSelect","changes","clearSelection","getItemProps","getLabelProps","getMenuProps","openMenu","_getInputProps","onFocus","showEmpty","deburr","trim","inputLength","keep","getSuggestions","min","max","step","Math","floor","milliSeconds","parseInt","newTimeout","handleTimeoutMin","handleTimeoutSec","supportedDataTypes","2.0","formData","query","header","3.x","cookie","matched","getSupportedDataTypes","specVersion","paramType","parameterContainer","checkBox","AddParameter","inputLabel","labelWidth","setLabelWidth","initParameter","getParameter","newParameter","newParameterDispatcher","AddParameter_objectSpread","current","offsetWidth","isParameterExist","isParameterExistValue","parameters","clearInputs","addNewParameter","InputLabel","htmlFor","getContentAnchorEl","anchorOrigin","vertical","horizontal","getParameterTypes","paramIn","onKeyPress","Clear_default","RequestBody","contentType","hideParameterEdit","requestBody","Edit_default","Delete_default","form","EditParameter","editingParameter","setEditingParameter","parameter","parameterActionDispatcher","currentParameter","paramAction","nextParameter","EditParameter_objectSpread","isEditing","disableTypography","dataType","format","getDataFormats","overflowX","ListParameters","resolvedSpec","isRefParam","paramCopy","entries","operationComponents_RequestBody","Parameters","haveParameters","operationComponents_AddParameter","CloseConfirmation","closeEditor","forwardRef","Fade","PolicyEditor_extends","PolicyEditor","prefersDarkMode","originalResourcePolicy","selectedPolicy","setPolicyContent","resourcePoliciesDispatcher","setPageError","openConfirmation","setOpenConfirmation","saving","editorOptions","readOnly","smoothScrolling","wordWrap","editorProps","AppBar","Toolbar","updateResourcePolicy","success","disableShrink","PolicyEditor_MonacoEditor","SOAPToRESTListing","resourcePolicy","resourcePolicyIn","setResourcePolicyIn","resourcePolicyOut","setResourcePolicyOut","out","useMediaQuery","openEditor","setOpenEditor","setTabIndex","Tabs","indicatorColor","textColor","tab","Tab","SOAPToRESTListing_MonacoEditor","SOAPToRESTListing_objectSpread","highlight","disableDelete","onMarkAsDelete","markAsDelete","hideParameters","isExpanded","setIsExpanded","customButton","paperStyles","customDivider","linearProgress","highlightSelected","hexToRGBA","contentNoMargin","overlayUnmarkDelete","operationDeleteUndo","apiOperation","isUsedInAPIProduct","usedProductIds","toggleDelete","stopPropagation","expanded","disableRipple","disableTouchRipple","Badge","invisible","disableFocusRipple","ReportProblemOutlined_default","Boolean","endpoint_type","resourcePolicies","x-wso2-new","GroupOfOperations","openAPI","children","currentTagInfo","tagInfo","SpecErrors","specErrors","ErrorOutline_default","primaryTypographyProps","inset","VerbElement","isButton","customMenu","useMenuStyles","SUPPORTED_VERBS","AddOperation","newOperations","newOperationsDispatcher","AddOperation_objectSpread","verbs","addOperation","operationTarget","operationVerbs","warning","remaining","verbElements","allSelected","Fab","Add_default","GoToDefinitionLink","OperationsSelector","selectedOperations","setSelectedOperation","isIndeterminate","mr","ClearAll_default","DeleteSweep_default","SaveOperations","updateOpenAPI","onBackdropClick","operationProps","disableRateLimiting","hideAPIDefinitionLink","disableMultiSelect","disableAddOperation","setOperationRateLimits","markedOperations","setSharedScopes","setSharedScopesByName","openAPISpec","setOpenAPISpec","securityDefScopes","setSecurityDefScopes","setArns","setResolvedSpec","errors","currentPolicies","policyAction","nextResourcePolicies","Resources_objectSpread","httpVerb","currentOperations","updatedOperation","addedOperations","bodyIndex","scopeDescription","para","paraObj","extractPathParameters","alreadyExistCount","currentVerb","warn","x-auth-type","responses","200","useCallback","currentSelections","nextSelectedOperations","localAPI","useMemo","resolveAndUpdateSpec","rawSpec","specCopy","SwaggerParser","components","securitySchemes","flows","implicit","securityDefinitions","setSecurityDefScopesFromSpec","updateSwagger","getAmznResourceNames","apitype","isSOAPToREST","promisedInPolicies","getResourcePolicies","promisedOutPolicies","inPolicies","outPolicies","mappedPolicies","components_AddOperation","verbObject","components_Operation","Resources_extends","copyOfOperations","isSelectAll","reject","verbInfo","secDef","setSpecScopesFromSecurityDefScopes","APIOperations","Resources_Resources_Resources","APIProductOperations","buttonWrapper","ProductResourcesEdit","apiCopy","setApiResources","updating","ProductResourcesEditWorkspace","NewEndpointCreate","generateEndpointConfig","endpointImplType","setImplType","endpointTypes","inlineMessageContainer","Card","endpointTypeCard","CardContent","cardContent","types","option","CardActions","cardActions","GenericResource","scriptContent","originalScript","setMockValueDetails","showReset","setShowReset","GenericResource_objectSpread","resourcePathContainer","prototypeResourceHeader","chipExpansionPanel","scriptResetButton","genericResourceContent","GenericResource_MonacoEditor","xMediationScriptProperty","defaultScript","InlineEndpoints","updatePaths","mockValueDetails","onScriptChange","tmpPaths","mockScripts","setMockScripts","getGeneratedMockScriptsOfAPI","mediationScript","script","getGeneratedMockScriptOfAPI","Prototype_GenericResource","getEndpointTypeProperty","endpointsToList","config","apply","endpointUtils_toConsumableArray","sandbox_endpoints","sandbox_failovers","production_failovers","createEndpointConfig","endpointType","tmpEndpointConfig","failOver","access_method","amznAccessKey","amznSecretKey","amznRegion","getEndpointTemplate","template_not_supported","GeneralConfiguration","epConfig","isConfigExpanded","setConfigExpand","endpointCertificates","setEndpointCertificates","setAliasList","getEndpointCertificates","aliases","filteredCertificates","generalConfigPanel","configHeaderContainer","secondaryHeading","hidden","generalConfigContent","endpointConfigSection","addCertificate","GeneralConfiguration_toConsumableArray","deleteEndpointCertificate","flexShrink","securityHeading","sandboxEndpointSwitch","GenericEndpoint","endpointURL","editEndpoint","setAdvancedConfigOpen","esCategory","setESConfigOpen","deleteEndpoint","serviceUrl","setServiceUrl","isEndpointValid","setIsEndpointValid","statusCode","setStatusCode","isErrorCode","setIsErrorCode","endpointInputWrapper","endpointValidChip","endpointErrorChip","endpointInvalidChip","isWebSocket","iconButtonValid","iconButton","apiID","testEndpoint","statusMessage","GenericEndpointAdd","addEndpoint","EndpointListing","apiEndpoints","epType","failOvers","addNewEndpoint","removeEndpoint","setEndpointType","setEndpoints","selectedRef","listingWrapper","Endpoints_GenericEndpointAdd","Endpoints_GenericEndpoint","epTypeWrapper","epTypeName","epInput","leftArrow","leftArrowLight","dialogHeader","listItemOdd","&:focus","algorithms","sessionManagementOps","defaultTemplateObj","algoClassName","algoCombo","sessionManagement","sessionTimeOut","LoadBalanceConfig","handleLBConfigChange","closeLBConfigDialog","lbConfig","setLbConfigObject","algoClassNameError","setAlgoClassNameError","tmpLBConfig","LoadBalanceConfig_objectSpread","handleFieldChange","algo","configButtonContainer","LoadbalanceFailoverConfig","endpointsDispatcher","toggleAdvanceConfig","globalEpType","handleEndpointCategorySelect","isLBConfigOpen","setLBConfigOpen","newURL","endpointConfigCopy","endpointTemplate","epConfigProperty","endpointList","endpointConfigProperty","indexToRemove","tmpEndpoints","LoadbalanceFailoverConfig_objectSpread","getEndpointTypeHeading","endpointsTypeSelectWrapper","endpointTypeSelect","lpConfigWrapper","lbConfigBtn","wrapper","endpointsWrapperLeft","endpointName","Endpoints_EndpointListing","endpointsWrapperRight","configDialogHeader","Endpoints_LoadBalanceConfig","endpointSecurityInfo","PaperProps","itemHeight","AdvanceEndpointConfig","advanceConfig","isSOAPEndpoint","onSaveAdvanceConfig","onCancel","advanceConfigObj","setAdvanceConfig","optimize","actionDuration","actionSelect","factor","retryDelay","retryErroCode","retryTimeOut","suspendDuration","suspendErrorCode","suspendMaxDuration","errorCodes","actionItems","messageTypes","optimizeOptions","AdvanceEndpointConfig_objectSpread","handleConfigFieldChange","di","configContainer","configSubContainer","Input","messageType","advanceDialogActions","EditableParameterRow","oldName","oldValue","newName","setName","setValue","editMode","setEditMode","validateEmpty","itemValue","saveRow","handleKeyDown","addProperty","Save_default","DeleteForever_default","EndpointSecurity","securityInfo","onChangeEndpointAuth","isProduction","saveEndpointSecurityConfig","closeEndpointSecurityConfig","setEndpointSecurityInfo","username","password","grantType","tokenUrl","clientId","clientSecret","customParameters","securityValidity","setSecurityValidity","showAddParameter","setShowAddParameter","clientSecretIsMasked","setClientSecretIsMasked","parameterName","setParameterName","parameterValue","setParameterValue","authTypes","grantTypes","tmpSecurity","EndpointSecurity_objectSpread","validateAndUpdateSecurityInfo","validity","validateTokenUrl","toggleAddParameter","handleParameterChange","handleAddToList","customParametersCopy","oldRow","newRow","RemoveRedEye","eye","addParameter","items","GeneralConfiguration_EditableParameterRow","EndpointSecurity_extends","renderCustomParameters","selectField","banner","Credentials","newEndpointConfig","Credentials_objectSpread","labelId","region","EndpointOverview","swaggerDef","saveAndRedirect","supportedEnpointTypes","setSupportedEndpointType","setEpConfig","advanceConfigOptions","setAdvancedConfigOptions","endpointSecurityConfig","setEndpointSecurityConfig","endpointCategory","setEndpointCategory","prod","typeChangeConfirmation","setTypeChangeConfirmation","openDialog","supportedTypeLists","apiObject","supportedEndpointTypes","getSupportedType","availableEndpoints","getEndpointType","endpoint_security","getEndpoints","handleOnChangeEndpointCategoryChange","endpointProp","modifiedEndpoint","endpointTypeProperty","changeEndpointType","selectedKey","tmpConfig","generatedEndpointConfig","EndpointOverview_objectSpread","handleEndpointTypeSelect","advanceEPConfig","endpointInfo","getAdvanceConfig","toggleEndpointSecurityConfig","handleEndpointSecurityChange","endpointSecurityObj","enType","overviewWrapper","Prototype_InlineEndpoints","endpointContainer","defaultEndpointWrapper","Endpoints_GeneralConfiguration","Endpoints_LoadbalanceFailoverConfig","AdvancedConfig_AdvanceEndpointConfig","selectedEndpoints","GeneralConfiguration_EndpointSecurity","endpointTypesWrapper","listing","sandboxHeading","borderRightStyle","borderRightWidth","endpointTypesSelectWrapper","addLabel","defaultSwagger","setSwagger","endpointValidity","setAPIEndpointsValid","apiDispatcher","initState","Endpoints_objectSpread","implementationType","generateMockScripts","isAddressEndpoint","currentEndpointConfig","getEndpointTemplateByType","toJSON","saveAPI","isRedirect","apiKey","apiSecret","isValidEndpoint","Endpoints_NewEndpointCreate","endpointsContainer","Endpoints_EndpointOverview","swaggerObj","onChangeAPI","errorMessageContainer","endpointValidityMessage","buttonSection","implSelectRadio","gatewayPaper","emptyBox","MicroGateway","selectedMgLabel","setSelectedMgLabel","mgLabels","setMgLabels","microgatewayLabelsGet","MicroGateway_toConsumableArray","access_urls","Kubernetes","clusters","selectedDeployments","setSelectedDeployments","handleOnChecked","clusterId","include","deploymentTypes","deployment","selectedClusters","cluster","generateElement","selectedDeploymentCopy","dep","clusterNameFound","handleEnvironmentsSelect","reduce","currentKey","elementToPush","generatePropertyData","properties","accessURL","Environments","setGatewayEnvironments","Environments_toConsumableArray","labels","allDeployments","setAllDeployments","getDeployments","environment","serverUrl","ws","wss","http","https","filterType","selectableRowsHeader","selectableRows","pagination","Invoice","subscriptionId","isMonetizedUsagePolicy","isNotAuthorized","showPopup","setShowPopup","showErrorPopup","setShowErrorPopup","invoice","setInvoice","handleAlertClose","getMonetizationInvoice","invoiceData","invoiceItem","insideArray","subscriptionStatus","BLOCKED","PROD_BLOCKED","SubscriptionTablePagination","page","rowsPerPage","onChangePage","FirstPage_default","KeyboardArrowLeft_default","ceil","KeyboardArrowRight_default","LastPage_default","SubscriptionsTable","subscriptions","totalSubscription","searchQuery","rowsPerPageOptions","emptyColumnHeight","subscriberClaims","formatSubscriptionStateString","blockSubscription","blockProductionOnly","unblockSubscription","handleChangePage","handleChangeRowsPerPage","filterSubscriptions","isMonetizedPolicy","renderClaims","isNotCreator","fetchSubscriptionData","getSubscriptionBlockingButtons","blockSubscriptions","messages","defineMessages","errorMessage","unblockSubscriptions","total","getSubscriberInfo","prevState","SubscriptionsTable_objectSpread","getMonetization","monetizationStatus","getSubscriptionPolicies","filteredPolicies","tierPlan","policyName","monetizationAttributes","pricePerRequest","claimsObject","claims","claim","hover","InfoToolTip","Info_default","BLOCK_SUBSCRIPTION","Subscriptions_Invoice","customFooter","TablePagination","colSpan","onChangeRowsPerPage","ActionsComponent","subMails","emails","v","email","URI","names","k","Tip","noDataMessage","headline","popupHeadline","& th","searchDiv","searchRoot","searchInput","searchIconButton","tableColumnSize","tableColumnSize2","dialogColumnSize","dialog","invoiceTable","uniqueCell","disableColor","subscriberHeader","SubscriptionPoliciesManage","subscriptionPolicies","setPolices","newSelectedPolicies","SubscriptionPoliciesManage_toConsumableArray","subscriptionPoliciesPaper","gridLabel","TenantAutocomplete_objectWithoutProperties","TenantAutocomplete_extends","TenantAutocomplete_objectSpread","DownshiftMultiple","setTenantList","suggestions","setInputValue","newSelectedItem","TenantAutocomplete_toConsumableArray","inputValue2","tenantList2","startAdornment","handleInputChange","setsuggestions","newSuggestions","tenant","domain","inputType","textControl","selectEmpty","subscriptionAvailabilityPaper","tenantsList","SimpleSelect","setAvailability","currentAvailability","subscriptionAvailability","setValues","availability","isSpecificTenants","isUIElementDisabled","subscriptionAvailableTenants","availabilityValue","SubscriptionAvailability_objectSpread","autoComplete","onSubmit","displayEmpty","TenantAutocomplete_IntegrationDownshift","Subscriptions","setSubscriptions","updateInProgress","setUpdateInProgress","Subscriptions_toConsumableArray","Subscriptions_SubscriptionPoliciesManage","crossTenantSubscriptionEnabled","Progress","Subscriptions_SubscriptionsTable","CommentAdd","commentText","currentLength","inputChange","handleClickAddComment","handleClickCancel","handleCategoryChange","filterCommentToAddReply","toggleShowReply","commentToFilter","parentCommentId","commentId","allComments","commentsUpdate","comment","addComment","newComment","addedComment","replies","cancelButton","zeroMinWidth","maxCommentLength","commentIcon","unig","CommentEdit","handleClickUpdateComment","filterCommentToUpdate","filterCommentToUpdateReply","toggleShowEdit","commentToEdit","updateComment","updatedComment","replyIndex","CommentOptions","showAddComment","showEditComment","handleClickOpen","editIndex","displayDate","timestamp","localDate","Date","toLocaleDateString","day","month","year","toLocaleTimeString","hour","minute","canDelete","createdBy","getUser","adminRole","canModify","entryPoint","Grid_default","verticalSpace","disable","VerticalDivider","time","overflowWrap","CommentReply","deleteComment","keyCount","getKey","handleClickDeleteComment","handleShowEdit","handleConfirmDialog","filterRemainingComments","filterCommentToDelete","commentIdOfCommentToDelete","parentCommentIdOfCommentToDelete","remainingComments","remainingReplies","comments","AccountBox_default","noWrap","Comments_CommentEdit","CommentReply_extends","Comments_CommentOptions","ConfirmDialog","labelCancel","labelOk","callback","Comment","handleShowReply","Comment_extends","Comments_CommentAdd","Comments_CommentReply","Comments","totalComments","startCommentsToDisplay","updateCommentList","handleExpandClick","handleLoadMoreComments","getAllComments","commentList","commentsLimit","newStart","difference","newTotal","ArrowDropDownCircleOutlined_default","aria-expanded","titleSub","unmountOnExit","Comments_Comment","loadMoreLink","ArrowDropDown_default","CreateScope","validRoles","invalidRolesArray","api_uuid","valid","invalid","apiScopes","scopeAddDisabled","addScope","validateScopeName","handleScopeNameInput","validateScopeDescription","handleRoleAddition","CreateScope_toConsumableArray","exist","bindings","aScope","promisedApiUpdate","redirectURL","titleGrid","descriptionForm","progress","helpText","hint","extraPadding"," & .MuiGrid-item","EditScope","EditScope_defineProperty","thisScope","scopeName","EditScope_objectSpread","updateScope","handleInputs","originalScope","scopeObj","EditScope_toConsumableArray","SvgIcon_default","confirm","ops","setOpenLocal","deleteScope","Scopes","api_data","editUrl","Scopes_Delete","scopesList","resources","buttonProgress","Scope","Scopes_CreateScope","Scopes_extends","Scopes_EditScope","additionalProperties","AddPolicy","AddPolicy_defineProperty","uuid","policyId","getThreatProtectionPolicy","formattedPolicy","getThreatProtectionPolicies","currentApi","handlePolicyAdd","addThreatProtectionPolicyToApi","n","addJsonContent","formatPolicy","toggleShowAddPolicy","SecurityOverview","SecurityOverview_defineProperty","showAddPolicy","updatePolicyData","policyIds","threatProtectionPolicies","updatedPolicies","deletePolicy","associatedApi","deleteThreatProtectionPolicyFromApi","Security_AddPolicy","tableLayout","Security","APISecurityAudit","APISecurityAudit_defineProperty","createMuiTheme","useNextVariants","overrides","MUIDataTableBodyCell","MUIDataTableSelectCell","MUIDataTableToolbarSelect","searchTerm","lastTerms","termObject","regexPatterns","appendedString","j","getModel","findNextMatch","lineNumber","range","endLineNumber","column","finalMatchIndex","revealLineInCenter","startLineNumber","deltaDecorations","Range","startColumn","endColumn","isWholeLine","inlineDecoration","glyphMarginClassName","contentLine","report","overallScore","numErrors","externalApiId","loading","apiDefinition","criticalityObject","1","2","3","4","5","getSecurityAuditReport","grade","redirectUrl","getRowData","issues","rowType","dataObject","rowObject","specificDescription","pointer","criticality","roundScore","score","tooManyImpacted","pointersAffected","tooManyError","getMoreDetailUrl","baseUrl","round","reportObject","linkToDetailedReport","errorColumns","glyphMargin","responsive","expandableRows","expandableRowsOnClick","renderExpandableRow","tableRow","columnOne","react_monaco_editor_lib_default","columnTwo","referenceErrorTypography","referenceTypography","subheadingTypography","paperDiv","rootPaper","sectionHeadingTypography","linkText","linkToDetailedReportText","afterLinkText","auditSummaryDiv","auditSummarySubDiv","index_esm","circularProgressBarScore","circularProgressBarScoreFooter","auditSummaryDivRight","overallScoreText","totalNumOfErrorsText","totalNumOfErrors","overallCriticalityText","overallCriticality","securitySummary","rc_progress_es","percent","dataValidationSummary","ThemeProvider","getMuiTheme","semanticErrors","getErrorMuiTheme","validationErrors","warnings","securityNumOfIssuesText","securityNumOfIssues","issueCounter","securityScoreText","securityScore","securityCriticalityText","securityCriticality","dataNumOfIssuesText","dataNumOfIssues","dataScoreText","dataScore","dataCriticalityText","dataCriticality","htmlToolTip","margin-left","background-color","importDefinitionDialogHeader","ImportDefinition","setSchemaDefinition","openAPIDefinitionImport","setOpenAPIDefinitionImport","isImporting","setIsImporting","isGraphQL","isGraphql","isSOAP","apiInputs","inputsDispatcher","inputAction","ImportDefinition_objectSpread","formValidity","mode","updateGraphQLSchema","validateGraphQLFile","graphQLInfo","graphQLSchema","updateGraphQLAPIDefinition","schemaDefinition","handleOnValidate","isFormValid","dialogTitle","dialogContent","ProvideOpenAPI","onValidate","btnText","ProvideGraphQL","ProvideWSDL","CloudUploadRounded_default","isFileInput","updateWSDLByFileOrArchive","updateWSDLByUrl","updateWSDL","reader","FileReader","onloadend","readAsText","newAPI","updateAPIDefinitionByFile","updateAPIDefinitionByUrl","updateOASDefinition","EditorDialog","APIDefinition","schemaContent","graphQL","swaggerModified","convertTo","getConvertToFormat","isAuditApiClicked","securityAuditProperties","isSwaggerValid","handleNo","handleOk","hasJsonStructure","onAuditApiClick","onChangeFormatClick","openUpdateConfirmation","updateSwaggerDefinition","onChangeSwaggerContent","promisedApi","getSchema","YAML","safeDump","safeLoad","formattedString","load","modifiedContent","definition","APIDefinition_extends","swaggerContent","specFormat","toFormat","parsedContent","resourceNotFountMessage","downloadLink","fileName","encodeURIComponent","topBar","CloudDownloadRounded_default","apiToken","collectionId","LockRounded_default","SwapHorizontalCircle_default","APIDefinition_APISecurityAudit","APIDefinition_MonacoEditor","progressLoader","onEditContent","converterWrapper","swaggerEditorWrapper","WSDL","isArchive","wsdl","loadWSDLInEditor","handleDownloadWSDLZip","getWSDLInfo","getWSDL","downloadWidget","downloadButtonContent","WSDL_MonacoEditor","cursorStyle","common","apiOnly","productOnly","graphqlOnly","goToSearch","linkButton","goToWrapper","downshiftWrapper","GoTo_objectWithoutProperties","GoTo_extends","GoTo_objectSpread","handleClickAway","aria-haspopup","GoTo","showSearch","setShowSearch","ClickAwayListener","onClickAway","GoTo_toConsumableArray","CreateNewVersionButton","API_COPY","createNewVersionWrapper","createNewVersion","LibraryAdd_default","A200","backLink","backIcon","backText","createNewVersionButtonColor","APIDetailsTopMenu","isVisibleInStore","isDownlodable","infoItem","dateWrapper","GoTo_GoTo","components_CreateNewVersionButton","buttonClass","downloadApi","exportApi","zipFile","downloadApiFlex","DeleteApiButton","alignSelf","lastUpdatedTypography","BusinessInformation_defineProperty","isValidBusinessOwnerEmail","isValidTechnicalOwnerEmail","isFormUpdated","emailStatus","businessOwnerEmail","technicalOwnerEmail","handleSubmit","noValidate","paperRoot","EditableRow","oldKey","apiAdditionalProperties","newKey","setKey","Properties","additionalPropertiesTemp","setAdditionalProperties","showAddProperty","setShowAddProperty","propertyKey","setPropertyKey","propertyValue","setPropertyValue","isAdditionalPropertiesStale","setIsAdditionalPropertiesStale","isKeyWord","toggleAddProperty","additionalPropertiesCopy","Properties_EditableRow","Properties_extends","renderAdditionalProperties","BusinessPlans","monetizedPolices","monetizationQuery","policiesList","tableHeadCell","tableHeadTitle","stateWrapper","tableCel","rightDataColumn","Monetization","Monetization_defineProperty","monStatus","property","getMonetizationData","apiProduct","getSettings","configureMonetizationToApiProduct","configureMonetizationToApi","monetizationAttribute","Monetization_BusinessPlans","viewInExStoreLink","black","ExternalStores","allExternalStores","setAllExternalStores","publishedExternalStores","setPublishedExternalStores","externalStoresEnabled","resourceNotFoundMessageText","titleMessage","bodyMessage","getPublishedExternalStores","publishedStoreIds","store","reason","getAllExternalStores","ExternalStores_toConsumableArray","publishAPIToExternalStores","successfulStores","CreateNewVersion","NewVersion_defineProperty","newVersion","empty","alreadyExists","hasSpecialChars","isDefaultVersionBool","createNewAPIVersion","redirectToReferrer","handleVersionChange","handleDefaultVersionChange","transformOrigin","cookieName","environmentName","getEnvironment","pairs","pair","cookie_name","validityPeriod","secured","expiresDirective","securedDirective","date","setTime","getTime","toUTCString","_environment","environmentData","localStorage","getItem","CONST","LOCALSTORAGE_ENVIRONMENT","getDefaultEnvironment","LOCAL_STORAGE_ENVIRONMENT","host","loginTokenPath","refreshTokenPath","environments","setItem","Axios","getDCRappInfoRequestURL","PROTOCOL","DCR_APP_INFO","Settings","LOGOUT","LOGIN_TOKEN_PATH","LOGIN_SIGN_UP_PATH","SWAGGER_YAML","navigator","languages","userLanguage","contentDisposition","headers","matches","exec","msSaveBlob","downloadUrl","aTag","appendChild","click","LOGOUT_CALLBACK","User","id_token","remember","_userMap","_scopes","_idToken","_remember","_isSideBarOpen","newScopes","getPartialToken","getCookie","WSO2_AM_TOKEN_1","getRefreshPartialToken","WSO2_AM_REFRESH_TOKEN_1","setPartialToken","newToken","delete_cookie","setCookie","isSideBarOpen","checkPermission","toJson","idToken","userJson","_user","rememberMe","WSO2_AM_TOKEN_MSF4J","LOCALSTORAGE_USER","DEVPORTAL_CLIENT_ID","DEVPORTAL_SESSION_STATE","INSUFFICIENT_PREVILEGES","INVALID_TOKEN","ISLOGINPERMITTED","LOGINSTATUS","isLogged","error_response","noty","dismissQueue","modal","progressBar","layout","maxVisible","afterClose","loginPageUri","getCurrentEnvironment","userData","partialToken","refreshToken","deleteCookie","removeItem","fromJson","fetch","credentials","json","currentEnv","hasBasicLoginPermission","setUser","userScopes","APIClient","getScopeForResource","authenticateUser","grant_type","validity_period","promised_response","axios","getLoginTokenPath","qs","Authorization","Accept","Content-Type","withCredentials","previous_environment","setEnvironment","authUser","logout","authHeader","getAppLogoutURL","APIClientFactory","destroyAPIClient","refresh_token","USER_SCOPES","referrer","X-Alt-Referer","registerUser","getSignUpTokenPath","args","authorizations","OAuth2Security","token","access_token","SwaggerClient","promisedResolve","getSwaggerURL","requestInterceptor","request","_client","resolved","argsv","_fixSpec","_getRequestInterceptor","responseInterceptor","_getResponseInterceptor","unauthorizedErrorHandler","mutex","Mutex","client","sessionStorage","etag","addETag","getUserFromToken","queryString","existingToken","refToken","authorization","promise","acquire","release","refresh","getETag","_instance","_APIClientMap","getAPIClient","environmentLabel","api_Client","delete","Resource","requestContentType","Wsdl","apiClient","downloadWSDLForEnvironment","APIs","getWSDLOfAPI","wsdlClient","_requestMetaData","getAllAPIs","promiseGetAll","get_apis","getAPIById","promiseGet","get_apis__apiId_","api_id","payload","get_apis__apiId__documents__documentId__content","getDocumentsByAPIId","get_apis__apiId__documents","getDocumentByDocId","get_apis__apiId__documents__documentId_","getSwaggerByAPIId","get_apis__apiId__swagger","getGraphQLSchemaByAPIId","get_apis__apiId__graphql_schema","getSwaggerByAPIIdAndEnvironment","getSwaggerByAPIIdAndLabel","labelName","getSwaggerByAPIIdAndClusterName","getApplication","Applications","get_applications__applicationId_","applicationId","getAllApplications","limit","get_applications","getAllTiers","policyLevel","get_throttling_policies__policyLevel_","getAllApplicationAttributes","get_settings_application_attributes","createApplication","application","post_applications","updateApplication","put_applications__applicationId_","addCommentToAPI","getAllCommentsOfAPI","commentInfo","put_apis__apiId__comments__commentId_","getRatingFromUser","Ratings","get_apis__apiId__ratings","removeRatingOfUser","delete_apis__apiId__user_rating","addRating","ratingInfo","put_apis__apiId__user_rating","generateKeys","requestContent","post_applications__applicationId__generate_keys","generateToken","post_applications__applicationId__generate_token","getKeys","get_applications__applicationId__keys","generateApiKey","keyType","restrictions","post_applications__applicationId__api_keys__keyType__generate","getSubscriptions","promisedGet","get_subscriptions","subscribe","promiseCreateSubscription","subscriptionData","post_subscriptions","get_labels","getSdkLanguages","SDKs","get_sdk_gen_languages","getSdk","get_apis__apiId__sdks__language_","getTierByName","level","get_throttling_policies__policyLevel___policyId_","createUser","post_self_signup","getAllTags","get_tags","getAPIThumbnail","get_apis__apiId__thumbnail","get_search","getWsdlClient","get_settings","getKeyManagers","get_key_managers","getSupportedAlertTypes","Alerts","getStoreAlertTypes","getSubscribedAlertTypesByUser","getSubscribedAlertTypes","subscribeAlerts","alerts","subscribeToAlerts","unsubscribeAlerts","unsubscribeAllAlerts","getAlertConfigurations","alertType","getAllAlertConfigs","putAlertConfiguration","alertConfig","configId","addAlertConfig","configurationId","deleteAlertConfiguration","deleteAlertConfig","get_api_categories","getApiRecommendations","Recommendations","get_recommendations","get_apis__apiId__graphql_policies_complexity","get_apis__apiId__graphql_policies_complexity_types","changePassword","currentPwd","newPwd","promiseChangePassword","currentPassword","newPassword","Users","changeUserPassword","Application","throttlingTier","kwargs","productionKeys","sandboxKeys","productionTokens","sandboxTokens","_setKeys","keyObj","keyManager","_setTokens","get_applications__applicationId__oauth_keys","keysResponse","selectedScopes","keyMappingId","accessToken","consumerSecret","revokeToken","post_applications__applicationId__oauth_keys__keyMappingId__generate_token","tokenResponse","supportedGrantTypes","callbackUrl","grantTypesToBeSupported","validityTime","cleanUpKeys","post_applications__applicationId__oauth_keys__keyMappingId__clean_up","ok","updateKeys","tokenType","consumerKey","put_applications__applicationId__oauth_keys__keyMappingId_","regenerateSecret","post_applications__applicationId__oauth_keys__keyMappingId__regenerate_secret","secretResponse","secret","provideKeys","post_applications__applicationId__map_keys","appJson","offset","sortOrder","sortBy","delete_applications__applicationId_","KEY_TYPES","PRODUCTION","SANDBOX","TOKEN_TYPES","JWT","OAUTH","centerItems","tryoutHeading","menuItem","selectedApplication","selectedKeyType","handleChanges","handleSelectPanelChange","esm_Grid_Grid","TextField_TextField","react_intl_lib","sub","MenuItem_MenuItem","applicationInfo","Typography_Typography","FormControl_FormControl","RadioGroup_RadioGroup","FormControlLabel_FormControlLabel","Radio_Radio","styles","& .MuiButton-contained.Mui-disabled span.MuiButton-label","genKeyButton","gatewayEnvironment","categoryHeading","TryOutController","securitySchemeType","selectedEnvironment","containerMngEnvironments","productionAccessToken","sandboxAccessToken","setKeys","setSelectedKeyType","setSelectedKeyManager","setSelectedEnvironment","setProductionAccessToken","setSandboxAccessToken","setSecurityScheme","setUsername","setPassword","setProductionApiKey","setSandboxApiKey","productionApiKey","sandboxApiKey","environmentObject","setURLs","selectedKeyManager","showToken","setShowToken","setNotFound","setSelectedApplication","setKeyManagers","selectedKMObject","setSelectedKMObject","ksGenerated","setKSGenerated","urls","elm","URLs","subscriptionsList","newSelectedApplication","selectedKeyTypes","subscriptionsResponse","appKeys","responseKeyManagerList","filteredKMs","selectedKeys","Shared_Progress","isApiKeyEnabled","isBasicAuthEnabled","isOAuthEnabled","isTestKeyEnabled","prefix","isPrototypedAPI","showSecurityType","tokenValue","containerMngEnvMenuItems","envType","clusterDetails","deploymentEnvironmentName","clusterDisplayName","locale","Box_Box","Warning_default","ApiConsole_SelectAppPanel","what","sdefaultMessage","InputAdornment_InputAdornment","IconButton_IconButton","esm_Icon_Icon","Button_Button","apikey","CircularProgress_CircularProgress","Tooltip_Tooltip","icons_HelpOutline_default","inputAdornmentStart","disableAuthorizeAndInfoPlugin","wrapComponents","authorizeBtn","SwaggerUI","accessTokenProvider","componentProps","validatorUrl","defaultModelsExpandDepth","docExpansion","patternToCheck","endsWith","splitTokens","defaultModelExpandDepth","plugins","swagger_ui_react_default","TestConsole","TestConsole_defineProperty","apiObj","getResponse","apiData","testKey","updateAccessToken","httpVal","httpsVal","basePath","apiResponse","securtySchemas","shift","endpointURLs","scopeList","swaggerResponse","serverError","settingPromise","newServer","settingsNew","isUpdateToken","promiseSwagger","btoa","servers","schemes","isProtoTyped","enableForTest","ApiConsole_TryOutController","ApiConsole_SwaggerUI","userNotificationPaper","& span, & h5, & label, & td, & li, & div, & input","swaggerUIPaper","showTryout","swaggerUIBackground","documentBackground","tokenTextBoxBackground","Details","subPathKey","subPath","subPaths","matchPath","setAPI","setAPIProduct","isValidURL","apiProdUUID","getLeftMenuItemForDefinitionByType","pathPrefix","apiDefinitionMenuItem","Shared_LeftMenuItem","Code_default","getLeftMenuItemForResourcesByType","VerticalSplit_default","_updatedProperties","updatedProperties","update","updatedAPI","pageLocation","leftMenuIconMainSize","leftLInkMain","Dashboard_default","Build_default","Settings_default","GamesOutlined_default","RssFeed_default","Autorenew_default","PersonPinCircleOutlined_default","VpnKey_default","Business_default","List_default","LibraryBooks_default","LocalAtm_default","Store_default","components_APIDetailsTopMenu","contentInside","components_LastUpdatedTime","from","BASE","OVERVIEW_PRODUCT","NewOverview_Overview","OVERVIEW","API_DEFINITION","Details_APIDefinition_APIDefinition","APIDefinition_WSDL","API_DEFINITION_PRODUCT","SCHEMA_DEFINITION","LIFE_CYCLE","Details_LifeCycle_LifeCycle","CONFIGURATION","RUNTIME_CONFIGURATION","RUNTIME_CONFIGURATION_WEBSOCKET","RuntimeConfigurationWebSocket_RuntimeConfiguration","CONFIGURATION_PRODUCT","RUNTIME_CONFIGURATION_PRODUCT","ENDPOINTS","Details_Endpoints_Endpoints","ENVIRONMENTS","OPERATIONS","Details_Operations_Operations","RESOURCES_PRODUCT","RESOURCES_PRODUCT_EDIT","RESOURCES","SCOPES","Details_Scopes","DOCUMENTS","Details_Documents","DOCUMENTS_PRODUCT","SUBSCRIPTIONS","Subscriptions_Subscriptions","SUBSCRIPTIONS_PRODUCT","SECURITY","Details_Security","COMMENTS","Details_Comments_Comments","BUSINESS_INFO","Details_BusinessInformation_BusinessInformation","BUSINESS_INFO_PRODUCT","PROPERTIES","Properties_Properties","PROPERTIES_PRODUCT","NEW_VERSION","NewVersion","MONETIZATION","Details_Monetization","MONETIZATION_PRODUCT","TRYOUT","Details_TestConsole_TestConsole","EXTERNAL_STORES","BASE_PRODUCT","QUERYANALYSIS","freeze","leftMenuActive","detailsContent"],"mappings":"8EAAA,IAAAA,EAAA,CACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,gBAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,UAAA,KACAC,aAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,UAAA,KACAC,aAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,aAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,YAAA,KACAC,eAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,OAAA,KACAC,UAAA,KACAC,QAAA,KACAC,WAAA,KACAC,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","file":"DeferredDetails.238bbc879b0cda04784a.bundle.js","sourcesContent":["var map = {\n\t\"./af\": 1513,\n\t\"./af.js\": 1513,\n\t\"./ar\": 1514,\n\t\"./ar-dz\": 1515,\n\t\"./ar-dz.js\": 1515,\n\t\"./ar-kw\": 1516,\n\t\"./ar-kw.js\": 1516,\n\t\"./ar-ly\": 1517,\n\t\"./ar-ly.js\": 1517,\n\t\"./ar-ma\": 1518,\n\t\"./ar-ma.js\": 1518,\n\t\"./ar-sa\": 1519,\n\t\"./ar-sa.js\": 1519,\n\t\"./ar-tn\": 1520,\n\t\"./ar-tn.js\": 1520,\n\t\"./ar.js\": 1514,\n\t\"./az\": 1521,\n\t\"./az.js\": 1521,\n\t\"./be\": 1522,\n\t\"./be.js\": 1522,\n\t\"./bg\": 1523,\n\t\"./bg.js\": 1523,\n\t\"./bm\": 1524,\n\t\"./bm.js\": 1524,\n\t\"./bn\": 1525,\n\t\"./bn.js\": 1525,\n\t\"./bo\": 1526,\n\t\"./bo.js\": 1526,\n\t\"./br\": 1527,\n\t\"./br.js\": 1527,\n\t\"./bs\": 1528,\n\t\"./bs.js\": 1528,\n\t\"./ca\": 1529,\n\t\"./ca.js\": 1529,\n\t\"./cs\": 1530,\n\t\"./cs.js\": 1530,\n\t\"./cv\": 1531,\n\t\"./cv.js\": 1531,\n\t\"./cy\": 1532,\n\t\"./cy.js\": 1532,\n\t\"./da\": 1533,\n\t\"./da.js\": 1533,\n\t\"./de\": 1534,\n\t\"./de-at\": 1535,\n\t\"./de-at.js\": 1535,\n\t\"./de-ch\": 1536,\n\t\"./de-ch.js\": 1536,\n\t\"./de.js\": 1534,\n\t\"./dv\": 1537,\n\t\"./dv.js\": 1537,\n\t\"./el\": 1538,\n\t\"./el.js\": 1538,\n\t\"./en-SG\": 1539,\n\t\"./en-SG.js\": 1539,\n\t\"./en-au\": 1540,\n\t\"./en-au.js\": 1540,\n\t\"./en-ca\": 1541,\n\t\"./en-ca.js\": 1541,\n\t\"./en-gb\": 1542,\n\t\"./en-gb.js\": 1542,\n\t\"./en-ie\": 1543,\n\t\"./en-ie.js\": 1543,\n\t\"./en-il\": 1544,\n\t\"./en-il.js\": 1544,\n\t\"./en-nz\": 1545,\n\t\"./en-nz.js\": 1545,\n\t\"./eo\": 1546,\n\t\"./eo.js\": 1546,\n\t\"./es\": 1547,\n\t\"./es-do\": 1548,\n\t\"./es-do.js\": 1548,\n\t\"./es-us\": 1549,\n\t\"./es-us.js\": 1549,\n\t\"./es.js\": 1547,\n\t\"./et\": 1550,\n\t\"./et.js\": 1550,\n\t\"./eu\": 1551,\n\t\"./eu.js\": 1551,\n\t\"./fa\": 1552,\n\t\"./fa.js\": 1552,\n\t\"./fi\": 1553,\n\t\"./fi.js\": 1553,\n\t\"./fo\": 1554,\n\t\"./fo.js\": 1554,\n\t\"./fr\": 1555,\n\t\"./fr-ca\": 1556,\n\t\"./fr-ca.js\": 1556,\n\t\"./fr-ch\": 1557,\n\t\"./fr-ch.js\": 1557,\n\t\"./fr.js\": 1555,\n\t\"./fy\": 1558,\n\t\"./fy.js\": 1558,\n\t\"./ga\": 1559,\n\t\"./ga.js\": 1559,\n\t\"./gd\": 1560,\n\t\"./gd.js\": 1560,\n\t\"./gl\": 1561,\n\t\"./gl.js\": 1561,\n\t\"./gom-latn\": 1562,\n\t\"./gom-latn.js\": 1562,\n\t\"./gu\": 1563,\n\t\"./gu.js\": 1563,\n\t\"./he\": 1564,\n\t\"./he.js\": 1564,\n\t\"./hi\": 1565,\n\t\"./hi.js\": 1565,\n\t\"./hr\": 1566,\n\t\"./hr.js\": 1566,\n\t\"./hu\": 1567,\n\t\"./hu.js\": 1567,\n\t\"./hy-am\": 1568,\n\t\"./hy-am.js\": 1568,\n\t\"./id\": 1569,\n\t\"./id.js\": 1569,\n\t\"./is\": 1570,\n\t\"./is.js\": 1570,\n\t\"./it\": 1571,\n\t\"./it-ch\": 1572,\n\t\"./it-ch.js\": 1572,\n\t\"./it.js\": 1571,\n\t\"./ja\": 1573,\n\t\"./ja.js\": 1573,\n\t\"./jv\": 1574,\n\t\"./jv.js\": 1574,\n\t\"./ka\": 1575,\n\t\"./ka.js\": 1575,\n\t\"./kk\": 1576,\n\t\"./kk.js\": 1576,\n\t\"./km\": 1577,\n\t\"./km.js\": 1577,\n\t\"./kn\": 1578,\n\t\"./kn.js\": 1578,\n\t\"./ko\": 1579,\n\t\"./ko.js\": 1579,\n\t\"./ku\": 1580,\n\t\"./ku.js\": 1580,\n\t\"./ky\": 1581,\n\t\"./ky.js\": 1581,\n\t\"./lb\": 1582,\n\t\"./lb.js\": 1582,\n\t\"./lo\": 1583,\n\t\"./lo.js\": 1583,\n\t\"./lt\": 1584,\n\t\"./lt.js\": 1584,\n\t\"./lv\": 1585,\n\t\"./lv.js\": 1585,\n\t\"./me\": 1586,\n\t\"./me.js\": 1586,\n\t\"./mi\": 1587,\n\t\"./mi.js\": 1587,\n\t\"./mk\": 1588,\n\t\"./mk.js\": 1588,\n\t\"./ml\": 1589,\n\t\"./ml.js\": 1589,\n\t\"./mn\": 1590,\n\t\"./mn.js\": 1590,\n\t\"./mr\": 1591,\n\t\"./mr.js\": 1591,\n\t\"./ms\": 1592,\n\t\"./ms-my\": 1593,\n\t\"./ms-my.js\": 1593,\n\t\"./ms.js\": 1592,\n\t\"./mt\": 1594,\n\t\"./mt.js\": 1594,\n\t\"./my\": 1595,\n\t\"./my.js\": 1595,\n\t\"./nb\": 1596,\n\t\"./nb.js\": 1596,\n\t\"./ne\": 1597,\n\t\"./ne.js\": 1597,\n\t\"./nl\": 1598,\n\t\"./nl-be\": 1599,\n\t\"./nl-be.js\": 1599,\n\t\"./nl.js\": 1598,\n\t\"./nn\": 1600,\n\t\"./nn.js\": 1600,\n\t\"./pa-in\": 1601,\n\t\"./pa-in.js\": 1601,\n\t\"./pl\": 1602,\n\t\"./pl.js\": 1602,\n\t\"./pt\": 1603,\n\t\"./pt-br\": 1604,\n\t\"./pt-br.js\": 1604,\n\t\"./pt.js\": 1603,\n\t\"./ro\": 1605,\n\t\"./ro.js\": 1605,\n\t\"./ru\": 1606,\n\t\"./ru.js\": 1606,\n\t\"./sd\": 1607,\n\t\"./sd.js\": 1607,\n\t\"./se\": 1608,\n\t\"./se.js\": 1608,\n\t\"./si\": 1609,\n\t\"./si.js\": 1609,\n\t\"./sk\": 1610,\n\t\"./sk.js\": 1610,\n\t\"./sl\": 1611,\n\t\"./sl.js\": 1611,\n\t\"./sq\": 1612,\n\t\"./sq.js\": 1612,\n\t\"./sr\": 1613,\n\t\"./sr-cyrl\": 1614,\n\t\"./sr-cyrl.js\": 1614,\n\t\"./sr.js\": 1613,\n\t\"./ss\": 1615,\n\t\"./ss.js\": 1615,\n\t\"./sv\": 1616,\n\t\"./sv.js\": 1616,\n\t\"./sw\": 1617,\n\t\"./sw.js\": 1617,\n\t\"./ta\": 1618,\n\t\"./ta.js\": 1618,\n\t\"./te\": 1619,\n\t\"./te.js\": 1619,\n\t\"./tet\": 1620,\n\t\"./tet.js\": 1620,\n\t\"./tg\": 1621,\n\t\"./tg.js\": 1621,\n\t\"./th\": 1622,\n\t\"./th.js\": 1622,\n\t\"./tl-ph\": 1623,\n\t\"./tl-ph.js\": 1623,\n\t\"./tlh\": 1624,\n\t\"./tlh.js\": 1624,\n\t\"./tr\": 1625,\n\t\"./tr.js\": 1625,\n\t\"./tzl\": 1626,\n\t\"./tzl.js\": 1626,\n\t\"./tzm\": 1627,\n\t\"./tzm-latn\": 1628,\n\t\"./tzm-latn.js\": 1628,\n\t\"./tzm.js\": 1627,\n\t\"./ug-cn\": 1629,\n\t\"./ug-cn.js\": 1629,\n\t\"./uk\": 1630,\n\t\"./uk.js\": 1630,\n\t\"./ur\": 1631,\n\t\"./ur.js\": 1631,\n\t\"./uz\": 1632,\n\t\"./uz-latn\": 1633,\n\t\"./uz-latn.js\": 1633,\n\t\"./uz.js\": 1632,\n\t\"./vi\": 1634,\n\t\"./vi.js\": 1634,\n\t\"./x-pseudo\": 1635,\n\t\"./x-pseudo.js\": 1635,\n\t\"./yo\": 1636,\n\t\"./yo.js\": 1636,\n\t\"./zh-cn\": 1637,\n\t\"./zh-cn.js\": 1637,\n\t\"./zh-hk\": 1638,\n\t\"./zh-hk.js\": 1638,\n\t\"./zh-tw\": 1639,\n\t\"./zh-tw.js\": 1639\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2378;","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!./testconsole.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!./testconsole.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!./testconsole.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".MuiTypography-caption,.MuiTypography-h4{font-family:Open Sans,Helvetica,Arial,sans-serif!important}.MuiTypography-h4{font-size:1.3rem!important;font-weight:400!important;line-height:1.17!important}.MuiSvgIcon-root{width:1em!important;height:1em!important;display:inline-block!important;font-size:1.5rem!important;transition:fill .2s cubic-bezier(.4,0,.2,1) 0ms!important;flex-shrink:0!important;user-select:none!important}.MuiTypography-body1{font-size:.8571428571428571rem!important;font-family:Open Sans,Helvetica,Arial,sans-serif!important;font-weight:400!important;line-height:1.5!important}.MuiTypography-caption{font-size:.6428571428571428rem!important;font-family:Roboto,Helvetica,Arial,sans-serif!important;font-weight:400!important;line-height:1.66!important;letter-spacing:.03333em!important}.MuiListItemIcon-root svg{font-size:20px!important}.MuiTypography-subtitle1{font-size:.8571428571428571rem!important;font-family:Open Sans,Helvetica,Arial,sans-serif!important;font-weight:400!important;line-height:1.75!important}.jss4039{margin:5!important;padding:20px!important}\", \"\"]);\n\n// exports\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport CustomIcon from 'AppComponents/Shared/CustomIcon';\n\nconst styles = (theme) => ({\n    leftLInkText: {\n        color: theme.palette.getContrastText(theme.palette.background.leftMenu),\n        textTransform: theme.custom.leftMenuTextStyle,\n        width: '100%',\n        textAlign: 'left',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    leftLInkText_IconLeft: {\n        paddingLeft: 10,\n    },\n    LeftMenu: {\n        backgroundColor: theme.palette.background.leftMenu,\n        width: theme.custom.leftMenuWidth,\n        textAlign: 'center',\n        fontFamily: theme.typography.fontFamily,\n        position: 'absolute',\n        bottom: 0,\n        left: 0,\n        top: 0,\n    },\n    leftLInk: {\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        fontSize: theme.typography.caption.fontSize,\n        cursor: 'pointer',\n        textDecoration: 'none',\n    },\n    leftLink_Icon: {\n        color: theme.palette.getContrastText(theme.palette.background.leftMenu),\n        fontSize: theme.custom.leftMenuIconSize + 'px',\n    },\n    leftLink_IconLeft: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    noIcon: {\n        display: 'none',\n    },\n    leftLInkText_NoText: {\n        diplay: 'none',\n    },\n});\n\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nfunction LeftMenuItem(props) {\n    const [selected, setSelected] = useState(false);\n\n    const {\n        classes, theme, Icon, to, history, text, route,\n    } = props;\n    const routeToCheck = route || text;\n    const { leftMenu } = theme.custom;\n    const strokeColor = theme.palette.getContrastText(theme.palette.background.leftMenu);\n    const iconSize = theme.custom.leftMenuIconSize;\n    const ditectCurrentMenu = (location) => {\n        const { pathname } = location;\n        const test1 = new RegExp('/' + routeToCheck + '$', 'g');\n        const test2 = new RegExp('/' + routeToCheck + '/', 'g');\n        if (pathname.match(test1) || pathname.match(test2)) {\n            setSelected(true);\n        } else {\n            setSelected(false);\n        }\n    };\n    useEffect(() => {\n        const { location } = history;\n        ditectCurrentMenu(location);\n    }, []);\n    history.listen((location) => {\n        ditectCurrentMenu(location);\n    });\n\n    return (\n        <Link\n            className={classNames(\n                classes.leftLInk,\n                {\n                    [classes.leftLink_IconLeft]: leftMenu === 'icon left',\n                },\n                'leftLInk',\n            )}\n            to={to}\n            style={{ backgroundColor: selected ? theme.palette.background.appBarSelected : '' }}\n        >\n            {// If the icon pro ( which is comming from the React Material library )\n            // is coming we add css class and render.\n            // If leftMenu='no icon' at the theme object we hide the icon. Also we add static classes to\n            // allow customers theme\n            // the product without compiling.\n                Icon ? (\n                    React.cloneElement(Icon, {\n                        className: classNames(\n                            classes.leftLink_Icon,\n                            {\n                                [classes.noIcon]: leftMenu === 'no icon',\n                            },\n                            'leftLink_Icon',\n                        ),\n                    })\n                ) : (\n                // We can also add custom icons\n                    <CustomIcon\n                        strokeColor={strokeColor}\n                        width={iconSize}\n                        height={iconSize}\n                        icon={props.iconText}\n                        className={classNames(\n                            classes.leftLInk,\n                            {\n                                [classes.noIcon]: leftMenu === 'no icon',\n                            },\n                            'leftLink_Icon',\n                        )}\n                    />\n                )\n            }\n            <Typography\n                className={classNames(\n                    classes.leftLInkText,\n                    {\n                        [classes.leftLInkText_IconLeft]: leftMenu === 'icon left',\n                        [classes.leftLInkText_NoText]: leftMenu === 'no text',\n                    },\n                    'leftLInkText',\n                )}\n            >\n                {text}\n            </Typography>\n        </Link>\n    );\n}\nLeftMenuItem.defaultProps = {\n    route: null,\n    iconText: null,\n};\nLeftMenuItem.propTypes = {\n    classes: PropTypes.shape({\n        divider: PropTypes.string,\n        leftLInk: PropTypes.string,\n        leftLink_IconLeft: PropTypes.string,\n        noIcon: PropTypes.string,\n        leftLink_Icon: PropTypes.string,\n        leftLInkText: PropTypes.string,\n        leftLInkText_IconLeft: PropTypes.string,\n        leftLInkText_NoText: PropTypes.string,\n    }).isRequired,\n    theme: PropTypes.shape({\n        custom: PropTypes.shape({\n            leftMenu: PropTypes.string,\n            leftMenuIconSize: PropTypes.number,\n        }),\n        palette: PropTypes.shape({\n            getContrastText: PropTypes.func,\n            background: PropTypes.shape({\n                leftMenu: PropTypes.string,\n                appBar: PropTypes.string,\n            }),\n            leftMenu: PropTypes.string,\n        }),\n    }).isRequired,\n    Icon: PropTypes.element.isRequired,\n    text: PropTypes.string.isRequired,\n    to: PropTypes.string.isRequired,\n    route: PropTypes.string,\n    history: PropTypes.shape({\n        listen: PropTypes.func.isRequired,\n        location: PropTypes.string.isRequired,\n    }).isRequired,\n    iconText: PropTypes.string,\n};\nexport default withRouter(withStyles(styles, { withTheme: true })(LeftMenuItem));\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Typography, Tooltip } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\n\n/**\n * API/Product last updated time.\n * @param {Parameter} props last updated time.\n * @returns {Property} The sum of the two numbers.\n */\nfunction LastUpdatedTime(props) {\n    const { lastUpdatedTime } = props;\n    return (\n        <div style={{ float: 'right' }}>\n            <Tooltip\n                title={moment(lastUpdatedTime).calendar()}\n                aria-label='add'\n            >\n                <Typography variant='caption' display='block'>\n                    <FormattedMessage\n                        id='Apis.Details.components.APIDetailsTopMenu.last.updated.time'\n                        defaultMessage='Last updated:'\n                    />\n                    {' '}\n                    {moment(lastUpdatedTime).fromNow()}\n                </Typography>\n            </Tooltip>\n        </div>\n    );\n}\n\nLastUpdatedTime.propTypes = {\n    lastUpdatedTime: PropTypes.shape({ content: PropTypes.string }).isRequired,\n};\n\nexport default (LastUpdatedTime);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { withStyles, withTheme } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Chip from '@material-ui/core/Chip';\nimport { FormattedMessage } from 'react-intl';\nimport Box from '@material-ui/core/Box';\nimport { Link } from 'react-router-dom';\nimport LaunchIcon from '@material-ui/icons/Launch';\n\nimport Typography from '@material-ui/core/Typography';\nimport Api from 'AppData/api';\nimport CONSTS from 'AppData/Constants';\nimport { doRedirectToLogin } from 'AppComponents/Shared/RedirectToLogin';\n\nfunction RenderMethodBase(props) {\n    const { theme, method } = props;\n    let chipColor = theme.custom.resourceChipColors ? theme.custom.resourceChipColors[method] : null;\n    let chipTextColor = '#000000';\n    if (!chipColor) {\n        console.log('Check the theme settings. The resourceChipColors is not populated properly');\n        chipColor = '#cccccc';\n    } else {\n        chipTextColor = theme.palette.getContrastText(theme.custom.resourceChipColors[method]);\n    }\n    return (\n        <Chip\n            label={method.toUpperCase()}\n            style={{\n                backgroundColor: chipColor, color: chipTextColor, height: 20, marginRight: 5,\n            }}\n        />\n    );\n}\n\nRenderMethodBase.propTypes = {\n    method: PropTypes.string.isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n};\n\nconst RenderMethod = withTheme(RenderMethodBase);\n\nconst styles = {\n    root: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: 10,\n    },\n    heading: {\n        marginRight: 20,\n    },\n    contentWrapper: {\n        maxHeight: '125px',\n        overflowY: 'auto',\n    },\n};\n\nclass Resources extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            paths: null,\n        };\n        this.restApi = new Api();\n    }\n\n    componentDidMount() {\n        const { id } = this.props.api;\n        const promisedAPI = this.restApi.getSwagger(id);\n        promisedAPI\n            .then((response) => {\n                if (response.obj.paths !== undefined) {\n                    this.setState({ paths: response.obj.paths });\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') console.log(error);\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n    }\n\n    render() {\n        const { paths } = this.state;\n        if (this.state.notFound) {\n            return (\n                <div>\n                    <FormattedMessage\n                        id='Apis.Details.NewOverview.Resources.resource.not.found'\n                        defaultMessage='resource not found...'\n                    />\n                </div>\n            );\n        }\n        if (!paths) {\n            return (\n                <div>\n                    <FormattedMessage\n                        id='Apis.Details.NewOverview.Resources.loading'\n                        defaultMessage='loading...'\n                    />\n                </div>\n            );\n        }\n        const { classes, parentClasses, api } = this.props;\n        return (\n            <>\n                <div className={parentClasses.titleWrapper}>\n                    { api.type === 'GraphQL' ? (\n                        <Typography variant='h5' component='h3' className={parentClasses.title}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.Operations.operations'\n                                defaultMessage='Operation'\n                            />\n                        </Typography>\n                    )\n                        : (\n                            <Typography variant='h5' component='h3' className={parentClasses.title}>\n                                <FormattedMessage\n                                    id='Apis.Details.NewOverview.Resources.resources'\n                                    defaultMessage='Resources'\n                                />\n                            </Typography>\n                        )}\n                </div>\n                <Box p={1}>\n                    <div className={classes.contentWrapper}>\n                        {Object.keys(paths).map((key) => {\n                            const path = paths[key];\n                            return (\n                                <div className={classes.root}>\n                                    <Typography className={classes.heading} variant='body1'>\n                                        {key}\n                                    </Typography>\n                                    {Object.keys(path).map((innerKey) => {\n                                        return CONSTS.HTTP_METHODS.includes(innerKey)\n                                            ? <RenderMethod method={innerKey} /> : null;\n                                    })}\n                                </div>\n                            );\n                        })}\n                    </div>\n                    <Link to={'/apis/' + api.id + '/resources'}>\n                        <Typography\n                            className={classes.subHeading}\n                            color='primary'\n                            display='inline'\n                            variant='caption'\n                        >\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.Operations.ShowMore'\n                                defaultMessage='Show More'\n                            />\n                            <LaunchIcon style={{ marginLeft: '2px' }} fontSize='small' />\n                        </Typography>\n                    </Link>\n                </Box>\n            </>\n        );\n    }\n}\nResources.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    history: PropTypes.shape({\n        push: PropTypes.shape({}),\n    }).isRequired,\n    location: PropTypes.shape({\n        pathname: PropTypes.shape({}),\n    }).isRequired,\n    parentClasses: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({ id: PropTypes.string }).isRequired,\n};\n\nexport default withStyles(styles)(Resources);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { withStyles, withTheme } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Chip from '@material-ui/core/Chip';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport Box from '@material-ui/core/Box';\nimport { Link } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Typography from '@material-ui/core/Typography';\nimport ApiContext from '../components/ApiContext';\n\nconst styles = (theme) => ({\n    contentWrapper: {\n        marginTop: theme.spacing(2),\n        maxHeight: '250px',\n        overflowY: 'auto',\n    },\n});\n\n/**\n *\n * @param {*} props\n */\nfunction RenderMethodBase(props) {\n    const { theme, method } = props;\n    const methodLower = method.toLowerCase();\n    let chipColor = theme.custom.operationChipColor\n        ? theme.custom.operationChipColor[methodLower]\n        : null;\n    let chipTextColor = '#000000';\n    if (!chipColor) {\n        console.log('Check the theme settings. The resourceChipColors is not populated properlly');\n        chipColor = '#cccccc';\n    } else {\n        chipTextColor = theme.palette.getContrastText(theme.custom.operationChipColor[methodLower]);\n    }\n    return (\n        <Chip\n            label={method}\n            style={{\n                backgroundColor: chipColor, color: chipTextColor, height: 20, fontSize: 9, width: 95,\n            }}\n        />\n    );\n}\n\nRenderMethodBase.propTypes = {\n    method: PropTypes.string.isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n};\n\nconst RenderMethod = withTheme(RenderMethodBase);\n/**\n *\n * @param {*} props\n */\nfunction Operations(props) {\n    const { classes, parentClasses } = props;\n    return (\n        <ApiContext.Consumer>\n            {({ api }) => (\n                <>\n                    <div className={parentClasses.titleWrapper}>\n                        <Typography variant='h5' component='h3' className={parentClasses.title}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.Operations.operation'\n                                defaultMessage='Operations'\n                            />\n                        </Typography>\n                    </div>\n                    <div>\n                        <div className={classes.contentWrapper}>\n                            <Table style={{ padding: 20 }}>\n                                {api.operations\n                            && api.operations.length !== 0\n                            && api.operations.map((item) => (\n                                <TableRow style={{ borderStyle: 'hidden' }}>\n                                    <TableCell style={{ padding: 8 }}>\n                                        <Typography className={parentClasses.heading} component='p' variant='body1'>\n                                            {item.target}\n                                        </Typography>\n                                    </TableCell>\n                                    <TableCell style={{ padding: 8 }}>\n                                        <RenderMethod method={item.verb} />\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            </Table>\n                        </div>\n                        <Box py={2}>\n                            <Link to={'/apis/' + api.id + '/operations'}>\n                                <Typography\n                                    className={classes.subHeading}\n                                    color='primary'\n                                    display='inline'\n                                    variant='caption'\n                                >\n                                    <FormattedMessage\n                                        id='Apis.Details.NewOverview.Operations.ShowMore'\n                                        defaultMessage='Show More'\n                                    />\n                                    <LaunchIcon style={{ marginLeft: '2px' }} fontSize='small' />\n                                </Typography>\n                            </Link>\n                        </Box>\n                    </div>\n                </>\n            )}\n        </ApiContext.Consumer>\n    );\n}\n\nOperations.propTypes = {\n    parentClasses: PropTypes.shape({}).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n};\n\nexport default withStyles(styles)(Operations);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { withStyles, withTheme } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Chip from '@material-ui/core/Chip';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage } from 'react-intl';\n\n/**\n * Render method base.\n * @param {*} props\n */\nfunction RenderMethodBase(props) {\n    const { theme, method } = props;\n    const methodLower = method.toLowerCase();\n    let chipColor = theme.custom.resourceChipColors ? theme.custom.resourceChipColors[methodLower] : null;\n    let chipTextColor = '#000000';\n    if (!chipColor) {\n        console.log('Check the theme settings. The resourceChipColors is not populated properly');\n        chipColor = '#cccccc';\n    } else {\n        chipTextColor = theme.palette.getContrastText(theme.custom.resourceChipColors[methodLower]);\n    }\n    return (\n        <Chip\n            label={method.toUpperCase()}\n            style={{ backgroundColor: chipColor, color: chipTextColor, height: 20 }}\n        />\n    );\n}\n\nRenderMethodBase.propTypes = {\n    method: PropTypes.string.isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n};\n\nconst RenderMethod = withTheme(RenderMethodBase);\n\nconst styles = {\n    root: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'left',\n        marginBottom: 10,\n        padding: 5,\n    },\n    heading: {\n        marginRight: 20,\n        paddingBottom: 10,\n    },\n    resourceRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        marginLeft: 10,\n    },\n};\n\n/**\n * Component to show api product resources in overview tab\n */\nclass ProductResources extends React.PureComponent {\n    /**\n     * @inheritDoc\n     */\n    render() {\n        const { classes, parentClasses, api } = this.props;\n        const apiResources = api.apis;\n        return (\n            <>\n                <div className={parentClasses.titleWrapper} style={{ margin: '20px 0 0' }}>\n                    <Typography variant='h5' component='h3' className={parentClasses.title}>\n                        <FormattedMessage\n                            id='Apis.Details.Overview.ProductResources.resources'\n                            defaultMessage='Resources'\n                        />\n                    </Typography>\n                </div>\n                <div className={classes.root}>\n                    <div className={classes.contentWrapper}>\n                        {Object.keys(apiResources).map((key) => {\n                            const resource = apiResources[key];\n                            return (\n                                <div className={classes.root}>\n                                    <Typography className={classes.heading} variant='body1'>\n                                        {resource.name + ' : ' + resource.version}\n                                    </Typography>\n                                    {Object.keys(resource.operations).map((innerKey) => {\n                                        const operation = (resource.operations)[innerKey];\n                                        return (\n                                            <div className={classes.resourceRow}>\n                                                <Typography className={classes.heading} variant='body1'>\n                                                    {operation.target}\n                                                </Typography>\n                                                <RenderMethod method={operation.verb} />\n\n                                            </div>\n                                        );\n                                    })}\n\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            </>\n        );\n    }\n}\nProductResources.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    history: PropTypes.shape({\n        push: PropTypes.shape({}),\n    }).isRequired,\n    location: PropTypes.shape({\n        pathname: PropTypes.shape({}),\n    }).isRequired,\n    parentClasses: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({ id: PropTypes.string }).isRequired,\n};\n\nexport default withStyles(styles)(ProductResources);\n","/*\n *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n *  WSO2 Inc. licenses this file to you under the Apache License,\n *  Version 2.0 (the \"License\"); you may not use this file except\n *  in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing,\n *  software distributed under the License is distributed on an\n *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n *  KIND, either express or implied. See the License for the\n *  specific language governing permissions and limitations\n *  under the License.\n */\n\n\n/**\n * Capitalize the first letter of a string\n * @param {string} string string to be formatted\n * @return {string} formatted string\n */\nfunction capitalizeFirstLetter(string) {\n    return string && string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n/**\n * Lowercase all letters in a string\n * @param {string} string string to be formatted\n * @return {string} formatted string\n */\nfunction lowerCaseString(string) {\n    return string.toLowerCase();\n}\n\n/**\n * Uppercase all letters in a string\n * @param {string} string string to be formatted\n * @return {string} formatted string\n */\nfunction upperCaseString(string) {\n    return string.toUpperCase();\n}\n\nexport { capitalizeFirstLetter, lowerCaseString, upperCaseString };\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nfunction Policies(props) {\n    const { parentClasses, api } = props;\n    return (\n        <>\n            <Grid item xs={12} md={6} lg={4}>\n                <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                    <FormattedMessage\n                        id='Apis.Details.NewOverview.Policies.business.plans'\n                        defaultMessage='Business Plans:'\n                    />\n                </Typography>\n            </Grid>\n            <Grid item xs={12} md={6} lg={8}>\n                {/* Throttling Policies */}\n                <Typography component='p' variant='body1'>\n                    {api.policies\n                    && api.policies.length !== 0\n                    && api.policies.map((item, index) => (\n                        <span>\n                            {item}\n                            {api.policies.length !== index + 1 && ', '}\n                            {' '}\n                        </span>\n                    ))}\n                </Typography>\n            </Grid>\n        </>\n    );\n}\n\nPolicies.propTypes = {\n    parentClasses: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({}).isRequired,\n};\n\nexport default withAPI(Policies);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useContext } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Chip from '@material-ui/core/Chip';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport Box from '@material-ui/core/Box';\nimport API from 'AppData/api';\nimport { capitalizeFirstLetter, upperCaseString, lowerCaseString } from 'AppData/stringFormatter';\nimport APIContext from '../components/ApiContext';\nimport Policies from './Policies';\n\nconst HUMAN_READABLE_SCHEMES = {\n    oauth2: 'OAuth2',\n    basic_auth: 'Basic Auth',\n    mutualssl: 'Mutual TLS',\n    api_key: 'API Key',\n};\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nfunction Configuration(props) {\n    const { parentClasses } = props;\n    const { api } = useContext(APIContext);\n\n    return (\n        <>\n            <div>\n                <Typography variant='h5' component='h3' className={parentClasses.title}>\n                    <FormattedMessage id='Apis.Details.NewOverview.MetaData.config' defaultMessage='Configuration' />\n                </Typography>\n            </div>\n            <Box p={1}>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} md={6} lg={4}>\n                        {/* Transports */}\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.MetaData.transports'\n                                defaultMessage='Transports'\n                            />\n                            <Tooltip\n                                placement='top'\n                                tabIndex='-1'\n                                classes={{\n                                    tooltip: parentClasses.htmlTooltip,\n                                }}\n                                title={(\n                                    <>\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.MetaData.transport.tooltip'\n                                            defaultMessage={\n                                                'HTTP is less secure than HTTPS and '\n                                                + 'makes your API vulnerable to security threats.'\n                                            }\n                                        />\n                                    </>\n                                )}\n                            >\n                                <Button className={parentClasses.helpButton}>\n                                    <HelpOutline className={parentClasses.helpIcon} />\n                                </Button>\n                            </Tooltip>\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {api.transport && api.transport.length !== 0 && (\n                                <>\n                                    {api.transport.map((item, index) => (\n                                        <span>\n                                            {upperCaseString(item)}\n                                            {api.transport.length !== index + 1 && ', '}\n                                        </span>\n                                    ))}\n                                </>\n                            )}\n                            {!api.transport && (\n                                <>\n                                    <Typography component='p' variant='body1' className={parentClasses.notConfigured}>\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.MetaData.transports.not.set'\n                                            defaultMessage='-'\n                                        />\n                                    </Typography>\n                                </>\n                            )}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={4}>\n                        {/* API Security */}\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.MetaData.securityScheme'\n                                defaultMessage='API Security'\n                            />\n                            <Tooltip\n                                placement='top'\n                                tabIndex='-1'\n                                classes={{\n                                    tooltip: parentClasses.htmlTooltip,\n                                }}\n                                title={(\n                                    <>\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.MetaData.securityScheme.tooltip'\n                                            defaultMessage='OAuth2 is used as the default security schema.'\n                                        />\n                                    </>\n                                )}\n                            >\n                                <Button className={parentClasses.helpButton}>\n                                    <HelpOutline className={parentClasses.helpIcon} />\n                                </Button>\n                            </Tooltip>\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {api.securityScheme && api.securityScheme.length !== 0 && (\n                                <>\n                                    {api.securityScheme\n                                        .filter((item) => !item.includes('mandatory'))\n                                        .map((filteredItem) => HUMAN_READABLE_SCHEMES[filteredItem])\n                                        .join(' , ')}\n                                </>\n                            )}\n                            {!api.securityScheme && (\n                                <>\n                                    <Typography component='p' variant='body1' className={parentClasses.notConfigured}>\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.MetaData.securityScheme.not.set'\n                                            defaultMessage='-'\n                                        />\n                                    </Typography>\n                                </>\n                            )}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={4}>\n                        {/* Access Control */}\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.MetaData.access.control'\n                                defaultMessage='Access Control'\n                            />\n                            <Tooltip\n                                placement='top'\n                                tabIndex='-1'\n                                classes={{\n                                    tooltip: parentClasses.htmlTooltip,\n                                }}\n                                title={(\n                                    <>\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.MetaData.access.control.all.tooltip'\n                                            defaultMessage={\n                                                'All : The API is viewable, '\n                                                + 'modifiable by all the publishers and creators.'\n                                            }\n                                        />\n                                        <br />\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.MetaData.access.control.tooltip'\n                                            defaultMessage={\n                                                'Restricted by roles : The API can be viewable and'\n                                                + ' modifiable by only specific publishers and creators '\n                                                + 'with the roles that you specify'\n                                            }\n                                        />\n                                    </>\n                                )}\n                            >\n                                <Button className={parentClasses.helpButton}>\n                                    <HelpOutline className={parentClasses.helpIcon} />\n                                </Button>\n                            </Tooltip>\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {api.accessControl && (\n                                <>\n                                    {capitalizeFirstLetter(lowerCaseString(api.accessControl))}\n                                </>\n                            )}\n                            {api.accessControl === 'RESTRICTED' && ' ( Visible to '}\n                            {api.accessControl === 'RESTRICTED' && api.accessControlRoles.join()}\n                            {api.accessControl === 'RESTRICTED' && ' ) '}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={4}>\n                        {/* workflowStatus */}\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.MetaData.workflow.status'\n                                defaultMessage='Workflow Status'\n                            />\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {api.workflowStatus && <>{api.workflowStatus}</>}\n                            {!api.workflowStatus && (\n                                <>\n                                    <Typography component='p' variant='body1' className={parentClasses.notConfigured}>\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.MetaData.workflowStatus.not.set'\n                                            defaultMessage='-'\n                                        />\n                                    </Typography>\n                                </>\n                            )}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={4}>\n                        {/* Visibility */}\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.MetaData.visibility.store'\n                                defaultMessage='Visibility on Developer Portal'\n                            />\n                            <Tooltip\n                                placement='top'\n                                tabIndex='-1'\n                                classes={{\n                                    tooltip: parentClasses.htmlTooltip,\n                                }}\n                                title={(\n                                    <>\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.MetaData.visibility.store.all.tooltip'\n                                            defaultMessage={\n                                                'Public: The API is accessible to everyone and can be advertised '\n                                                + 'in multiple developer portals - a central developer portal '\n                                                + 'and/or non-WSO2 developer portals.'\n                                            }\n                                        />\n                                        <br />\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.MetaData.visibility.store.res.tooltip'\n                                            defaultMessage={\n                                                'Restricted by roles: The API is visible only to '\n                                                + 'specific user roles in the tenant Developer Portal that you specify.'\n                                            }\n                                        />\n                                    </>\n                                )}\n                            >\n                                <Button className={parentClasses.helpButton}>\n                                    <HelpOutline className={parentClasses.helpIcon} />\n                                </Button>\n                            </Tooltip>\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {(api.visibility && api.visibility === 'PRIVATE')\n                                ? (\n                                    <>\n                                    Visible to my domain\n                                    </>\n                                )\n                                : (\n                                    <>\n                                        {capitalizeFirstLetter(lowerCaseString(api.visibility))}\n                                    </>\n                                )}\n                            {api.visibility === 'RESTRICTED' && ' ( Visible to '}\n                            {api.visibility === 'RESTRICTED' && api.visibleRoles.join()}\n                            {api.visibility === 'RESTRICTED' && ' ) '}\n                        </Typography>\n                    </Grid>\n                    <Policies parentClasses={parentClasses} />\n                    {api.apiType === API.CONSTS.APIProduct ? null : (\n                        <>\n                            <Grid item xs={12} md={6} lg={4}>\n                                <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                                    <FormattedMessage\n                                        id='Apis.Details.NewOverview.MetaData.tags'\n                                        defaultMessage='Tags'\n                                    />\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12} md={6} lg={8}>\n                                {api.tags\n                                    && api.tags.map((tag) => (\n                                        <Chip\n                                            key={tag}\n                                            label={tag}\n                                            style={{\n                                                'font-size': 13,\n                                                height: 20,\n                                                marginRight: 5,\n                                            }}\n                                        />\n                                    ))}\n                                {api.tags.length === 0 && (\n                                    <>\n                                        <Typography\n                                            component='p'\n                                            variant='body1'\n                                            className={parentClasses.notConfigured}\n                                        >\n                                            <FormattedMessage\n                                                id='Apis.Details.NewOverview.MetaData.tags.not.set'\n                                                defaultMessage='-'\n                                            />\n                                        </Typography>\n                                    </>\n                                )}\n                            </Grid>\n                        </>\n                    )}\n                </Grid>\n            </Box>\n        </>\n    );\n}\n\nConfiguration.propTypes = {\n    parentClasses: PropTypes.shape({}).isRequired,\n};\n\nexport default Configuration;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport Grid from '@material-ui/core/Grid';\nimport green from '@material-ui/core/colors/green';\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Link } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport ApiContext, { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport { useAppContext } from 'AppComponents/Shared/AppContext';\nimport Alert from 'AppComponents/Shared/Alert';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport AuthManager from 'AppData/AuthManager';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '90%',\n    },\n    button: {\n        color: theme.palette.secondary,\n        marginRight: theme.spacing(1),\n    },\n    gridRequirements: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: theme.spacing(2),\n    },\n    gridSmall: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginLeft: 0,\n        marginTop: theme.spacing(1),\n    },\n    gridEndpoint: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginLeft: 0,\n        marginRight: theme.spacing(4.2),\n        marginTop: theme.spacing(0.5),\n    },\n    iconTrue: {\n        color: green[500],\n        display: 'block',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        marginRight: theme.spacing(1),\n    },\n    iconFalse: {\n        color: theme.palette.grey[500],\n        display: 'block',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        marginRight: theme.spacing(1),\n    },\n    arrowIcon: {\n        position: 'absolute',\n        top: '16px',\n        right: '-76px',\n        fontSize: '7.9461rem',\n        color: theme.palette.background.default,\n        zIndex: theme.zIndex.overviewArrow,\n    },\n    label: {\n        paddingLeft: '0',\n        paddingRight: '0',\n        flexBasis: '33.3333%',\n        maxWidth: '33.3333%',\n    },\n    stepper: {\n        background: 'transparent',\n        marginLeft: theme.spacing(10),\n    },\n    box: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        backgroundColor: 'transparent',\n        padding: '2px',\n        height: '82px',\n        borderRight: '0',\n        marginRight: '0',\n    },\n    pointerStart: {\n        height: 82,\n        position: 'relative',\n        background: theme.custom.overviewStepper.backgrounds.completed,\n        marginRight: '21px',\n        '&:before': {\n            content: '\"\"',\n            position: 'absolute',\n            right: '-41px',\n            bottom: 0,\n            width: 0,\n            height: 0,\n            borderLeft: '41px solid',\n            borderLeftColor: theme.custom.overviewStepper.backgrounds.completed,\n            borderTop: '41px solid transparent',\n            borderBottom: '41px solid transparent',\n        },\n    },\n    pointerMiddle: {\n        height: 82,\n        position: 'relative',\n        background: theme.custom.overviewStepper.backgrounds.active,\n        margin: '0 20px',\n        '&:before': {\n            content: '\"\"',\n            position: 'absolute',\n            right: '-41px',\n            bottom: 0,\n            width: 0,\n            height: 0,\n            borderLeft: '41px solid',\n            borderLeftColor: theme.custom.overviewStepper.backgrounds.active,\n            borderTop: '41px solid transparent',\n            borderBottom: '41px solid transparent',\n        },\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            left: 0,\n            bottom: 0,\n            width: 0,\n            height: 0,\n            borderLeft: '41px solid',\n            borderLeftColor: theme.custom.wrapperBackground,\n            borderTop: '41px solid transparent',\n            borderBottom: '41px solid transparent',\n        },\n    },\n    pointerEnd: {\n        height: 82,\n        position: 'relative',\n        background: theme.custom.overviewStepper.backgrounds.inactive,\n        marginLeft: '21px',\n        '&:after': {\n            content: '\"\"',\n            position: 'absolute',\n            left: 0,\n            bottom: 0,\n            width: 0,\n            height: 0,\n            borderLeft: '41px solid',\n            borderLeftColor: theme.custom.wrapperBackground,\n            borderTop: '41px solid transparent',\n            borderBottom: '41px solid transparent',\n        },\n    },\n    pointerMiddleCompleted: {\n        background: theme.custom.overviewStepper.backgrounds.completed,\n        '&:before': {\n            borderLeftColor: theme.custom.overviewStepper.backgrounds.completed,\n        },\n    },\n    pointerEndActive: {\n        background: theme.custom.overviewStepper.backgrounds.active,\n    },\n    pointerEndCompleted: {\n        background: theme.custom.overviewStepper.backgrounds.completed,\n    },\n    stepIcon: {\n        fontSize: theme.custom.overviewStepper.iconSize,\n    },\n}));\n\n/**\n * This component renders the API steps\n *\n */\nexport default function CustomizedSteppers() {\n    const [api, updateAPI] = useAPI();\n    const classes = useStyles();\n    const { settings, user } = useAppContext();\n    const isEndpointAvailable = api.endpointConfig !== null;\n    const isTierAvailable = api.policies.length !== 0;\n    const isPrototypedAvailable = api.endpointConfig !== null\n        && api.endpointConfig.implementation_status === 'prototyped';\n    const [lifecycleState, setlifecycleState] = useState([]);\n    const [isUpdating, setUpdating] = useState(false);\n    const { tenantList } = useContext(ApiContext);\n    const userNameSplit = user.name.split('@');\n    const tenantDomain = userNameSplit[userNameSplit.length - 1];\n    let devportalUrl = `${settings.storeUrl}/apis/${api.id}/overview`;\n    if (tenantList && tenantList.length > 0) {\n        devportalUrl = `${settings.storeUrl}/apis/${api.id}/overview?tenant=${tenantDomain}`;\n    }\n\n    useEffect(() => {\n        api.getLcState(api.id)\n            .then((result) => {\n                setlifecycleState(result.body.state);\n            });\n    }, []);\n\n    /**\n * Update the LifeCycle state of the API\n *\n */\n    function updateLCStateOfAPI(apiId, state) {\n        setUpdating(true);\n        const promisedUpdate = api.updateLcState(apiId, state);\n        promisedUpdate\n            .then(() => {\n                updateAPI()\n                    .then()\n                    .catch((error) => {\n                        if (error.response) {\n                            Alert.error(error.response.body.description);\n                        } else {\n                            Alert.error('Something went wrong while updating the API');\n                        }\n                        console.error(error);\n                    });\n                Alert.info('Lifecycle state updated successfully');\n            })\n            .finally(() => setUpdating(false))\n            .catch((errorResponse) => {\n                console.log(errorResponse);\n                Alert.error(JSON.stringify(errorResponse.message));\n            });\n    }\n\n    /**\n * This function renders the final lifecycle state\n * @param {*} state\n */\n    function finalLifecycleState(state) {\n        switch (state) {\n            case 'Published':\n                return (\n                    <Grid xs={12} display='block'>\n                        <Grid xs={12}>\n                            <Typography variant='h5'>\n                                <FormattedMessage\n                                    id='Apis.Details.Overview.CustomizedStepper.published'\n                                    defaultMessage='Published'\n                                />\n                            </Typography>\n                        </Grid>\n                        <Grid xs={12}>\n                            <a\n                                target='_blank'\n                                rel='noopener noreferrer'\n                                href={devportalUrl}\n                                className={classes.viewInStoreLauncher}\n                            >\n                                <Typography\n                                    variant='h6'\n                                    color='primary'\n                                >\n                                    <FormattedMessage\n                                        id='Apis.Details.components.APIDetailsTopMenu.view.in.portal'\n                                        defaultMessage='View in Dev Portal'\n                                    />\n                                    <LaunchIcon style={{ marginLeft: '5px' }} fontSize='small' />\n                                </Typography>\n                            </a>\n                        </Grid>\n                    </Grid>\n                );\n            case 'Prototyped':\n                return (\n                    <Typography variant='h5'>\n                        <FormattedMessage\n                            id='Apis.Details.Overview.CustomizedStepper.prototyped'\n                            defaultMessage='Prototyped'\n                        />\n                    </Typography>\n                );\n            case 'Blocked':\n                return (\n                    <Typography variant='h5'>\n                        <FormattedMessage\n                            id='Apis.Details.Overview.CustomizedStepper.blocked'\n                            defaultMessage='Blocked'\n                        />\n                    </Typography>\n                );\n            case 'Deprecated':\n                return (\n                    <Typography variant='h5'>\n                        <FormattedMessage\n                            id='Apis.Details.Overview.CustomizedStepper.deprecated'\n                            defaultMessage='Deprecated'\n                        />\n                    </Typography>\n                );\n            case 'Retired':\n                return (\n                    <Typography variant='h5'>\n                        <FormattedMessage\n                            id='Apis.Details.Overview.CustomizedStepper.retired'\n                            defaultMessage='Retired'\n                        />\n                    </Typography>\n                );\n            default:\n                return (\n                    <Grid xs={12} display='block'>\n                        <Grid xs={12}>\n                            {isPrototypedAvailable ? (\n                                <Button\n                                    variant='contained'\n                                    color='primary'\n                                    onClick={() => updateLCStateOfAPI(api.id, 'Deploy as a Prototype')}\n                                    disabled={api.workflowStatus === 'CREATED' || AuthManager.isNotPublisher()}\n                                >\n                                        Deploy as a prototype\n                                    {isUpdating && <CircularProgress size={20} />}\n                                </Button>\n\n                            ) : (\n                                <Button\n                                    variant='contained'\n                                    color='primary'\n                                    onClick={() => updateLCStateOfAPI(api.id, 'Publish')}\n                                    disabled={(!isEndpointAvailable || !isTierAvailable)\n                                        || AuthManager.isNotPublisher() || api.workflowStatus === 'CREATED'}\n                                >\n                                        Publish\n                                    {isUpdating && <CircularProgress size={20} />}\n                                </Button>\n                            )}\n                        </Grid>\n                        {api.workflowStatus === 'CREATED' && (\n                            <Grid xs={12}>\n                                <Typography variant='caption' color='error'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Overview.CustomizedStepper.pending'\n                                        defaultMessage='The request is pending'\n                                    />\n                                </Typography>\n                            </Grid>\n                        )}\n                    </Grid>\n                );\n        }\n    }\n\n\n    let activeStep = 0;\n    if (lifecycleState === 'Created' && ((isEndpointAvailable && isTierAvailable) || isPrototypedAvailable)) {\n        activeStep = 2;\n    } else if (lifecycleState === 'Created') {\n        activeStep = 1;\n    } else if (lifecycleState !== 'Created') {\n        activeStep = 3;\n    }\n\n    const step2Class = activeStep > 1 ? classes.pointerMiddleCompleted : '';\n    let step3Class;\n    if (activeStep === 2) {\n        step3Class = classes.pointerEndActive;\n    } else if (activeStep === 3) {\n        step3Class = classes.pointerEndCompleted;\n    } else {\n        step3Class = '';\n    }\n\n    return (\n        <div className={classes.root}>\n            <Stepper alternativeLabel activeStep={activeStep} className={classes.stepper}>\n                <Step className={classes.label}>\n                    <StepLabel style={{ position: 'relative' }} StepIconProps={{ classes: { root: classes.stepIcon } }}>\n                        <div className={classes.pointerStart}>\n                            <Box className={classes.box}>\n                                <Typography variant='h5'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Overview.CustomizedStepper.create'\n                                        defaultMessage='Created'\n                                    />\n                                </Typography>\n                            </Box>\n                        </div>\n                    </StepLabel>\n                </Step>\n                <Step className={classes.label}>\n                    <StepLabel style={{ position: 'relative' }} StepIconProps={{ classes: { root: classes.stepIcon } }}>\n                        <div className={`${classes.pointerMiddle} ${step2Class}`}>\n                            <Box p={2} borderLeft='0' borderRight='0'>\n                                <Tooltip\n                                    title={isEndpointAvailable ? '' : 'You have to specify an endpoint for the API'}\n                                    placement='top'\n                                >\n                                    <Grid className={classes.gridEndpoint}>\n                                        {isEndpointAvailable ? (\n                                            <CheckIcon className={classes.iconTrue} />\n                                        ) : (\n                                            <CloseIcon className={classes.iconFalse} />\n                                        )}\n                                        <Typography variant='h7'>\n                                            <FormattedMessage\n                                                id='Apis.Details.Overview.CustomizedStepper.business.plan.endpoint'\n                                                defaultMessage='Endpoint'\n                                            />\n                                        </Typography>\n                                        <Link to={'/apis/' + api.id + '/endpoints'}>\n                                            <LaunchIcon\n                                                style={{ marginLeft: '5px' }}\n                                                color='primary'\n                                                fontSize='small'\n                                            />\n                                        </Link>\n                                    </Grid>\n                                </Tooltip>\n                                <Tooltip\n                                    title={isTierAvailable ? '' : 'You have to select the business plan for the API'}\n                                    placement='bottom'\n                                >\n                                    <Grid xs={12} className={classes.gridSmall}>\n                                        {isTierAvailable ? (\n                                            <CheckIcon className={classes.iconTrue} />\n                                        ) : (\n                                            <CloseIcon className={classes.iconFalse} />\n                                        )}\n                                        <Typography variant='h7'>\n                                            <FormattedMessage\n                                                id='Apis.Details.Overview.CustomizedStepper.business.plan.businessPlans'\n                                                defaultMessage=' Business plans'\n                                            />\n                                        </Typography>\n                                        <Link to={'/apis/' + api.id + '/subscriptions'}>\n                                            <LaunchIcon\n                                                style={{ marginLeft: '5px' }}\n                                                color='primary'\n                                                fontSize='small'\n                                            />\n                                        </Link>\n                                    </Grid>\n                                </Tooltip>\n                            </Box>\n                        </div>\n                    </StepLabel>\n                </Step>\n                <Step className={classes.label}>\n                    <StepLabel style={{ position: 'relative' }} StepIconProps={{ classes: { root: classes.stepIcon } }}>\n                        <div className={`${classes.pointerEnd} ${step3Class}`}>\n                            <Box className={classes.box}>\n                                {finalLifecycleState(lifecycleState)}\n                            </Box>\n                        </div>\n                    </StepLabel>\n                </Step>\n            </Stepper>\n        </div>\n    );\n}\n\nCustomizedSteppers.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({\n        id: PropTypes.string,\n    }).isRequired,\n};\n\nCustomizedSteppers.contextType = ApiContext;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nfunction BusinessInformation(props) {\n    const { parentClasses, api } = props;\n    return (\n        <>\n            <Grid item xs={12} md={6} lg={4}>\n                {/* Business Owner */}\n                <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                    <FormattedMessage\n                        id='Apis.Details.NewOverview.BusinessInformation.business.owner'\n                        defaultMessage='Business Owner'\n                    />\n                </Typography>\n            </Grid>\n            <Grid item xs={12} md={6} lg={8}>\n                <Typography component='p' variant='body1'>\n                    {api.businessInformation.businessOwner && (\n                        <>{api.businessInformation.businessOwner}</>\n                    )}\n                </Typography>\n                <Typography component='p' variant='body1' className={parentClasses.notConfigured}>\n                    {!api.businessInformation.businessOwner && (\n                        <>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.BusinessInformation.business.owner.not.set'\n                                defaultMessage='-'\n                            />\n                        </>\n                    )}\n                </Typography>\n            </Grid>\n            <Grid item xs={12} md={6} lg={4}>\n                {/* Technical Owner */}\n                <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                    <FormattedMessage\n                        id='Apis.Details.NewOverview.BusinessInformation.technical.owner'\n                        defaultMessage='Technical Owner'\n                    />\n                </Typography>\n            </Grid>\n            <Grid item xs={12} md={6} lg={8}>\n                <Typography component='p' variant='body1'>\n                    {api.businessInformation.technicalOwner\n                        && <>{api.businessInformation.technicalOwner}</>}\n                </Typography>\n                <Typography component='p' variant='body1' className={parentClasses.notConfigured}>\n                    {!api.businessInformation.technicalOwner && (\n                        <>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.BusinessInformation.technical.owner.not.set'\n                                defaultMessage='-'\n                            />\n                        </>\n                    )}\n                </Typography>\n            </Grid>\n        </>\n    );\n}\n\nBusinessInformation.propTypes = {\n    parentClasses: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({}).isRequired,\n};\n\nexport default withAPI(BusinessInformation);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport API from 'AppData/api';\nimport { capitalizeFirstLetter } from 'AppData/stringFormatter';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport BusinessInformation from './BusinessInformation';\n\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nfunction MetaData(props) {\n    const { parentClasses } = props;\n    const [api] = useAPI();\n\n    return (\n        <>\n            <Typography variant='h5' component='h3' className={parentClasses.title}>\n                <FormattedMessage\n                    id='Apis.Details.NewOverview.MetaData.metadata'\n                    defaultMessage='Metadata'\n                />\n            </Typography>\n            <Box p={1}>\n                <Grid container spacing={1}>\n                    <Grid item xs={12} md={6} lg={4}>\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.MetaData.description'\n                                defaultMessage='Description'\n                            />\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {api.description\n                            && (\n                                <>\n                                    {capitalizeFirstLetter(api.description)}\n                                </>\n                            )}\n                        </Typography>\n                        <Typography component='p' variant='body1' className={parentClasses.notConfigured}>\n                            {!api.description\n                                && (\n                                    <>\n                                        <Typography\n                                            component='p'\n                                            variant='body1'\n                                            className={parentClasses.notConfigured}\n                                        >\n                                            <FormattedMessage\n                                                id='Apis.Details.NewOverview.MetaData.description.not.set'\n                                                defaultMessage='-'\n                                            />\n                                        </Typography>\n                                    </>\n                                )}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={4}>\n                        {/* Provider */}\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.MetaData.provider'\n                                defaultMessage='Provider'\n                            />\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {api.provider && <>{api.provider}</>}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={4}>\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.MetaData.context:'\n                                defaultMessage='Context:'\n                            />\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {api.context && <>{api.context}</>}\n                        </Typography>\n                    </Grid>\n                    {/* Version */}\n                    {api.apiType === API.CONSTS.API && (\n                        <>\n                            <Grid item xs={12} md={6} lg={4}>\n                                <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                                    <FormattedMessage\n                                        id='Apis.Details.NewOverview.MetaData.version'\n                                        defaultMessage='Version'\n                                    />\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12} md={6} lg={8}>\n                                <Typography component='p' variant='body1'>\n                                    {api.version && <>{api.version}</>}\n                                </Typography>\n                            </Grid>\n                        </>\n                    )}\n                    {/* Type */}\n                    {api.apiType === API.CONSTS.APIProduct ? null : (\n                        <>\n                            <Grid item xs={12} md={6} lg={4}>\n                                <>\n                                    <Typography\n                                        component='p'\n                                        variant='subtitle2'\n                                        className={parentClasses.subtitle}\n                                    >\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.MetaData.type:'\n                                            defaultMessage='Type:'\n                                        />\n                                    </Typography>\n                                </>\n                            </Grid>\n                            <Grid item xs={12} md={6} lg={8}>\n                                <Typography component='p' variant='body1'>\n                                    {api.type && <>{api.type}</>}\n                                    {!api.type\n                                        && (\n                                            <>\n                                                <Typography\n                                                    component='p'\n                                                    variant='body1'\n                                                    className={parentClasses.notConfigured}\n                                                >\n                                                    <FormattedMessage\n                                                        id='Apis.Details.NewOverview.MetaData.type.not.set'\n                                                        defaultMessage='-'\n                                                    />\n                                                </Typography>\n                                            </>\n                                        )}\n                                </Typography>\n                            </Grid>\n                        </>\n                    )}\n                    <Grid item xs={12} md={6} lg={4}>\n                        {/* Created Time */}\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.MetaData.created.time'\n                                defaultMessage='Created Time'\n                            />\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {api.createdTime\n                            && (\n                                <>\n                                    <Tooltip\n                                        title={moment(api.createdTime).calendar()}\n                                        aria-label='add'\n                                        interactive\n                                        placement='top-start'\n                                        tabIndex='-1'\n                                    >\n                                        <Typography variant='body1' display='block'>\n                                            {capitalizeFirstLetter(moment(api.createdTime).fromNow())}\n                                        </Typography>\n                                    </Tooltip>\n                                </>\n                            )}\n                            {!api.createdTime\n                                && (\n                                    <>\n                                        <Typography\n                                            component='p'\n                                            variant='body1'\n                                            className={parentClasses.notConfigured}\n                                        >\n                                            <FormattedMessage\n                                                id='Apis.Details.NewOverview.MetaData.createdTime.not.set'\n                                                defaultMessage='-'\n                                            />\n                                        </Typography>\n                                    </>\n                                )}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={4}>\n                        {/* Last Updated Time */}\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.MetaData.last.updated.time'\n                                defaultMessage='Last Updated Time'\n                            />\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {api.lastUpdatedTime\n                            && (\n                                <>\n                                    <Tooltip\n                                        title={moment(api.lastUpdatedTime).calendar()}\n                                        aria-label='add'\n                                        interactive\n                                        placement='top-start'\n                                        tabIndex='-1'\n                                    >\n                                        <Typography variant='body1' display='block'>\n                                            {capitalizeFirstLetter(moment(api.lastUpdatedTime).fromNow())}\n                                        </Typography>\n                                    </Tooltip>\n                                </>\n                            )}\n                            {!api.lastUpdatedTime\n                                && (\n                                    <>\n                                        <Typography\n                                            component='p'\n                                            variant='body1'\n                                            className={parentClasses.notConfigured}\n                                        >\n                                            <FormattedMessage\n                                                id='Apis.Details.NewOverview.MetaData.lastUpdatedTime.not.set'\n                                                defaultMessage='-'\n                                            />\n                                        </Typography>\n                                    </>\n                                )}\n                        </Typography>\n                    </Grid>\n                    <BusinessInformation parentClasses={parentClasses} />\n                </Grid>\n            </Box>\n        </>\n    );\n}\n\nMetaData.propTypes = {\n    parentClasses: PropTypes.shape({}).isRequired,\n};\n\nexport default MetaData;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Box from '@material-ui/core/Box';\nimport { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst showEndpoint = (api, type) => {\n    if (api.endpointConfig) {\n        if (type === 'prod') {\n            return api.getProductionEndpoint();\n        }\n        if (type === 'sand') {\n            return api.getSandboxEndpoint();\n        }\n    }\n    return null;\n};\n\n\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nfunction Endpoints(props) {\n    const { parentClasses, api } = props;\n    const isPrototypedAvailable = api.endpointConfig !== null\n        && api.endpointConfig.implementation_status === 'prototyped';\n\n    return (\n        <>\n            <div>\n                <Typography variant='h5' component='h3' className={parentClasses.title}>\n                    <FormattedMessage\n                        id='Apis.Details.NewOverview.Endpoints.endpoints'\n                        defaultMessage='Endpoints'\n                    />\n                </Typography>\n            </div>\n            <Box p={1}>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} md={6} lg={4}>\n                        {/* Production Endpoint (TODO) fix the endpoint\n                                            info when it's available with the api object */}\n                        { !isPrototypedAvailable ? (\n                            <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                                <FormattedMessage\n                                    id='Apis.Details.NewOverview.Endpoints.production.endpoint'\n                                    defaultMessage='Production Endpoint'\n                                />\n                            </Typography>\n                        )\n                            : (\n                                <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                                    <FormattedMessage\n                                        id='Apis.Details.NewOverview.Endpoints.prototype.endpoint'\n                                        defaultMessage='Prototype Endpoint'\n                                    />\n                                </Typography>\n                            )}\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Tooltip\n                            placement='top'\n                            classes={{\n                                tooltip: parentClasses.htmlTooltip,\n                            }}\n                            title={\n                                showEndpoint(api, 'prod')\n                                && <>{showEndpoint(api, 'prod')}</>\n                            }\n                        >\n                            <Typography component='p' variant='body1' className={parentClasses.url}>\n                                {showEndpoint(api, 'prod')\n                                && <>{showEndpoint(api, 'prod')}</>}\n                            </Typography>\n                        </Tooltip>\n                        <Typography component='p' variant='body1' className={parentClasses.notConfigured}>\n                            {!showEndpoint(api, 'prod') && (\n                                <>\n                                    <FormattedMessage\n                                        id='Apis.Details.NewOverview.Endpoints.not.set'\n                                        defaultMessage='-'\n                                    />\n                                </>\n                            )}\n                        </Typography>\n                    </Grid>\n                    {!isPrototypedAvailable && (\n                        <Grid item xs={12} md={6} lg={4}>\n                            {/* Sandbox Endpoint (TODO) fix the endpoint info when\n                                                it's available with the api object */}\n                            <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                                <FormattedMessage\n                                    id='Apis.Details.NewOverview.Endpoints.sandbox.endpoint'\n                                    defaultMessage='Sandbox Endpoint'\n                                />\n                            </Typography>\n                        </Grid>\n                    )}\n\n                    {!isPrototypedAvailable && (\n                        <Grid item xs={12} md={6} lg={8}>\n                            <Tooltip\n                                placement='top'\n                                classes={{\n                                    tooltip: parentClasses.htmlTooltip,\n                                }}\n                                title={\n                                    showEndpoint(api, 'sand')\n                                    && <>{showEndpoint(api, 'sand')}</>\n                                }\n                            >\n                                <Typography component='p' variant='body1' className={parentClasses.url}>\n                                    {showEndpoint(api, 'sand')\n                                    && <>{showEndpoint(api, 'sand')}</>}\n                                </Typography>\n                            </Tooltip>\n                            <Typography component='p' variant='body1' className={parentClasses.notConfigured}>\n                                {!showEndpoint(api, 'sand') && (\n                                    <>\n                                        <FormattedMessage\n                                            id='Apis.Details.NewOverview.Endpoints.sandbox.not.set'\n                                            defaultMessage='-'\n                                        />\n                                    </>\n                                )}\n                            </Typography>\n                        </Grid>\n                    )}\n                    <Grid item xs={12} md={6} lg={4}>\n                        {/* Sandbox Endpoint (TODO) fix the endpoint info when\n                                            it's available with the api object */}\n                        <Typography component='p' variant='subtitle2' className={parentClasses.subtitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewOverview.Endpoints.endpoint.security'\n                                defaultMessage='Endpoint Security'\n                            />\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} md={6} lg={8}>\n                        <Typography component='p' variant='body1'>\n                            {api.endpointSecurity && <>{api.endpointSecurity.type}</>}\n                        </Typography>\n                        <Typography component='p' variant='body1' className={parentClasses.notConfigured}>\n                            {!api.endpointSecurity\n                            && (\n                                <>\n                                    <FormattedMessage\n                                        id='Apis.Details.NewOverview.Endpoints.security.not.set'\n                                        defaultMessage='-'\n                                    />\n                                </>\n                            )}\n                        </Typography>\n                    </Grid>\n                </Grid>\n            </Box>\n        </>\n    );\n}\n\nEndpoints.propTypes = {\n    parentClasses: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({}).isRequired,\n};\n\nexport default withAPI(Endpoints);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport green from '@material-ui/core/colors/green';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage } from 'react-intl';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport API from 'AppData/api';\nimport ApiContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport Resources from './Resources';\nimport Operations from './Operations';\nimport ProductResources from './ProductResources';\nimport Configuration from './Configuration';\nimport CustomizedStepper from './CustomizedStepper';\nimport MetaData from './MetaData';\nimport Endpoints from './Endpoints';\n\nconst styles = (theme) => ({\n    root: {\n        ...theme.mixins.gutters(),\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n    },\n    contentWrapper: {\n        marginTop: theme.spacing(2),\n    },\n    buttonSuccess: {\n        backgroundColor: green[500],\n        '&:hover': {\n            backgroundColor: green[700],\n        },\n    },\n    checkItem: {\n        textAlign: 'center',\n    },\n    divider: {\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    chip: {\n        margin: theme.spacing(0.5),\n        padding: 0,\n        height: 'auto',\n        '& span': {\n            padding: '0 5px',\n        },\n    },\n    imageContainer: {\n        display: 'flex',\n    },\n    imageWrapper: {\n        marginRight: theme.spacing(3),\n    },\n    subtitle: {\n        marginTop: theme.spacing(0),\n    },\n    specialGap: {\n        marginTop: theme.spacing(3),\n    },\n    resourceTitle: {\n        marginBottom: theme.spacing(3),\n    },\n    ListRoot: {\n        padding: 0,\n        margin: 0,\n    },\n    titleWrapper: {\n        display: 'flex',\n    },\n    title: {\n        flex: 1,\n    },\n    helpButton: {\n        padding: 0,\n        minWidth: 20,\n    },\n    helpIcon: {\n        fontSize: 16,\n    },\n    htmlTooltip: {\n        backgroundColor: '#f5f5f9',\n        color: 'rgba(0, 0, 0, 0.87)',\n        maxWidth: 220,\n        fontSize: theme.typography.pxToRem(14),\n        border: '1px solid #dadde9',\n        '& b': {\n            fontWeight: theme.typography.fontWeightMedium,\n        },\n    },\n    lifecycleWrapper: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    lifecycleIcon: {\n        fontSize: 36,\n        color: 'green',\n        marginRight: theme.spacing(1),\n    },\n    leftSideWrapper: {\n        paddingRight: theme.spacing(2),\n    },\n    notConfigured: {\n        color: 'rgba(0, 0, 0, 0.40)',\n    },\n    url: {\n        maxWidth: '100%',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n    },\n});\n\n/**\n * API Overview page\n *\n * @param {*} props\n * @returns\n */\nfunction Overview(props) {\n    const { classes, api: newApi } = props;\n    const { api } = useContext(ApiContext);\n    let loadEndpoints;\n\n    if (api.apiType === API.CONSTS.API) {\n        loadEndpoints = <Endpoints parentClasses={classes} api={api} />;\n    }\n    function getResourcesClassForAPIs(apiType) {\n        switch (apiType) {\n            case 'GRAPHQL':\n                return <Operations parentClasses={classes} api={api} />;\n            case 'APIProduct':\n                return <ProductResources parentClasses={classes} api={api} />;\n            case 'WS':\n                return '';\n            default:\n                return <Resources parentClasses={classes} api={api} />;\n        }\n    }\n\n    if (newApi.apiType === API.CONSTS.APIProduct) {\n        api.type = API.CONSTS.APIProduct;\n    }\n    return (\n        <>\n            <Typography variant='h4' align='left' className={classes.mainTitle}>\n                <FormattedMessage\n                    id='Apis.Details.Overview.Overview.topic.header'\n                    defaultMessage='Overview'\n                />\n            </Typography>\n            {api.type !== API.CONSTS.APIProduct && (\n                <Grid container spacing={12}>\n                    <Grid item xs={12} s={12} md={12} lg={12}>\n                        <CustomizedStepper />\n                    </Grid>\n                </Grid>\n            )}\n            <div className={classes.contentWrapper}>\n                <Paper className={classes.root}>\n                    <Grid container spacing={24}>\n                        <Grid item xs={12} md={12} lg={12}>\n                            <Grid container spacing={24}>\n                                <Grid item xs={12} md={6} lg={6}>\n                                    <MetaData parentClasses={classes} />\n                                </Grid>\n                                <Grid item xs={12} md={6} lg={6}>\n                                    <Configuration parentClasses={classes} />\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                        <Grid item xs={12} md={12} lg={12}>\n                            <div className={classes.specialGap}>\n                                <Grid container spacing={24}>\n                                    <Grid item xs={12} md={6} lg={6}>\n                                        <Grid item xs={12} md={8} lg={8}>\n                                            {getResourcesClassForAPIs(api.type)}\n                                        </Grid>\n                                    </Grid>\n                                    <Grid item xs={12} md={6} lg={6}>\n                                        {loadEndpoints}\n                                    </Grid>\n                                </Grid>\n                            </div>\n                        </Grid>\n                    </Grid>\n                </Paper>\n            </div>\n        </>\n    );\n}\n\nOverview.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({\n        id: PropTypes.string,\n    }).isRequired,\n};\n\nexport default withStyles(styles)(Overview);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { withStyles } from '@material-ui/core/styles';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport green from '@material-ui/core/colors/green';\nimport red from '@material-ui/core/colors/red';\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Grid from '@material-ui/core/Grid';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Paper from '@material-ui/core/Paper';\nimport Slide from '@material-ui/core/Slide';\nimport Select from '@material-ui/core/Select';\nimport Typography from '@material-ui/core/Typography';\nimport Icon from '@material-ui/core/Icon';\nimport IconButton from '@material-ui/core/IconButton';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PropTypes from 'prop-types';\nimport Dropzone from 'react-dropzone';\nimport { SketchPicker } from 'react-color';\nimport Api from 'AppData/api';\nimport APIProduct from 'AppData/APIProduct';\nimport MaterialIcons from 'MaterialIcons';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport Configurations from 'Config';\n\nimport ImageGenerator from './ImageGenerator';\nimport Background from './Background';\nimport BaseThumbnail from './BaseThumbnail';\n\nconst windowURL = window.URL || window.webkitURL;\nconst dropzoneStyles = {\n    border: '1px dashed ',\n    borderRadius: '5px',\n    cursor: 'pointer',\n    height: 75,\n    padding: '8px 0px',\n    position: 'relative',\n    textAlign: 'center',\n    width: '100%',\n    margin: '10px 0',\n};\nconst styles = (theme) => ({\n    acceptDrop: {\n        backgroundColor: green[50],\n    },\n    dropzone: {\n        border: '1px dashed ' + theme.palette.primary.main,\n        borderRadius: '5px',\n        cursor: 'pointer',\n        height: 'calc(100vh - 10em)',\n        padding: `${theme.spacing(2)}px 0px`,\n        position: 'relative',\n        textAlign: 'center',\n        width: '100%',\n        margin: '10px 0',\n    },\n    dropZoneWrapper: {\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        '& span': {\n            fontSize: 100,\n            color: theme.palette.primary.main,\n        },\n    },\n    preview: {\n        height: theme.spacing(25),\n    },\n    rejectDrop: {\n        backgroundColor: red[50],\n    },\n    group: {\n        display: 'flex',\n        flexDirection: 'row',\n        padding: '0 0 0 20px',\n    },\n    popupHeader: {\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    iconView: {\n        width: 30,\n        margin: 10,\n        cursor: 'pointer',\n    },\n    subtitle: {\n        marginRight: 20,\n    },\n    subtitleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginTop: 20,\n        marginBottom: 10,\n    },\n    body: {\n        marginBottom: 10,\n    },\n    imageGenWrapper: {\n        '& > div': {\n            position: 'fixed',\n            marginTop: 20,\n        },\n    },\n    backgroundSelection: {\n        cursor: 'pointer',\n        marginRight: 10,\n        display: 'inline-block',\n        border: 'solid 1px #ccc',\n    },\n    actionBox: {\n        boxShadow:\n            '0px 1px 5px 0px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 3px 1px -2px rgba(0,0,0,0.12)',\n        justifyContent: 'flex-start',\n        padding: '10px 0 10px 10px',\n    },\n    imageContainer: {\n        paddingTop: 10,\n    },\n});\n\n/**\n * Give the icons array from category name\n *\n * @param {*} category\n * @param {*} allKeys\n * @returns\n */\nfunction FindCategoryKeys(category) {\n    for (let i = 0; i < MaterialIcons.categories.length; i++) {\n        if (MaterialIcons.categories[i].name === category) {\n            return MaterialIcons.categories[i].icons;\n        }\n    }\n}\n/**\n * Slide up transition for modal\n *\n * @param {any} props Properties\n * @returns {Slide} Slide up transition\n */\nfunction Transition(props) {\n    return <Slide direction='up' {...props} />;\n}\n/**\n * Provides a view for the API Thumbnail image.\n * This can be either user defined image uploaded earlier or a generated Image.\n */\nclass ThumbnailView extends Component {\n    /**\n     * Initializes the ThumbnailView Component\n     *\n     * @param {any} props Component properties\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false,\n            file: null,\n            thumbnail: null,\n            selectedTab: 'design',\n            category: MaterialIcons.categories[0].name,\n            selectedIcon: null,\n            selectedIconUpdate: null,\n            color: null,\n            colorUpdate: null,\n            backgroundIndex: null,\n            backgroundIndexUpdate: null,\n            uploading: false,\n        };\n        this.handleClick = this.handleClick.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n    }\n\n    /**\n     * Clean up resource\n     */\n    componentWillUnmount() {\n        if (this.state.thumbnail) {\n            windowURL.revokeObjectURL(this.state.thumbnail);\n        }\n    }\n\n    /**\n     * Event listener for file drop on the dropzone\n     *\n     * @param {File} acceptedFile dropped file\n     */\n    onDrop(acceptedFile) {\n        this.setState({ file: acceptedFile });\n    }\n\n\n    /**\n     * @param {SyntheticEvent} e React event object\n     */\n    handleClick = (action, intl) => () => {\n        if (action === 'btnEditAPIThumb') {\n            this.setState({ open: true });\n        } else if (action === 'btnUploadAPIThumb') {\n            const { api } = this.props;\n            const {\n                selectedTab, selectedIconUpdate, category, colorUpdate, backgroundIndexUpdate, file,\n            } = this.state;\n            let fileObj;\n            if (selectedTab === 'upload') {\n                if (!api.id && !file) {\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Listing.components.ImageGenerator.ThumbnailView.thumbnail.validation.error',\n                        defaultMessage: 'Invalid file or API information is not set correctly.',\n                    }));\n                    return;\n                }\n                /* eslint prefer-destructuring: [\"error\", {VariableDeclarator: {object: true}}] */\n                fileObj = file[0];\n            } else {\n                if (!selectedIconUpdate && !colorUpdate && !backgroundIndexUpdate) {\n                    Alert.error(intl.formatMessage({\n                        id: 'the.icon.is.not.modified',\n                        defaultMessage: 'The icon is not modified',\n                    }));\n                    return;\n                }\n                const newIconJson = {\n                    key: selectedIconUpdate,\n                    category,\n                    color: colorUpdate,\n                    backgroundIndex: backgroundIndexUpdate,\n                };\n                const blob = new Blob([JSON.stringify(newIconJson)], { type: 'application/json' });\n                fileObj = new File([blob], 'FileName.json', { type: 'application/json' });\n            }\n\n            this.uploadThumbnail(selectedTab, api.id, fileObj, intl);\n        }\n    };\n\n\n    handleChange = (event, selectedTab) => {\n        this.setState({ selectedTab });\n    };\n\n    handleSelectionChange = (name) => (event) => {\n        this.setState({ [name]: event.target.value });\n    };\n\n    selectIcon = (selectedIconUpdate) => {\n        this.setState({ selectedIconUpdate });\n    };\n\n    handleChangeComplete = (colorUpdate) => {\n        this.setState({ colorUpdate: colorUpdate.hex });\n    };\n\n    selectBackground = (backgroundIndexUpdate) => {\n        this.setState({ backgroundIndexUpdate });\n    };\n\n\n    /**\n     * Handle modal close event\n     */\n    handleClose() {\n        const { file, preview } = this.state;\n        if (file) {\n            windowURL.revokeObjectURL(preview);\n        }\n        this.setState((cState) => ({\n            open: false,\n            file: null,\n            colorUpdate: cState.color,\n            backgroundIndexUpdate: cState.background,\n            selectedIconUpdate: cState.selectedIcon,\n        }));\n    }\n\n    /**\n     * Add new thumbnail image to an API\n     *\n     * @param {String} apiId ID of the API to be updated\n     * @param {File} file new thumbnail image file\n     */\n    uploadThumbnail(selectedTab, apiId, file, intl) {\n        this.setState({ uploading: true });\n        const {\n            api: { apiType, id },\n            setImageUpdate,\n        } = this.props;\n        const promisedThumbnail = apiType === Api.CONSTS.APIProduct\n            ? new APIProduct().addAPIProductThumbnail(id, file)\n            : new Api().addAPIThumbnail(id, file);\n\n        promisedThumbnail\n            .then(() => {\n                Alert.info(intl.formatMessage({\n                    id: 'Apis.Listing.components.ImageGenerator.ThumbnailView.thumbnail.upload.success',\n                    defaultMessage: 'Thumbnail uploaded successfully',\n                }));\n                if (selectedTab === 'upload') {\n                    this.setState({ open: false, thumbnail: windowURL.createObjectURL(file) });\n                } else {\n                    this.setState((cState) => ({\n                        open: false,\n                        thumbnail: file.preview,\n                        selectedIcon: cState.selectedIconUpdate,\n                        color: cState.colorUpdate,\n                        backgroundIndex: cState.backgroundIndexUpdate,\n                    }));\n                }\n                setImageUpdate();\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Listing.components.ImageGenerator.ThumbnailView.thumbnail.upload.error',\n                    defaultMessage: 'Error occurred while uploading new thumbnail. Please try again.',\n                }));\n            })\n            .finally(() => {\n                this.setState({ uploading: false });\n            });\n    }\n\n    saveDisableEnable() {\n        const {\n            file, selectedTab, selectedIconUpdate, colorUpdate, backgroundIndexUpdate, uploading,\n        } = this.state;\n        if (selectedTab === 'upload') {\n            return !(file && file[0]) || uploading; // If no files is uploaded retrun true\n        } else {\n            // If one of them is selected we return false\n            return !(selectedIconUpdate || backgroundIndexUpdate || colorUpdate) || uploading;\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    render() {\n        const {\n            api, classes, width, height, isEditable, theme, intl, imageUpdate,\n        } = this.props;\n        const colorPairs = theme.custom.thumbnail.backgrounds;\n        const {\n            file,\n            thumbnail,\n            selectedTab,\n            selectedIcon,\n            selectedIconUpdate,\n            color,\n            colorUpdate,\n            backgroundIndex,\n            backgroundIndexUpdate,\n            uploading,\n        } = this.state;\n        let { category } = this.state;\n        if (!category) category = MaterialIcons.categories[0].name;\n\n        return (\n            <>\n                <BaseThumbnail\n                    isEditable={isEditable}\n                    onClick={this.handleClick('btnEditAPIThumb', intl)}\n                    thumbnail={thumbnail}\n                    selectedIcon={selectedIcon}\n                    color={color}\n                    backgroundIndex={backgroundIndex}\n                    category={category}\n                    api={api}\n                    width={width}\n                    height={height}\n                    imageUpdate={imageUpdate}\n                />\n\n                <Dialog\n                    TransitionComponent={Transition}\n                    aria-labelledby='thumb-dialog-title'\n                    disableBackdropClick\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                    fullWidth='true'\n                    maxWidth='lg'\n                    fullScreen\n                >\n                    <Paper square className={classes.popupHeader}>\n                        <IconButton color='inherit' onClick={this.handleClose} aria-label='Close'>\n                            <Icon>close</Icon>\n                        </IconButton>\n                        <RadioGroup\n                            aria-label='APIThumbnail'\n                            name='apiThumbnail'\n                            className={classes.group}\n                            value={this.state.selectedTab}\n                            onChange={this.handleChange}\n                        >\n                            <FormControlLabel\n                                value='design'\n                                control={<Radio color='primary' />}\n                                label={(\n                                    <FormattedMessage\n                                        id='Apis.Listing.components.ImageGenerator.ThumbnailView.design'\n                                        defaultMessage='Design'\n                                    />\n                                )}\n                            />\n                            <FormControlLabel\n                                value='upload'\n                                control={<Radio color='primary' />}\n                                label={(\n                                    <FormattedMessage\n                                        id='Apis.Listing.components.ImageGenerator.ThumbnailView.upload'\n                                        defaultMessage='Upload'\n                                    />\n                                )}\n                            />\n                        </RadioGroup>\n                    </Paper>\n\n                    <DialogContent>\n                        {selectedTab === 'upload' && (\n                            <Grid container spacing={4}>\n                                <Grid item xs={3}>\n                                    <div className={classes.imageContainer}>\n                                        <img\n                                            className={classes.preview}\n                                            src={\n                                                file && file.length > 0\n                                                    ? windowURL.createObjectURL(file[0])\n                                                    : Configurations.app.context\n                                                      + '/site/public/images/api/api-default.png'\n                                            }\n                                            alt='Thumbnail Preview'\n                                        />\n                                    </div>\n                                </Grid>\n                                <Grid item xs={9}>\n                                    <Dropzone\n                                        multiple={false}\n                                        accept='image/*'\n                                        className={classes.dropzone}\n                                        activeClassName={classes.acceptDrop}\n                                        rejectClassName={classes.rejectDrop}\n                                        onDrop={(dropFile) => {\n                                            this.onDrop(dropFile);\n                                        }}\n                                    >\n                                        {({ getRootProps, getInputProps }) => (\n                                            <div {...getRootProps({ style: dropzoneStyles })}>\n                                                <input {...getInputProps()} />\n                                                <div className={classes.dropZoneWrapper}>\n                                                    <Icon className={classes.dropIcon}>cloud_upload</Icon>\n                                                    <Typography>\n                                                        <FormattedMessage\n                                                            id='upload.image'\n                                                            defaultMessage='Click or drag the image to upload.'\n                                                        />\n                                                    </Typography>\n                                                </div>\n                                            </div>\n                                        )}\n                                    </Dropzone>\n                                </Grid>\n                            </Grid>\n                        )}\n                        {selectedTab === 'design' && (\n                            <Grid container spacing={4}>\n                                <Grid item xs={3} className={classes.imageGenWrapper}>\n                                    <ImageGenerator\n                                        width={width}\n                                        height={height}\n                                        api={api}\n                                        fixedIcon={{\n                                            key: selectedIconUpdate,\n                                            color: colorUpdate,\n                                            backgroundIndex: backgroundIndexUpdate,\n                                            category,\n                                            api,\n                                        }}\n                                    />\n                                </Grid>\n                                <Grid item xs={9}>\n                                    <div className={classes.subtitleWrapper}>\n                                        <Typography component='p' variant='subtitle2' className={classes.subtitle}>\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Listing.components'\n                                                    + '.ImageGenerator.ThumbnailView.select.category'\n                                                }\n                                                defaultMessage='Select Category'\n                                            />\n                                        </Typography>\n                                        <Select\n                                            native\n                                            value={this.state.category}\n                                            onChange={this.handleSelectionChange('category')}\n                                        >\n                                            {MaterialIcons.categories.map((cat) => (\n                                                <option value={cat.name}>{cat.name}</option>\n                                            ))}\n                                        </Select>\n                                    </div>\n                                    <Typography component='p' variant='body1' className={classes.body}>\n                                        <FormattedMessage\n                                            id='Apis.Listing.components.ImageGenerator.ThumbnailView.select.an.icon'\n                                            defaultMessage='Select an icon from the Material Icons for your API.'\n                                        />\n                                    </Typography>\n                                    <div style={{ background: '#efefef', maxHeight: 180, overflow: 'scroll' }}>\n                                        {FindCategoryKeys(category).map((icon) => (\n                                            <Icon className={classes.iconView} onClick={() => this.selectIcon(icon.id)}>\n                                                {icon.id}\n                                            </Icon>\n                                        ))}\n                                    </div>\n                                    <div className={classes.subtitleWrapper}>\n                                        <Typography component='p' variant='subtitle2' className={classes.subtitle}>\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Listing.components.ImageGenerator.ThumbnailView.select.'\n                                                    + 'color.for.the.icon'\n                                                }\n                                                defaultMessage='Select a color for the icon'\n                                            />\n                                        </Typography>\n                                    </div>\n                                    <SketchPicker\n                                        color={this.state.color || '#ffffff'}\n                                        onChangeComplete={this.handleChangeComplete}\n                                    />\n                                    <div className={classes.subtitleWrapper}>\n                                        <Typography component='p' variant='subtitle2' className={classes.subtitle}>\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Listing.components.ImageGenerator.'\n                                                    + 'ThumbnailView.select.background'\n                                                }\n                                                defaultMessage='Select a Background'\n                                            />\n                                        </Typography>\n                                    </div>\n                                    {colorPairs.map((colorPair, index) => (\n                                        <div\n                                            className={classes.backgroundSelection}\n                                            onClick={() => this.selectBackground(index)}\n                                            onKeyDown={() => { }}\n                                        >\n                                            <Background width={100} height={100} colorPair={colorPair} />\n                                        </div>\n                                    ))}\n                                </Grid>\n                            </Grid>\n                        )}\n                    </DialogContent>\n                    <DialogActions className={classes.actionBox}>\n                        <Button\n                            disabled={this.saveDisableEnable()}\n                            variant='contained'\n                            color='primary'\n                            size='small'\n                            onClick={this.handleClick('btnUploadAPIThumb', intl)}\n                        >\n                            {selectedTab === 'design' && uploading && (\n                                <>\n                                    <FormattedMessage\n                                        id='Apis.Listing.components.ImageGenerator.ThumbnailView.saving.btn'\n                                        defaultMessage='Saving'\n                                    />\n                                    <CircularProgress size={16} />\n                                </>\n                            )}\n                            {selectedTab === 'design' && !uploading && (\n                                <FormattedMessage\n                                    id='Apis.Listing.components.ImageGenerator.ThumbnailView.save.btn'\n                                    defaultMessage='Save'\n                                />\n                            )}\n\n                            {selectedTab !== 'design' && uploading && (\n                                <>\n                                    <FormattedMessage\n                                        id='Apis.Listing.components.ImageGenerator.ThumbnailView.uploading.btn'\n                                        defaultMessage='Uploading'\n                                    />\n                                    <CircularProgress size={16} />\n                                </>\n                            )}\n                            {selectedTab !== 'design' && !uploading && (\n                                <FormattedMessage\n                                    id='Apis.Listing.components.ImageGenerator.ThumbnailView.upload.btn'\n                                    defaultMessage='Upload'\n                                />\n                            )}\n                        </Button>\n\n                        <Button variant='contained' size='small' onClick={this.handleClose}>\n                            <FormattedMessage\n                                id='Apis.Listing.components.ImageGenerator.ThumbnailView.cancel.btn'\n                                defaultMessage='CANCEL'\n                            />\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </>\n        );\n    }\n}\n\nThumbnailView.defaultProps = {\n    height: 190,\n    width: 250,\n    isEditable: false,\n    setImageUpdate: () => {},\n};\n\nThumbnailView.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    setImageUpdate: PropTypes.shape({}),\n    imageUpdate: PropTypes.number.isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    height: PropTypes.number,\n    width: PropTypes.number,\n    isEditable: PropTypes.bool,\n    intl: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(withAPI(withStyles(styles, { withTheme: true })(ThumbnailView)));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Radio from '@material-ui/core/Radio';\nimport Box from '@material-ui/core/Box';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport { FormattedMessage } from 'react-intl';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function DefaultVersion(props) {\n    const { api, configDispatcher } = props;\n    const [apiFromContext] = useAPI();\n    return (\n        <Grid container spacing={1} alignItems='flex-start' xs={11}>\n            <Grid item>\n                <Box mt={4}>\n                    <FormControl component='fieldset' style={{ display: 'flex' }}>\n                        <FormLabel component='legend'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Configuration.isdefault.label'\n                                defaultMessage='Make this the default version'\n                            />\n                        </FormLabel>\n                        <RadioGroup\n                            aria-label='Make this the default version'\n                            value={api.isDefaultVersion}\n                            onChange={({\n                                target: { value },\n                            }) => configDispatcher({\n                                action: 'isDefaultVersion', value: value === 'true',\n                            })}\n                            style={{ display: 'flow-root' }}\n                        >\n                            <FormControlLabel\n                                disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                value\n                                control={<Radio color='primary' />}\n                                label={(\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.Configuration.isdefault.yes'\n                                        defaultMessage='Yes'\n                                    />\n                                )}\n                            />\n                            <FormControlLabel\n                                disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                value={false}\n                                control={<Radio color='primary' />}\n                                label={(\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.Configuration.isdefault.no'\n                                        defaultMessage='No'\n                                    />\n                                )}\n                            />\n                        </RadioGroup>\n                    </FormControl>\n                </Box>\n            </Grid>\n            <Grid item xs={1}>\n                <Box mt={3}>\n                    <Tooltip\n                        title={(\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Configuration.defaultversion.tooltip'\n                                defaultMessage={\n                                    'Indicates if this is the default version of the API. If an '\n                                    + 'API is invoked without specifying a version, the API Gateway will '\n                                    + 'route the request to the default version of the API.'\n                                }\n                            />\n                        )}\n                        aria-label='add'\n                        placement='right-end'\n                        interactive\n                    >\n                        <HelpOutline />\n                    </Tooltip>\n                </Box>\n            </Grid>\n        </Grid>\n    );\n}\n\nDefaultVersion.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function Description(props) {\n    const { api, configDispatcher } = props;\n    const [apiFromContext] = useAPI();\n\n    return (\n        <TextField\n            id='outlined-multiline-static'\n            label='Description'\n            multiline\n            rows='4'\n            value={api.description}\n            margin='0'\n            fullWidth\n            variant='outlined'\n            onChange={(e) => configDispatcher({ action: 'description', value: e.target.value })}\n            disabled={isRestricted(['apim:api_create'], apiFromContext)}\n        />\n    );\n}\n\nDescription.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport { FormattedMessage } from 'react-intl';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { isRestricted } from 'AppData/AuthManager';\nimport ChipInput from 'material-ui-chip-input';\nimport APIValidation from 'AppData/APIValidation';\nimport base64url from 'base64url';\nimport Error from '@material-ui/icons/Error';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Chip from '@material-ui/core/Chip';\nimport { red } from '@material-ui/core/colors/';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst useStyles = makeStyles((theme) => ({\n    tooltip: {\n        position: 'absolute',\n        right: theme.spacing(-4),\n        top: theme.spacing(1),\n    },\n}));\n\n/**\n *\n * api.accessControl possible values are `NONE` and `RESTRICTED`\n * @export\n * @param {*} props\n * @returns\n */\nexport default function AccessControl(props) {\n    const [roleValidity, setRoleValidity] = useState(true);\n    const [userRoleValidity, setUserRoleValidity] = useState(true);\n    const { api, configDispatcher } = props;\n    const isNone = api.accessControl === 'NONE';\n    const [apiFromContext] = useAPI();\n    const classes = useStyles();\n\n    const [invalidRoles, setInvalidRoles] = useState([]);\n    const [otherValidSystemRoles, setOtherValidSystemRoles] = useState([]);\n    useEffect(() => {\n        if (invalidRoles.length === 0) {\n            setRoleValidity(true);\n        }\n    }, [invalidRoles]);\n    useEffect(() => {\n        if (otherValidSystemRoles.length === api.accessControlRoles.length && otherValidSystemRoles.length !== 0\n            && (otherValidSystemRoles.every((val) => api.accessControlRoles.includes(val)))) {\n            setUserRoleValidity(false);\n        } else {\n            setUserRoleValidity(true);\n        }\n    }, [otherValidSystemRoles]);\n    const handleRoleAddition = (role) => {\n        const systemRolePromise = APIValidation.role.validate(base64url.encode(role));\n        const userRolePromise = APIValidation.userRole.validate(base64url.encode(role));\n        systemRolePromise.then(() => {\n            setRoleValidity(true);\n            userRolePromise.then(() => {\n                setUserRoleValidity(true);\n                configDispatcher({\n                    action: 'accessControlRoles',\n                    value: [...api.accessControlRoles, role],\n                });\n            }).catch((error) => {\n                if (error.status === 404) {\n                    configDispatcher({\n                        action: 'accessControlRoles',\n                        value: [...api.accessControlRoles, role],\n                    });\n                    setOtherValidSystemRoles([...otherValidSystemRoles, role]);\n                } else {\n                    Alert.error('Error when validating role: ' + role);\n                    console.error('Error when validating user roles ' + error);\n                }\n            });\n        }).catch((error) => {\n            if (error.status === 404) {\n                setRoleValidity(false);\n                setInvalidRoles([...invalidRoles, role]);\n            } else {\n                Alert.error('Error when validating role: ' + role);\n                console.error('Error when validating roles ' + error);\n            }\n        });\n    };\n\n    const handleRoleDeletion = (role) => {\n        setOtherValidSystemRoles(otherValidSystemRoles.filter((existingRole) => existingRole !== role));\n        setInvalidRoles(invalidRoles.filter((existingRole) => existingRole !== role));\n        configDispatcher({\n            action: 'accessControlRoles',\n            value: api.accessControlRoles.filter((existingRole) => existingRole !== role),\n        });\n    };\n\n    const handleRoleValidationFailure = () => {\n        if (!roleValidity) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Scopes.Roles.Invalid'\n                    defaultMessage='Role is invalid'\n                />\n            );\n        } else if (!userRoleValidity) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Scopes.Roles.User.Invalid'\n                    defaultMessage='At least one role must be associated with the API creator'\n                />\n            );\n        } else {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Scopes.CreateScope.roles.help'\n                    defaultMessage='Enter valid role and press enter'\n                />\n            );\n        }\n    };\n\n    return (\n        <>\n            <Box style={{ position: 'relative', marginBottom: -12 }}>\n                <TextField\n                    fullWidth\n                    id='accessControl-selector'\n                    select\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.AccessControl.head.topic'\n                            defaultMessage='Publisher Access Control'\n                        />\n                    )}\n                    value={api.accessControl}\n                    name='accessControl'\n                    onChange={({ target: { value } }) => configDispatcher({ action: 'accessControl', value })}\n                    SelectProps={{\n                        MenuProps: {\n                            className: classes.menu,\n                        },\n                    }}\n                    helperText={(\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.AccessControl.form.helper.text'\n                            defaultMessage='There are no access restrictions by default'\n                        />\n                    )}\n                    margin='normal'\n                    variant='outlined'\n                    disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                >\n                    <MenuItem value='NONE'>\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.AccessControl.dropdown.none'\n                            defaultMessage='All'\n                        />\n                    </MenuItem>\n                    <MenuItem value='RESTRICTED'>\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.AccessControl.dropdown.restricted'\n                            defaultMessage='Restrict by role(s)'\n                        />\n                    </MenuItem>\n                </TextField>\n                <Tooltip\n                    title={(\n                        <>\n                            <p>\n                                <strong>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.AccessControl.tooltip.all'\n                                        defaultMessage='All :'\n                                    />\n                                </strong>\n                                {'  '}\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.components.AccessControl.tooltip.all.desc'\n                                    defaultMessage='The API is viewable, modifiable by all the publishers and creators.'\n                                />\n                                <br />\n                                <br />\n                                <strong>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.AccessControl.tooltip.restrict'\n                                        defaultMessage='Restricted by roles :'\n                                    />\n                                </strong>\n                                {'  '}\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.components.AccessControl.tooltip.restrict.\n                                    desc'\n                                    defaultMessage={'The API can be viewed and modified only by specific'\n                                    + ' publishers and creators with the roles that you specify'}\n                                />\n                            </p>\n                        </>\n                    )}\n                    aria-label='Publisher Access Control'\n                    placement='right-end'\n                    interactive\n                    className={classes.tooltip}\n                >\n                    <HelpOutline />\n                </Tooltip>\n            </Box>\n            {!isNone && (\n                <Box py={1} style={{ marginTop: 10 }}>\n                    <ChipInput\n                        fullWidth\n                        variant='outlined'\n                        label={(\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.components.AccessControl.roles'\n                                defaultMessage='Roles'\n                            />\n                        )}\n                        disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                        value={api.accessControlRoles.concat(invalidRoles)}\n                        alwaysShowPlaceholder={false}\n                        placeholder='Enter roles and press Enter'\n                        blurBehavior='clear'\n                        InputProps={{\n                            endAdornment: (!roleValidity || !userRoleValidity) && (\n                                <InputAdornment position='end'>\n                                    <Error color='error' style={{ paddingBottom: 8 }} />\n                                </InputAdornment>\n                            ),\n                        }}\n                        onAdd={handleRoleAddition}\n                        error={!roleValidity || !userRoleValidity}\n                        helperText={handleRoleValidationFailure()}\n                        chipRenderer={({ value }, key) => (\n                            <Chip\n                                key={key}\n                                size='small'\n                                label={value}\n                                onDelete={() => {\n                                    handleRoleDeletion(value);\n                                }}\n                                style={{\n                                    backgroundColor: invalidRoles.includes(value) ? red[300] : null,\n                                    margin: '0 8px 12px 0',\n                                    float: 'left',\n                                }}\n                            />\n                        )}\n                    />\n                </Box>\n            )}\n        </>\n    );\n}\n\nAccessControl.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport { FormattedMessage } from 'react-intl';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ChipInput from 'material-ui-chip-input';\nimport APIValidation from 'AppData/APIValidation';\nimport base64url from 'base64url';\nimport Error from '@material-ui/icons/Error';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Chip from '@material-ui/core/Chip';\nimport { red } from '@material-ui/core/colors/';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport CONSTS from 'AppData/Constants';\nimport API from 'AppData/api';\n\nconst useStyles = makeStyles((theme) => ({\n    tooltip: {\n        position: 'absolute',\n        right: theme.spacing(-4),\n        top: theme.spacing(1),\n    },\n}));\n\n/**\n *\n * api.accessControl possible values are `NONE` and `RESTRICTED`\n * @export\n * @param {*} props\n * @returns\n */\nexport default function StoreVisibility(props) {\n    const [roleValidity, setRoleValidity] = useState(true);\n    const [roleExists, setRoleExists] = useState(true);\n    const { api, configDispatcher } = props;\n    const [invalidRoles, setInvalidRoles] = useState([]);\n    const isRestrictedByRoles = api.visibility === 'RESTRICTED';\n    const [apiFromContext] = useAPI();\n    const classes = useStyles();\n    const restApi = new API();\n    const [tenants, setTenants] = useState([]);\n    useEffect(() => {\n        restApi.getTenantsByState(CONSTS.TENANT_STATE_ACTIVE)\n            .then((result) => {\n                setTenants(result.body.count);\n            });\n    }, []);\n\n    useEffect(() => {\n        if (invalidRoles.length === 0) {\n            setRoleValidity(true);\n        }\n        if (api.visibility === 'RESTRICTED' && api.visibleRoles.length !== 0) {\n            setRoleExists(true);\n        }\n    }, [invalidRoles]);\n    const handleRoleAddition = (role) => {\n        const promise = APIValidation.role.validate(base64url.encode(role));\n        promise.then(() => {\n            setRoleExists(true);\n            setRoleValidity(true);\n            configDispatcher({\n                action: 'visibleRoles',\n                value: [...api.visibleRoles, role],\n            });\n        }).catch((error) => {\n            if (error.status === 404) {\n                setRoleValidity(false);\n                setInvalidRoles([...invalidRoles, role]);\n            } else {\n                Alert.error('Error when validating role: ' + role);\n                console.error('Error when validating roles ' + error);\n            }\n        });\n    };\n\n    const handleRoleDeletion = (role) => {\n        if (invalidRoles.includes(role)) {\n            setInvalidRoles(invalidRoles.filter((existingRole) => existingRole !== role));\n        }\n        if (api.visibility === 'RESTRICTED' && api.visibleRoles.length > 1) {\n            setRoleExists(true);\n        } else {\n            setRoleExists(false);\n        }\n        configDispatcher({\n            action: 'visibleRoles',\n            value: api.visibleRoles.filter((existingRole) => existingRole !== role),\n        });\n    };\n\n    return (\n        <>\n            <Box style={{ position: 'relative' }}>\n                <TextField\n                    fullWidth\n                    id='storeVisibility-selector'\n                    select\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.storeVisibility.head.topic'\n                            defaultMessage='Developer Portal Visibility'\n                        />\n                    )}\n                    value={api.visibility}\n                    name='storeVisibility'\n                    onChange={({ target: { value } }) => configDispatcher({ action: 'visibility', value })}\n                    SelectProps={{\n                        MenuProps: {\n                            className: classes.menu,\n                        },\n                    }}\n                    helperText={(\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.storeVisibility.form.helper.text'\n                            defaultMessage='By default API is visible to all developer portal users'\n                        />\n                    )}\n                    margin='normal'\n                    variant='outlined'\n                    disabled={isRestricted(['apim:api_create', 'apim:api_publish'], apiFromContext)}\n                >\n                    <MenuItem value='PUBLIC'>\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.StoreVisibility.dropdown.public'\n                            defaultMessage='Public'\n                        />\n                    </MenuItem>\n                    <MenuItem value='RESTRICTED'>\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.storeVisibility.dropdown.restrict'\n                            defaultMessage='Restrict by role(s)'\n                        />\n                    </MenuItem>\n                    {tenants !== 0\n                        && (\n                            <MenuItem value='PRIVATE'>\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.components.storeVisibility.dropdown.private'\n                                    defaultMessage='Visible to my domain'\n                                />\n                            </MenuItem>\n                        )}\n                </TextField>\n                <Tooltip\n                    title={(\n                        <>\n                            <p>\n                                <strong>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.storeVisibility.tooltip.public'\n                                        defaultMessage='Public :'\n                                    />\n                                </strong>\n                                {'  '}\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.components.storeVisibility.tooltip.public.desc'\n                                    defaultMessage={\n                                        'The API is accessible to everyone and can be advertised '\n                                        + 'in multiple developer portals - a central developer portal '\n                                        + 'and/or non-WSO2 developer portals.'\n                                    }\n                                />\n                                <br />\n                                <br />\n                                <strong>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.storeVisibility.tooltip.restrict'\n                                        defaultMessage='Restricted by roles(s) :'\n                                    />\n                                </strong>\n                                {'  '}\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.components.storeVisibility.tooltip.restrict.desc'\n                                    defaultMessage={\n                                        'The API is visible only to specific user'\n                                        + ' roles in the tenant developer portal that you specify.'\n                                    }\n                                />\n                            </p>\n                        </>\n                    )}\n                    aria-label='Store Visibility'\n                    placement='right-end'\n                    className={classes.tooltip}\n                    interactive\n                >\n                    <HelpOutline />\n                </Tooltip>\n            </Box>\n            {isRestrictedByRoles && (\n                <Box py={2} style={{ marginTop: -10, marginBottom: 10 }}>\n                    <ChipInput\n                        fullWidth\n                        variant='outlined'\n                        label={(\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.components.storeVisibility.roles'\n                                defaultMessage='Roles'\n                            />\n                        )}\n                        disabled={isRestricted(['apim:api_create', 'apim:api_publish'], apiFromContext)}\n                        value={api.visibleRoles.concat(invalidRoles)}\n                        alwaysShowPlaceholder={false}\n                        placeholder='Enter roles and press Enter'\n                        blurBehavior='clear'\n                        InputProps={{\n                            endAdornment: !roleValidity && (\n                                <InputAdornment position='end'>\n                                    <Error color='error' style={{ paddingBottom: 8 }} />\n                                </InputAdornment>\n                            ),\n                        }}\n                        onAdd={handleRoleAddition}\n                        error={!roleValidity || !roleExists}\n                        helperText={\n                            roleValidity ? (\n                                <FormattedMessage\n                                    id='Apis.Details.Scopes.CreateScope.roles.help'\n                                    defaultMessage='Enter valid role and press enter'\n                                />\n                            ) : (\n                                <FormattedMessage\n                                    id='Apis.Details.Scopes.Roles.Invalid'\n                                    defaultMessage='Role is invalid'\n                                />\n                            )\n                        }\n                        chipRenderer={({ value }, key) => (\n                            <Chip\n                                key={key}\n                                size='small'\n                                label={value}\n                                onDelete={() => {\n                                    handleRoleDeletion(value);\n                                }}\n                                style={{\n                                    backgroundColor: invalidRoles.includes(value) ? red[300] : null,\n                                    margin: '0 8px 12px 0',\n                                    float: 'left',\n                                }}\n                            />\n                        )}\n                    />\n                </Box>\n            )}\n        </>\n    );\n}\n\nStoreVisibility.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport ChipInput from 'material-ui-chip-input';\nimport { FormattedMessage } from 'react-intl';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport Chip from '@material-ui/core/Chip';\nimport { red } from '@material-ui/core/colors/';\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function Tags(props) {\n    const { api, configDispatcher } = props;\n    const [apiFromContext] = useAPI();\n    const [isTagValid, setIsTagValid] = useState(true);\n    const [invalidTags, setInvalidTags] = useState([]);\n    const regexPattern = /([~!@#;%^&*+=|\\\\<>\"'/,])/;\n    return (\n        <React.Fragment style={{ marginTop: 10 }}>\n            <ChipInput\n                fullWidth\n                variant='outlined'\n                label={(\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.components.Tags.title'\n                        defaultMessage='Tags'\n                    />\n                )}\n                disabled={isRestricted(['apim:api_create', 'apim:api_publish'], apiFromContext)}\n                value={api.tags}\n                error={!isTagValid}\n                helperText={isTagValid ? (\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.components.Tags.helper'\n                        defaultMessage='Press `Enter` after typing the tag name to add a new tag'\n                    />\n                ) : (\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.components.Tags.error'\n                        defaultMessage={\n                            'The tag contains one or more illegal characters '\n                            + '( ~ ! @ # ; % ^ & * + = { } | < > , \\' \" \\\\\\\\ / ) .'\n                        }\n                    />\n                )}\n                onAdd={(tag) => {\n                    if (regexPattern.test(tag)) {\n                        setIsTagValid(false);\n                        setInvalidTags([...invalidTags, tag]);\n                    }\n                    configDispatcher({\n                        action: 'tags',\n                        value: [...api.tags, tag.length > 30 ? tag.substring(0, 30) : tag],\n                    });\n                }}\n                chipRenderer={({ value }, key) => (\n                    <Chip\n                        key={key}\n                        size='small'\n                        label={value}\n                        onDelete={() => {\n                            if (invalidTags.includes(value)) {\n                                const currentInvalidTags = invalidTags.filter((existingTag) => existingTag !== value);\n                                setInvalidTags(currentInvalidTags);\n                                if (currentInvalidTags.length === 0) {\n                                    setIsTagValid(true);\n                                }\n                            }\n                            configDispatcher({ action: 'tags', value: api.tags.filter((oldTag) => oldTag !== value) });\n                        }}\n                        style={{\n                            backgroundColor: regexPattern.test(value) ? red[300] : null,\n                            margin: '0 8px 12px 0',\n                            float: 'left',\n                        }}\n                    />\n                )}\n                style={{ display: 'flex' }}\n            />\n        </React.Fragment>\n    );\n}\n\nTags.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport { FormattedMessage } from 'react-intl';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport API from 'AppData/api';\nimport { withAPI, useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport { isRestricted } from 'AppData/AuthManager';\n\nconst useStyles = makeStyles((theme) => ({\n    tooltip: {\n        position: 'absolute',\n        right: theme.spacing(-4),\n        top: theme.spacing(1),\n    },\n}));\n/**\n * Render the categories drop down.\n * @param {JSON} props props passed from it's parents.\n * @returns {JSX} Render the categories drop down.\n */\nfunction APICategories(props) {\n    const [categories, setCategories] = useState({});\n    const { api, configDispatcher } = props;\n    const classes = useStyles();\n    const [apiFromContext] = useAPI();\n\n    useEffect(() => {\n        API.apiCategories().then((response) => setCategories(response.body));\n    }, []);\n\n    if (!categories.list) {\n        return null;\n    } else if (categories.list.length === 0) {\n        return (\n            <Box style={{ position: 'relative', marginTop: 10 }}>\n                <TextField\n                    fullWidth\n                    select\n                    label={(\n                        <>\n                            <FormattedMessage\n                                id='Apis.Details.Configurations.api.categories'\n                                defaultMessage='API Categories'\n                            />\n                        </>\n                    )}\n                    margin='normal'\n                    variant='outlined'\n                    disabled\n                    value='emptyMessage'\n                >\n                    <MenuItem\n                        dense\n                        disableGutters\n                        value='emptyMessage'\n                    >\n                        <ListItemText primary={(\n                            <FormattedMessage\n                                id='Apis.Details.Configurations.api.categories.empty'\n                                defaultMessage='No API Categories defined yet. Please create an API Category first.'\n                            />\n                        )}\n                        />\n                    </MenuItem>\n                </TextField>\n            </Box>\n        );\n    } else {\n        return (\n            <Box style={{ position: 'relative', marginTop: 10 }}>\n                <TextField\n                    fullWidth\n                    select\n                    label={(\n                        <>\n                            <FormattedMessage\n                                id='Apis.Details.Configurations.api.categories'\n                                defaultMessage='API Categories'\n                            />\n                        </>\n                    )}\n                    name='categories'\n                    margin='normal'\n                    variant='outlined'\n                    disabled={isRestricted(['apim:api_create', 'apim:api_publish'], apiFromContext)}\n                    value={api.categories}\n                    SelectProps={{\n                        multiple: true,\n                        renderValue: (selected) => (Array.isArray(selected) ? selected.join(', ') : selected),\n                    }}\n                    onChange={(e) => configDispatcher({ action: 'categories', value: e.target.value })}\n                    InputProps={{\n                        id: 'itest-id-categories-input',\n                    }}\n                    helperText='Select API Categories for the API'\n                >\n                    { categories.list.map((category) => (\n                        <MenuItem\n                            dense\n                            disableGutters\n                            id={category.id}\n                            key={category.name}\n                            value={category.name}\n                        >\n                            <Checkbox color='primary' checked={api.categories.includes(category.name)} />\n                            <ListItemText primary={category.name} secondary={category.description} />\n                        </MenuItem>\n                    ))}\n                </TextField>\n                <Tooltip\n                    title={(\n                        <>\n                            <p>\n                                <FormattedMessage\n                                    id='Api.category.dropdown.tooltip'\n                                    defaultMessage={'API categories can be added via the Admin portal UI or the'\n                                        + ' Admin REST API. There has to be pre-defined API categories in the'\n                                        + ' environment in order to be attached to an API.'}\n                                />\n                            </p>\n                        </>\n                    )}\n                    aria-label='API Categories'\n                    placement='right-end'\n                    interactive\n                    className={classes.tooltip}\n                >\n                    <HelpOutline />\n                </Tooltip>\n            </Box>\n        );\n    }\n}\n\nAPICategories.defaultProps = {\n    categories: [],\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n\nexport default withAPI(APICategories);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useReducer, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport { FormattedMessage } from 'react-intl';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Alert from 'AppComponents/Shared/Alert';\n\nimport { APIContext } from 'AppComponents/Apis/Details/components/ApiContext';\nimport ThumbnailView from 'AppComponents/Apis/Listing/components/ImageGenerator/ThumbnailView';\nimport { isRestricted } from 'AppData/AuthManager';\nimport API from 'AppData/api.js';\nimport DefaultVersion from './components/DefaultVersion';\nimport Description from './components/Description';\nimport AccessControl from './components/AccessControl';\nimport StoreVisibility from './components/StoreVisibility';\nimport Tags from './components/Tags';\nimport APICategories from './components/APICategories';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: theme.spacing(3, 2),\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: theme.spacing(3),\n    },\n    mainTitle: {\n        paddingLeft: 0,\n    },\n    paper: {\n        padding: theme.spacing(3),\n    },\n    paperCenter: {\n        padding: theme.spacing(3),\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    heading: {\n        fontSize: '1.1rem',\n        fontWeight: 400,\n        marginBottom: theme.spacing(0),\n    },\n    itemPadding: {\n        marginBottom: theme.spacing(3),\n    },\n    arrowForwardIcon: {\n        fontSize: 50,\n        color: '#ccc',\n        position: 'absolute',\n        top: 90,\n        right: -43,\n    },\n    arrowBackIcon: {\n        fontSize: 50,\n        color: '#ccc',\n        position: 'absolute',\n        top: 30,\n        right: -71,\n    },\n    expansionPanel: {\n        marginBottom: theme.spacing(1),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: '38px',\n    },\n    btnSpacing: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\n/**\n *\n * Deep coping the properties in API object (what ever the object in the state),\n * making sure that no direct mutations happen when updating the state.\n * You should know the shape of the object that you are keeping in the state,\n * @param {Object} api\n * @returns {Object} Deep copy of an object\n */\nfunction copyAPIConfig(api) {\n    return {\n        id: api.id,\n        name: api.name,\n        description: api.description,\n        lifeCycleStatus: api.lifeCycleStatus,\n        accessControl: api.accessControl,\n        authorizationHeader: api.authorizationHeader,\n        responseCachingEnabled: api.responseCachingEnabled,\n        cacheTimeout: api.cacheTimeout,\n        visibility: api.visibility,\n        isDefaultVersion: api.isDefaultVersion,\n        enableSchemaValidation: api.enableSchemaValidation,\n        accessControlRoles: [...api.accessControlRoles],\n        visibleRoles: [...api.visibleRoles],\n        tags: [...api.tags],\n        maxTps: api.maxTps,\n        transport: [...api.transport],\n        wsdlUrl: api.wsdlUrl,\n        securityScheme: [...api.securityScheme],\n        categories: [...api.categories],\n        corsConfiguration: {\n            corsConfigurationEnabled: api.corsConfiguration.corsConfigurationEnabled,\n            accessControlAllowCredentials: api.corsConfiguration.accessControlAllowCredentials,\n            accessControlAllowOrigins: [...api.corsConfiguration.accessControlAllowOrigins],\n            accessControlAllowHeaders: [...api.corsConfiguration.accessControlAllowHeaders],\n            accessControlAllowMethods: [...api.corsConfiguration.accessControlAllowMethods],\n        },\n    };\n}\n/**\n * This component handles the basic configurations UI in the API details page\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function DesignConfigurations() {\n    /**\n     *\n     * Reduce the configuration UI related actions in to updated state\n     * @param {*} state current state\n     * @param {*} configAction dispatched configuration action\n     * @returns {Object} updated state\n     */\n    function configReducer(state, configAction) {\n        const { action, value } = configAction;\n        const nextState = copyAPIConfig(state);\n        switch (action) {\n            case 'description':\n            case 'isDefaultVersion':\n            case 'authorizationHeader':\n            case 'responseCachingEnabled':\n            case 'cacheTimeout':\n            case 'enableSchemaValidation':\n            case 'visibility':\n            case 'maxTps':\n            case 'categories':\n            case 'tags':\n                nextState[action] = value;\n                return nextState;\n            case 'accessControl':\n                nextState[action] = value;\n                if (value === 'NONE') {\n                    nextState.accessControlRoles = [];\n                }\n                return nextState;\n            case 'accessControlRoles':\n                return { ...copyAPIConfig(state), [action]: value };\n            case 'visibleRoles':\n                return { ...copyAPIConfig(state), [action]: value };\n            default:\n                return state;\n        }\n    }\n    const { api, updateAPI } = useContext(APIContext);\n    const [isUpdating, setIsUpdating] = useState(false);\n    const [apiConfig, configDispatcher] = useReducer(configReducer, copyAPIConfig(api));\n    const classes = useStyles();\n\n    const invalidTagsExist = apiConfig.tags.find((tag) => {\n        return (/([~!@#;%^&*+=|\\\\<>\"'/,])/.test(tag));\n    });\n\n    /**\n     *\n     * Handle the configuration view save button action\n     */\n    function handleSave() {\n        setIsUpdating(true);\n        updateAPI(apiConfig)\n            .catch((error) => {\n                if (error.response) {\n                    Alert.error(error.response.body.description);\n                }\n            })\n            .finally(() => setIsUpdating(false));\n    }\n\n    return (\n        <>\n            <Container maxWidth='md'>\n                <Grid container spacing={2}>\n                    <Grid item md={12}>\n                        <Typography variant='h5'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Configuration.Design.topic.header'\n                                defaultMessage='Design Configurations'\n                            />\n                        </Typography>\n                        {api.apiType === API.CONSTS.APIProduct\n                            ? (\n                                <Typography variant='caption'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.Configuration.Design.APIProduct.sub.heading'\n                                        defaultMessage='Configure API Product visibility.'\n                                    />\n                                </Typography>\n                            )\n                            : (\n                                <Typography variant='caption'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.Configuration.Design.sub.heading'\n                                        defaultMessage='Configure API visibility.'\n                                    />\n                                </Typography>\n                            )}\n                    </Grid>\n                    <Grid item md={12}>\n                        <Paper elevation={0}>\n                            <div>\n                                <Box px={8} py={5}>\n                                    <Box py={1}>\n                                        <Grid container spacing={0}>\n                                            <Grid item xs={12} md={2}>\n                                                <ThumbnailView\n                                                    api={api}\n                                                    width={100}\n                                                    height={100}\n                                                    isEditable={!isRestricted(['apim:api_publish',\n                                                        'apim:api_create'], api)}\n                                                />\n                                            </Grid>\n                                            <Grid item xs={12} md={10}>\n                                                <Description api={apiConfig} configDispatcher={configDispatcher} />\n                                            </Grid>\n                                        </Grid>\n                                    </Box>\n                                    <Box py={1}>\n                                        <AccessControl api={apiConfig} configDispatcher={configDispatcher} />\n                                    </Box>\n                                    <Box py={1}>\n                                        <StoreVisibility api={apiConfig} configDispatcher={configDispatcher} />\n                                    </Box>\n                                    <Box py={1}>\n                                        <Tags api={apiConfig} configDispatcher={configDispatcher} />\n                                    </Box>\n                                    <Box py={1}>\n                                        <APICategories\n                                            api={apiConfig}\n                                            configDispatcher={configDispatcher}\n                                            categories={api.categories}\n                                        />\n                                    </Box>\n                                    <Box py={1}>\n                                        {api.apiType !== 'APIProduct' && (\n                                            <DefaultVersion api={apiConfig} configDispatcher={configDispatcher} />\n                                        )}\n                                    </Box>\n                                    <Box pt={2}>\n                                        <Button\n                                            disabled={\n                                                isUpdating || invalidTagsExist\n                                                || (apiConfig.visibility === 'RESTRICTED'\n                                                    && apiConfig.visibleRoles.length === 0)\n                                            }\n                                            type='submit'\n                                            variant='contained'\n                                            color='primary'\n                                            className={classes.btnSpacing}\n                                            onClick={handleSave}\n                                        >\n                                            <FormattedMessage\n                                                id='Apis.Details.Configuration.Configuration.save'\n                                                defaultMessage='Save'\n                                            />\n                                            {isUpdating && <CircularProgress size={15} />}\n                                        </Button>\n                                        <Link to={'/apis/' + api.id + '/overview'}>\n                                            <Button>\n                                                <FormattedMessage\n                                                    id='Apis.Details.Configuration.Configuration.cancel'\n                                                    defaultMessage='Cancel'\n                                                />\n                                            </Button>\n                                        </Link>\n                                    </Box>\n                                    {isRestricted(['apim:api_create'], api) && (\n                                        <Box py={1}>\n                                            <Typography variant='body2' color='primary'>\n                                                <FormattedMessage\n                                                    id='Apis.Details.Configuration.Configuration.update.not.allowed'\n                                                    defaultMessage={\n                                                        '* You are not authorized to update particular fields of'\n                                                        + ' the API due to insufficient permissions'\n                                                    }\n                                                />\n                                            </Typography>\n                                        </Box>\n                                    )}\n                                </Box>\n                            </div>\n                        </Paper>\n                    </Grid>\n                </Grid>\n            </Container>\n        </>\n    );\n}\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { FormattedMessage } from 'react-intl';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { makeStyles } from '@material-ui/core';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport TextField from '@material-ui/core/TextField';\n\nconst useStyles = makeStyles((theme) => ({\n    expansionPanel: {\n        marginBottom: theme.spacing(3),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n    iconSpace: {\n        marginLeft: theme.spacing(0.5),\n    },\n    actionSpace: {\n        margin: '-7px auto',\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 1.5,\n    },\n    paper: {\n        padding: theme.spacing(0, 3),\n    },\n}));\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function ResponseCaching(props) {\n    const { api, configDispatcher } = props;\n    const classes = useStyles();\n    const [apiFromContext] = useAPI();\n    const isResponseCachingEnabled = api.responseCachingEnabled;\n\n    return (\n        <>\n            <ExpansionPanel className={classes.expansionPanel}>\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                    <Typography className={classes.subHeading} variant='h6'>\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.Configuration.response.caching'\n                            defaultMessage='Response Caching'\n                        />\n                        <Tooltip\n                            title={(\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.components.ResponseCaching.tooltip'\n                                    defaultMessage={\n                                        'If enabled, the API response will be cached at the gateway level'\n                                        + ' to improve the response time and minimize the backend load'\n                                    }\n                                />\n                            )}\n                            aria-label='Response cache'\n                            placement='right-end'\n                            interactive\n                        >\n                            <HelpOutline className={classes.iconSpace} />\n                        </Tooltip>\n                    </Typography>\n                    <FormControlLabel\n                        className={classes.actionSpace}\n                        control={(\n                            <Switch\n                                disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                checked={api.responseCachingEnabled}\n                                onChange={({ target: { checked } }) => configDispatcher({\n                                    action: 'responseCachingEnabled',\n                                    value: checked,\n                                })}\n                                color='primary'\n                            />\n                        )}\n                    />\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                    <Grid container spacing={1} alignItems='flex-start'>\n                        <Grid item>\n                            {isResponseCachingEnabled && (\n                                <TextField\n                                    value={api.cacheTimeout}\n                                    onChange={({ target: { value } }) => configDispatcher({\n                                        action: 'cacheTimeout',\n                                        value,\n                                    })}\n                                    margin='normal'\n                                    helperText={(\n                                        <FormattedMessage\n                                            id='Apis.Details.Configuration.Configuration.cache.timeout'\n                                            defaultMessage='Cache Timeout (seconds)'\n                                        />\n                                    )}\n                                />\n                            )}\n                        </Grid>\n                    </Grid>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </>\n    );\n}\n\nResponseCaching.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ChipInput from 'material-ui-chip-input';\nimport Grid from '@material-ui/core/Grid';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport { FormattedMessage } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst useStyles = makeStyles((theme) => ({\n    expansionPanel: {\n        marginBottom: theme.spacing(3),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n    iconSpace: {\n        marginLeft: theme.spacing(0.5),\n    },\n    actionSpace: {\n        margin: '-7px auto',\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 1.5,\n    },\n}));\n\n/**\n *\n * api.corsConfiguration possible values true and false\n * @export\n * @param {*} props\n * @returns\n */\nexport default function CORSConfiguration(props) {\n    const [apiFromContext] = useAPI();\n    const {\n        configDispatcher,\n        api: { corsConfiguration },\n    } = props;\n    const isCorsEnabled = corsConfiguration.corsConfigurationEnabled;\n    const isAllowAllOrigins = corsConfiguration.accessControlAllowOrigins[0] === '*'\n        && corsConfiguration.accessControlAllowOrigins.length === 1;\n    const classes = useStyles();\n\n    return (\n        <ExpansionPanel className={classes.expansionPanel}>\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography className={classes.subHeading} variant='h6'>\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.components.CORSConfiguration.cors.configuration'\n                        defaultMessage='CORS Configuration'\n                    />\n                    <Tooltip\n                        title={(\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.components.CORSConfiguration.tooltip'\n                                defaultMessage='If enabled, the CORS configuration for the API will be enabled.'\n                            />\n                        )}\n                        aria-label='Response cache'\n                        placement='right-end'\n                        interactive\n                    >\n                        <HelpOutline className={classes.iconSpace} />\n                    </Tooltip>\n                </Typography>\n                <FormControlLabel\n                    className={classes.actionSpace}\n                    control={(\n                        <Switch\n                            disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                            checked={corsConfiguration.corsConfigurationEnabled}\n                            onChange={({ target: { checked } }) => configDispatcher({\n                                action: 'corsConfigurationEnabled',\n                                value: checked,\n                            })}\n                            color='primary'\n                        />\n                    )}\n                />\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                <Grid container>\n                    <Grid item md={12}>\n                        {isCorsEnabled && (\n                            <Grid container>\n                                <Grid item md={12}>\n                                    <Typography variant='subtitle1'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Configuration.components.CORSConfiguration.allow.\n                                                    origins'\n                                            defaultMessage='Access Control Allow Origins'\n                                        />\n                                    </Typography>\n                                </Grid>\n                                <Grid item md={12}>\n                                    <Grid container>\n                                        <Grid item md={12}>\n                                            <FormControlLabel\n                                                style={{ display: 'flex' }}\n                                                control={(\n                                                    <Checkbox\n                                                        disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                                        checked={isAllowAllOrigins}\n                                                        onChange={({ target: { checked, value } }) => configDispatcher({\n                                                            action: 'accessControlAllowOrigins',\n                                                            event: { checked, value },\n                                                        })}\n                                                        value='*'\n                                                        color='primary'\n                                                    />\n                                                )}\n                                                label='Allow All Origins'\n                                            />\n                                        </Grid>\n                                        {!isAllowAllOrigins && (\n                                            <Grid item md={12}>\n                                                <ChipInput\n                                                    style={{ marginBottom: 40, display: 'flex' }}\n                                                    value={corsConfiguration.accessControlAllowOrigins}\n                                                    helperText={(\n                                                        <FormattedMessage\n                                                            id={\n                                                                'Apis.Details.Configuration.components'\n                                                                + '.CORSConfigurations.origin.helper'\n                                                            }\n                                                            defaultMessage={\n                                                                'Press `Enter` after typing the origin name,'\n                                                                + 'to add a new origin'\n                                                            }\n                                                        />\n                                                    )}\n                                                    onAdd={(accessControlAllowOrigin) => {\n                                                        configDispatcher({\n                                                            action: 'accessControlAllowOrigins',\n                                                            event: {\n                                                                value: [\n                                                                    ...corsConfiguration.accessControlAllowOrigins,\n                                                                    accessControlAllowOrigin,\n                                                                ],\n                                                            },\n                                                        });\n                                                    }}\n                                                    onDelete={(accessControlAllowOrigin) => {\n                                                        configDispatcher({\n                                                            action: 'accessControlAllowOrigins',\n                                                            event: {\n                                                                value: corsConfiguration\n                                                                    .accessControlAllowOrigins\n                                                                    .filter(\n                                                                        (oldOrigin) => (\n                                                                            oldOrigin !== accessControlAllowOrigin),\n                                                                    ),\n                                                            },\n                                                        });\n                                                    }}\n                                                />\n                                            </Grid>\n                                        )}\n                                    </Grid>\n                                </Grid>\n                                <Grid item md={12}>\n                                    <Typography variant='subtitle1'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Configuration.components.CORSConfiguration.allow.\n                                                    headers'\n                                            defaultMessage='Access Control Allow Headers'\n                                        />\n                                    </Typography>\n                                </Grid>\n                                <Grid item md={12}>\n                                    <ChipInput\n                                        style={{ marginBottom: 40, display: 'flex' }}\n                                        value={corsConfiguration.accessControlAllowHeaders}\n                                        disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                        helperText={(\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Details.Configuration.components.'\n                                                    + 'CORSConfigurations.header.helper'\n                                                }\n                                                defaultMessage={\n                                                    'Press `Enter` after typing the header name, '\n                                                    + 'to add a new header'\n                                                }\n                                            />\n                                        )}\n                                        onAdd={(accessControlAllowHeader) => {\n                                            configDispatcher({\n                                                action: 'accessControlAllowHeaders',\n                                                value: [\n                                                    ...corsConfiguration.accessControlAllowHeaders,\n                                                    accessControlAllowHeader,\n                                                ],\n                                            });\n                                        }}\n                                        onDelete={(accessControlAllowHeader) => {\n                                            configDispatcher({\n                                                action: 'accessControlAllowHeaders',\n                                                value: corsConfiguration.accessControlAllowHeaders\n                                                    .filter((oldHeader) => oldHeader !== accessControlAllowHeader),\n                                            });\n                                        }}\n                                    />\n                                </Grid>\n                                <Grid item md={12}>\n                                    <Typography variant='subtitle1'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Configuration.components.CORSConfiguration.allow.\n                                                    methods'\n                                            defaultMessage='Access Control Allow Methods'\n                                        />\n                                    </Typography>\n                                </Grid>\n                                <Grid item md={12}>\n                                    <ChipInput\n                                        style={{ marginBottom: 40, display: 'flex' }}\n                                        value={corsConfiguration.accessControlAllowMethods}\n                                        disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                        helperText={(\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Details.Configuration.components'\n                                                    + '.CORSConfigurations.method.helper'\n                                                }\n                                                defaultMessage={\n                                                    'Press `Enter` after typing the method name,'\n                                                    + ' to add a new method'\n                                                }\n                                            />\n                                        )}\n                                        onAdd={(newValue) => {\n                                            let value = [...corsConfiguration.accessControlAllowMethods,\n                                                newValue.toUpperCase()];\n                                            if (\n                                                corsConfiguration\n                                                    .accessControlAllowMethods\n                                                    .find((method) => method === newValue.toUpperCase())\n                                            ) {\n                                                value = [...corsConfiguration.accessControlAllowMethods];\n                                            }\n                                            configDispatcher({\n                                                action: 'accessControlAllowMethods',\n                                                value,\n                                            });\n                                        }}\n                                        onDelete={(accessControlAllowMethod) => {\n                                            configDispatcher({\n                                                action: 'accessControlAllowMethods',\n                                                value: corsConfiguration\n                                                    .accessControlAllowMethods\n                                                    .filter((oldMethod) => oldMethod !== accessControlAllowMethod),\n                                            });\n                                        }}\n                                    />\n                                </Grid>\n                                <Grid item>\n                                    <FormControlLabel\n                                        control={(\n                                            <Checkbox\n                                                disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                                checked={corsConfiguration.accessControlAllowCredentials}\n                                                onChange={({ target: { checked } }) => configDispatcher({\n                                                    action: 'accessControlAllowCredentials',\n                                                    value: checked,\n                                                })}\n                                                color='primary'\n                                            />\n                                        )}\n                                        label={(\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Details.Configuration.components'\n                                                    + '.CORSConfiguration.allow.credentials'\n                                                }\n                                                defaultMessage='Access Control Allow Credentials'\n                                            />\n                                        )}\n                                    />\n                                </Grid>\n                            </Grid>\n                        )}\n                    </Grid>\n                </Grid>\n            </ExpansionPanelDetails>\n        </ExpansionPanel>\n    );\n}\n\nCORSConfiguration.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { withStyles } from '@material-ui/core/styles';\nimport { FormattedMessage } from 'react-intl';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { isRestricted } from 'AppData/AuthManager';\nimport ApiContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport Paper from '@material-ui/core/Paper';\n\nconst styles = (theme) => ({\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 2.5,\n    },\n    iconSpace: {\n        marginLeft: theme.spacing(0.5),\n    },\n    actionSpace: {\n        margin: theme.spacing(0, -1),\n        float: 'right',\n    },\n    paper: {\n        padding: theme.spacing(0, 3),\n        marginBottom: theme.spacing(3),\n    },\n});\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nclass SchemaValidation extends React.Component {\n    /**\n     *Creates an instance of SchemaValidation.\n     * @param {*} props\n     * @memberof SchemaValidation\n     */\n    constructor(props) {\n        super(props);\n        this.state = { isOpen: false };\n        this.setIsOpen = this.setIsOpen.bind(this);\n    }\n\n    /**\n     *\n     * @inheritdoc\n     * @param {Object} prevProps\n     * @param {Object} prevState\n     * @memberof SchemaValidation\n     */\n    componentDidUpdate(prevProps) {\n        const { api } = this.props;\n        /*\n        This could have been done using hooks too, But at the moment it requires `useRef` hook to get the previous props\n        Hence using class component and its `componentDidUpdate` life cycle method to open the caution dialog box\n        For more info: https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\n         */\n        if (!prevProps.api.enableSchemaValidation && api.enableSchemaValidation) {\n            this.setIsOpen(true);\n        }\n    }\n\n    /**\n     *\n     * Set isOpen state of the dialog box which shows the caution message when enabling schema validation\n     * @param {Boolean} isOpen Should dialog box is open or not\n     * @memberof SchemaValidation\n     */\n    setIsOpen(isOpen) {\n        this.setState({ isOpen });\n    }\n\n    /**\n     *\n     * @inheritdoc\n     * @param {*} props\n     * @returns\n     * @memberof SchemaValidation\n     */\n    render() {\n        const { api, configDispatcher, classes } = this.props;\n        const { isOpen } = this.state;\n        const { api: apiFromContext } = this.context;\n\n        return (\n            <Paper className={classes.paper}>\n                <Grid container spacing={1} alignItems='flex-start'>\n                    <Grid item md={12}>\n                        <Typography className={classes.subHeading} variant='h6'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Configuration.schema.validation'\n                                defaultMessage='Schema Validation'\n                            />\n                            <Tooltip\n                                title={(\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.schema.validation.tooltip'\n                                        defaultMessage={'Enable the request and response '\n                                        + 'validation against the OpenAPI definition'}\n                                    />\n                                )}\n                                aria-label='Schema Validation'\n                                placement='right-end'\n                                interactive\n                            >\n                                <HelpOutline className={classes.iconSpace} />\n                            </Tooltip>\n                        </Typography>\n                        <FormControlLabel\n                            className={classes.actionSpace}\n                            control={(\n                                <Switch\n                                    disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                    checked={\n                                        api.enableSchemaValidation === undefined ? false : api.enableSchemaValidation\n                                    }\n                                    onChange={({ target: { checked } }) => configDispatcher({\n                                        action: 'enableSchemaValidation',\n                                        value: checked,\n                                    })}\n                                    color='primary'\n                                />\n                            )}\n                        />\n                    </Grid>\n                </Grid>\n                <Dialog\n                    open={isOpen}\n                    onClose={() => this.setIsOpen(false)}\n                    aria-labelledby='alert-dialog-title'\n                    aria-describedby='alert-dialog-description'\n                >\n                    <DialogTitle id='alert-dialog-title'>\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.SchemaValidation.title'\n                            defaultMessage='Caution!'\n                        />\n                    </DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id='alert-dialog-description'>\n                            <Typography variant='subtitle1' display='block' gutterBottom>\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.components.SchemaValidation.description'\n                                    defaultMessage={\n                                        'Enabling JSON schema validation will cause to build the'\n                                        + ' payload in every request and response. This will impact'\n                                        + ' the round trip time of an API request!'\n                                    }\n                                />\n                            </Typography>\n                            <Typography variant='subtitle2' display='block' gutterBottom>\n                                <b>\n                                    <FormattedMessage\n                                        id={'Apis.Details.Configuration.components.SchemaValidation'\n                                        + '.description.question'}\n                                        defaultMessage='Do you want to enable schema validation?'\n                                    />\n                                </b>\n                            </Typography>\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button color='primary' variant='contained' onClick={() => this.setIsOpen(false)}>\n                            Yes\n                        </Button>\n                        <Button\n                            onClick={() => {\n                                this.setIsOpen(false);\n                                configDispatcher({\n                                    action: 'enableSchemaValidation',\n                                    value: false,\n                                });\n                            }}\n                            color='primary'\n                        >\n                            No\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </Paper>\n        );\n    }\n}\n\nSchemaValidation.propTypes = {\n    api: PropTypes.shape({ enableSchemaValidation: PropTypes.bool }).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n    classes: PropTypes.shape({}).isRequired,\n};\n\nSchemaValidation.contextType = ApiContext;\n\nexport default withStyles(styles)(SchemaValidation);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Typography from '@material-ui/core/Typography';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport Radio from '@material-ui/core/Radio';\nimport Grid from '@material-ui/core/Grid';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport TextField from '@material-ui/core/TextField';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Collapse } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport { isRestricted } from 'AppData/AuthManager';\n\nconst useStyles = makeStyles((theme) => ({\n    expansionPanel: {\n        marginBottom: theme.spacing(1), // TODO: replace with <Box /> element `mb`\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n    iconSpace: {\n        marginLeft: theme.spacing(0.5),\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 1.5,\n    },\n}));\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function MaxBackendTps(props) {\n    const { api, configDispatcher } = props;\n    const classes = useStyles();\n\n    return (\n        <>\n            <Grid item xs={12}>\n                <ExpansionPanel className={classes.expansionPanel} defaultExpanded>\n                    <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                        <Typography className={classes.subHeading} variant='h6'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Components.MaxBackendTps.maximum.backend.throughput'\n                                defaultMessage='Backend Throughput'\n                            />\n                            <Tooltip\n                                title={(\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.MaxBackendTps.tooltip'\n                                        defaultMessage={'Limits the total number of calls the API Manager is allowed'\n                                        + ' to make to the backend'}\n                                    />\n                                )}\n                                aria-label='APISecurity'\n                                placement='right-end'\n                                interactive\n                            >\n                                <HelpOutline className={classes.iconSpace} />\n                            </Tooltip>\n                        </Typography>\n                    </ExpansionPanelSummary>\n                    <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                        <FormControl component='fieldset'>\n                            <FormLabel component='legend'>Maximum Throughput</FormLabel>\n                            <RadioGroup\n                                aria-label='change-max-TPS'\n                                value={api.maxTps === null ? 'unlimited' : 'specify'}\n                                onChange={(event) => {\n                                    configDispatcher({\n                                        action: 'maxTps',\n                                        value:\n                                            event.target.value === 'specify' ? { production: null, sandbox: null }\n                                                : null,\n                                    });\n                                }}\n                                row\n                            >\n                                <FormControlLabel\n                                    value='unlimited'\n                                    control={(\n                                        <Radio\n                                            color='primary'\n                                            disabled={isRestricted(['apim:api_create'], api)}\n                                        />\n                                    )}\n                                    label='Unlimited'\n                                    labelPlacement='end'\n\n                                />\n                                <FormControlLabel\n                                    value='specify'\n                                    control={(\n                                        <Radio\n                                            color='primary'\n                                            disabled={isRestricted(['apim:api_create'], api)}\n                                        />\n                                    )}\n                                    label='Specify'\n                                    labelPlacement='end'\n                                    disabled={isRestricted(['apim:api_create'], api)}\n                                />\n                            </RadioGroup>\n                        </FormControl>\n                        <Collapse in={api.maxTps !== null}>\n                            <Grid item xs={12} style={{ marginBottom: 10, position: 'relative' }}>\n                                <TextField\n                                    label='Max Production TPS'\n                                    margin='normal'\n                                    variant='outlined'\n                                    onChange={(event) => {\n                                        configDispatcher({\n                                            action: 'maxTps',\n                                            value: { ...api.maxTps, production: event.target.value },\n                                        });\n                                    }}\n                                    value={api.maxTps !== null ? api.maxTps.production : ''}\n                                    disabled={isRestricted(['apim:api_create'], api)}\n                                    InputProps={{\n                                        endAdornment: <InputAdornment position='end'>TPS</InputAdornment>,\n                                    }}\n                                />\n                            </Grid>\n                            <Grid item xs={12} style={{ marginBottom: 10, position: 'relative' }}>\n                                <TextField\n                                    label='Max Sandbox TPS'\n                                    margin='normal'\n                                    variant='outlined'\n                                    onChange={(event) => {\n                                        configDispatcher({\n                                            action: 'maxTps',\n                                            value: { ...api.maxTps, sandbox: event.target.value },\n                                        });\n                                    }}\n                                    value={api.maxTps !== null ? api.maxTps.sandbox : ''}\n                                    disabled={isRestricted(['apim:api_create'], api)}\n                                    InputProps={{\n                                        endAdornment: <InputAdornment position='end'>TPS</InputAdornment>,\n                                    }}\n                                />\n                                <FormHelperText>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.MaxBackendTps.formattedMessage'\n                                        defaultMessage='Maximum backend transactions per second in integers'\n                                    />\n                                </FormHelperText>\n                            </Grid>\n                        </Collapse>\n                    </ExpansionPanelDetails>\n                </ExpansionPanel>\n            </Grid>\n        </>\n    );\n}\n\nMaxBackendTps.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport IconButton from '@material-ui/core/IconButton';\nimport Dropzone from 'react-dropzone';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Utils from 'AppData/Utils';\nimport API from 'AppData/api.js';\nimport ApiContext from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst dropzoneStyles = {\n    border: '1px dashed ',\n    borderRadius: '5px',\n    cursor: 'pointer',\n    height: 75,\n    padding: '8px 0px',\n    position: 'relative',\n    textAlign: 'center',\n    width: '100%',\n    margin: '10px 0',\n};\nconst styles = (theme) => ({\n    formControl: {\n        display: 'flex',\n        flexDirection: 'row',\n        padding: `${theme.spacing(2)}px 2px`,\n    },\n    dropzone: {\n        border: '1px dashed ' + theme.palette.primary.main,\n        borderRadius: '5px',\n        cursor: 'pointer',\n        height: 'calc(100vh - 50em)',\n        padding: `${theme.spacing(2)}px ${theme.spacing(2)}px`,\n        position: 'relative',\n        textAlign: 'center',\n        width: '100%',\n        margin: '10px 0',\n    },\n    dropZoneWrapper: {\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'column',\n        '& span': {\n            fontSize: 64,\n            color: theme.palette.primary.main,\n        },\n    },\n    radioWrapper: {\n        flexDirection: 'row',\n    },\n});\n/**\n * The component to manage IN mediation policies.\n * @param {any} props The props passed to the layout\n * @returns {any} HTML representation.\n */\nfunction EditMediationPolicy(props) {\n    const {\n        classes, updateMediationPolicy, selectedMediationPolicy, setEditing, editing, type, intl,\n    } = props;\n    const { api } = useContext(ApiContext);\n\n    const [globalMediationPolicies, setGlobalMediationPolicies] = useState(null);\n    // user uploaded api specific mediation policies\n    const [seqCustom, setSeqCustom] = useState(null);\n    const [provideBy, setProvideBy] = useState();\n    const { id: apiId } = api;\n    const NONE = 'none';\n    const [localSelectedPolicyFile, setLocalSelectedPolicyFile] = useState(selectedMediationPolicy);\n    function updatePoliciesFromBE() {\n        const globalPromise = API.getGlobalMediationPolicies();\n        const customPromise = API.getMediationPolicies(apiId);\n        Promise.all([globalPromise, customPromise])\n            .then((values) => {\n                setGlobalMediationPolicies([...values[0].obj.list.filter((seq) => seq.type === type)]);\n                setSeqCustom([...values[1].obj.list.filter((seq) => seq.type === type)]);\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.MediationPolicies.Edit.EditMediationPolicy.error',\n                        defaultMessage: 'Error retrieving mediation policies',\n                    }));\n                }\n            });\n    }\n    function setActivePolicy(policy) {\n        if (policy.name !== NONE) {\n            Object.assign(policy, { content: '' });\n            setLocalSelectedPolicyFile(policy);\n            // updateMediationPolicy(policy);\n        } else {\n            Object.assign(policy, { content: '', id: NONE });\n            setLocalSelectedPolicyFile(policy);\n            // updateMediationPolicy(policy);\n        }\n    }\n    useEffect(() => {\n        if (selectedMediationPolicy) {\n            const { shared } = selectedMediationPolicy;\n            if (shared) {\n                setProvideBy('global');\n            } else if (selectedMediationPolicy.name === NONE) {\n                setProvideBy('none');\n            } else {\n                setProvideBy('custom');\n            }\n        } else {\n            setProvideBy('none');\n        }\n    }, [selectedMediationPolicy]);\n    useEffect(() => {\n        updatePoliciesFromBE();\n    }, []);\n\n    useEffect(() => {\n        if (provideBy === 'custom' && seqCustom && seqCustom.length > 0) {\n            setActivePolicy(seqCustom[0]);\n        } else if (provideBy === 'global' && globalMediationPolicies && globalMediationPolicies.length > 0) {\n            setActivePolicy(globalMediationPolicies[0]);\n        }\n    }, [provideBy]);\n\n    // useEffect(() => {\n    //     if (globalInMediationPolicies && globalInMediationPolicies.length > 0) {\n    //         setProvideBy('global');\n    //     } else if (inSeqCustom && inSeqCustom.length > 0) {\n    //         setProvideBy('custom');\n    //     } else {\n    //         setProvideBy('none');\n    //     }\n    // }, [globalInMediationPolicies, inSeqCustom]);\n    const saveMediationPolicy = (newPolicy) => {\n        const promisedApi = API.addMediationPolicy(newPolicy, apiId, type);\n        promisedApi\n            .then((response) => {\n                const {\n                    body: { id, type: policyType, name },\n                } = response;\n                updatePoliciesFromBE();\n                setLocalSelectedPolicyFile({\n                    id,\n                    type: policyType,\n                    name,\n                    shared: false,\n                    content: '',\n                });\n                Alert.info(intl.formatMessage({\n                    id: 'Apis.Details.MediationPolicies.Edit.EditMediationPolicy.success',\n                    defaultMessage: 'Mediation policy added successfully',\n                }));\n            })\n            .catch((errorResponse) => {\n                console.error(errorResponse);\n                if (errorResponse.response.body.description !== null) {\n                    Alert.error(errorResponse.response.body.description);\n                } else {\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.MediationPolicies.Edit.AddMediationPolicy.error',\n                        defaultMessage: 'Error while adding mediation policy',\n                    }));\n                }\n            });\n    };\n    /**\n     * Handled the file upload action of the dropzone.\n     * @param {file} policy The accepted file list by the dropzone.\n     * */\n    const onDrop = (policy) => {\n        const policyFile = policy[0];\n        if (policyFile) {\n            saveMediationPolicy(policyFile);\n        }\n    };\n    /**\n     * Handles the mediation policy select event.\n     * @param {any} event The event pass to the layout\n     */\n    function handleChange(event) {\n        const policy = {\n            name: event.target.getAttribute('seq_name'),\n            id: event.target.getAttribute('seq_id'),\n            type: event.target.getAttribute('seq_type'),\n        };\n        setActivePolicy(policy);\n    }\n    /**\n     * Handles the Global mediation policy download.\n     * @param {any} policyToDownload policy file id that is to be downloaded.\n     */\n    function downloadGlobalMediationPolicyContent(policyToDownload) {\n        const promisedGetContent = API.getGlobalMediationPolicyContent(policyToDownload);\n        promisedGetContent\n            .then((response) => {\n                Utils.forceDownload(response);\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                    Alert.error(<FormattedMessage\n                        id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.download.error'\n                        defaultMessage='Error downloading the file'\n                    />);\n                }\n            });\n    }\n\n    /**\n     * Handles the custom mediation policy download.\n     * @param {any} policyToDownload policy file id that is to be downloaded.\n     */\n    function downloadCustomMediationPolicyContent(policyToDownload) {\n        const promisedGetContent = API.getMediationPolicyContent(policyToDownload, apiId);\n        promisedGetContent\n            .then((done) => {\n                Utils.forceDownload(done, document);\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                    Alert.error(<FormattedMessage\n                        id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.download.error'\n                        defaultMessage='Error downloading the file'\n                    />);\n                }\n            });\n    }\n    /**\n     * Handles the custom mediation policy delete.\n     * @param {any} policyToDelete policy file id that is to be deleted.\n     */\n    function deleteCustomMediationPolicy(policyToDelete) {\n        const promisedGetContent = API.deleteMediationPolicy(policyToDelete, api.id);\n        promisedGetContent\n            .then(() => {\n                setSeqCustom(seqCustom.filter((seq) => seq.id !== policyToDelete));\n                Alert.info(<FormattedMessage\n                    id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.delete.success'\n                    defaultMessage='Mediation policy deleted successfully.'\n                />);\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                    Alert.error(<FormattedMessage\n                        id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.delete.error'\n                        defaultMessage='Error deleting the file'\n                    />);\n                }\n            });\n    }\n    const handleDownload = (policyToDownload) => {\n        const isGlobalMediationPolicy = globalMediationPolicies.filter(\n            (policy) => policy.id === policyToDownload,\n        ).length > 0;\n        if (isGlobalMediationPolicy) {\n            downloadGlobalMediationPolicyContent(policyToDownload);\n        } else {\n            downloadCustomMediationPolicyContent(policyToDownload);\n        }\n    };\n    const handleDelete = (policyToDelete) => {\n        const isGlobalMediationPolicy = globalMediationPolicies.filter(\n            (policy) => policy.id === policyToDelete,\n        ).length > 0;\n        if (isGlobalMediationPolicy) {\n            Alert.error(<FormattedMessage\n                id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.global.delete'\n                defaultMessage='Cannot delete Global mediation policies.'\n            />);\n        } else {\n            deleteCustomMediationPolicy(policyToDelete);\n        }\n    };\n    function cancelEditing() {\n        setEditing(false);\n    }\n    function doneEditing() {\n        updateMediationPolicy(localSelectedPolicyFile);\n        setEditing(false);\n    }\n    function handleChangeProvideBy(event) {\n        const inputValue = event.target.value;\n        setProvideBy(inputValue);\n        setActivePolicy({});\n    }\n    return (\n        <Dialog\n            disableBackdropClick\n            disableEscapeKeyDown\n            maxWidth='sm'\n            fullWidth\n            aria-labelledby='confirmation-dialog-title'\n            open={editing}\n        >\n            <DialogTitle id='confirmation-dialog-title'>\n                <FormattedMessage\n                    id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.select.policy'\n                    defaultMessage='Select a Mediation Policy'\n                />\n            </DialogTitle>\n            {globalMediationPolicies && seqCustom && (\n                <DialogContent dividers>\n                    <RadioGroup value={provideBy} onChange={handleChangeProvideBy} className={classes.radioWrapper}>\n                        <FormControlLabel\n                            value='none'\n                            control={<Radio color='primary' />}\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.none'\n                                    defaultMessage='None'\n                                />\n                            )}\n                        />\n                        <FormControlLabel\n                            value='global'\n                            control={<Radio color='primary' />}\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.common.policies'\n                                    defaultMessage='Common Policies'\n                                />\n                            )}\n                        />\n                        <FormControlLabel\n                            value='custom'\n                            control={<Radio color='primary' />}\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.custom.policies'\n                                    defaultMessage='Custom Policies'\n                                />\n                            )}\n                        />\n                    </RadioGroup>\n                    {provideBy === 'custom' && (\n                        <>\n                            <Dropzone\n                                multiple={false}\n                                className={classes.dropzone}\n                                activeClassName={classes.acceptDrop}\n                                rejectClassName={classes.rejectDrop}\n                                onDrop={(dropFile) => {\n                                    onDrop(dropFile);\n                                }}\n                            >\n                                {({ getRootProps, getInputProps }) => (\n                                    <div {...getRootProps({ style: dropzoneStyles })}>\n                                        <input {...getInputProps()} accept='application/xml,text/xml' />\n                                        <div className={classes.dropZoneWrapper}>\n                                            <Icon className={classes.dropIcon}>cloud_upload</Icon>\n                                            <Typography>\n                                                <FormattedMessage\n                                                    id={\n                                                        'Apis.Details.MediationPolicies.Edit.EditMediationPolicy.'\n                                                        + 'click.or.drop.to.upload.file'\n                                                    }\n                                                    defaultMessage='Click or drag the mediation file to upload.'\n                                                />\n                                            </Typography>\n                                        </div>\n                                    </div>\n                                )}\n                            </Dropzone>\n                            <RadioGroup\n                                aria-label='inflow'\n                                name='inflow'\n                                className={classes.radioGroup}\n                                value={localSelectedPolicyFile.name}\n                                onChange={handleChange}\n                            >\n                                <FormLabel component='customPolicies'>\n                                    <FormattedMessage\n                                        id={\n                                            'Apis.Details.Edit.MediationPolicies.'\n                                            + 'EditMediationPolicies.custom.mediation.policies'\n                                        }\n                                        defaultMessage='Custom Mediation Policies'\n                                    />\n                                </FormLabel>\n                                {seqCustom.map((seq) => (\n                                    <div>\n                                        <IconButton onClick={() => handleDelete(seq.id)}>\n                                            <Icon>delete</Icon>\n                                        </IconButton>\n                                        <Button onClick={() => handleDownload(seq.id)}>\n                                            <Icon>arrow_downward</Icon>\n                                        </Button>\n                                        <FormControlLabel\n                                            control={(\n                                                <Radio\n                                                    inputProps={{\n                                                        seq_id: seq.id,\n                                                        seq_name: seq.name,\n                                                        seq_type: seq.type,\n                                                    }}\n                                                    color='primary'\n                                                />\n                                            )}\n                                            label={seq.name}\n                                            value={seq.name}\n                                            checked={localSelectedPolicyFile.name === seq.name}\n                                        />\n                                    </div>\n                                ))}\n                            </RadioGroup>\n                        </>\n                    )}\n                    {provideBy === 'global' && (\n                        <RadioGroup\n                            aria-label='inflow'\n                            name='inflow'\n                            className={classes.radioGroup}\n                            value={localSelectedPolicyFile.name}\n                            onChange={handleChange}\n                        >\n                            {globalMediationPolicies.map((seq) => (\n                                <div>\n                                    <Button onClick={() => handleDownload(seq.id)}>\n                                        <Icon>arrow_downward</Icon>\n                                    </Button>\n                                    <FormControlLabel\n                                        control={(\n                                            <Radio\n                                                inputProps={{\n                                                    seq_id: seq.id,\n                                                    seq_name: seq.name,\n                                                    seq_type: seq.type,\n                                                }}\n                                                color='primary'\n                                            />\n                                        )}\n                                        label={seq.name}\n                                        value={seq.name}\n                                        checked={localSelectedPolicyFile.name === seq.name}\n                                    />\n                                </div>\n                            ))}\n                        </RadioGroup>\n                    )}\n                </DialogContent>\n            )}\n            <DialogActions>\n                <Button onClick={cancelEditing} color='primary'>\n                    <FormattedMessage\n                        id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.cancel.btn'\n                        defaultMessage='Cancel'\n                    />\n                </Button>\n                <Button\n                    onClick={doneEditing}\n                    color='primary'\n                    variant='contained'\n                    disabled={provideBy === 'custom' && seqCustom && seqCustom.length === 0}\n                >\n                    <FormattedMessage\n                        id='Apis.Details.MediationPolicies.Edit.EditMediationPolicy.select.btn'\n                        defaultMessage='Select'\n                    />\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\nEditMediationPolicy.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    selectedMediationPolicy: PropTypes.shape({}).isRequired,\n    type: PropTypes.string.isRequired,\n    updateMediationPolicy: PropTypes.func.isRequired,\n    setEditing: PropTypes.func.isRequired,\n    editing: PropTypes.bool.isRequired,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(EditMediationPolicy));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Grid, withStyles } from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport EditMediationPolicy from 'AppComponents/Apis/Details/MediationPolicies/EditMediationPolicy';\nimport EditRounded from '@material-ui/icons/EditRounded';\n\nconst styles = {\n    content: {\n        flexGrow: 1,\n    },\n    itemWrapper: {\n        width: 'auto',\n        display: 'flex',\n    },\n    FormControl: {\n        padding: 10,\n        width: '100%',\n        marginTop: 0,\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    subTitle: {\n        marginTop: 20,\n    },\n    subTitleDescription: {\n        marginBottom: 10,\n    },\n    flowWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: 10,\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 1.5,\n    },\n    heading: {\n        margin: 'auto',\n        color: 'rgba(0, 0, 0, 0.40)',\n        wordBreak: 'break-all',\n        whiteSpace: 'normal',\n    },\n    paper: {\n        padding: '10px 24px',\n        width: 'auto',\n    },\n};\n\n/**\n * The base component of the IN mediation policy.\n * @param {any} props The props passed to the layout\n * @returns {any} HTML representation.\n */\nfunction InFlow(props) {\n    const {\n        classes, updateMediationPolicy, selectedMediationPolicy, type, isRestricted,\n    } = props;\n    const [editing, setEditing] = useState(false);\n\n    function startEditing() {\n        setEditing(true);\n    }\n    return (\n        <>\n            <Paper className={classes.paper}>\n                <Grid container spacing={2} alignItems='flex-start'>\n                    <Grid item md={12} style={{ position: 'relative', display: 'inline-flex' }}>\n                        <Typography className={classes.subHeading} variant='h6'>\n                            <FormattedMessage\n                                id='Apis.Details.MediationPolicies.Mediation'\n                                defaultMessage='Message Mediation'\n                            />\n                        </Typography>\n                        <Typography className={classes.heading}>\n                            {selectedMediationPolicy && selectedMediationPolicy.name ? (\n                                <span>{selectedMediationPolicy.name}</span>\n                            ) : (\n                                <span>none</span>\n                            )}\n                        </Typography>\n                        <Button\n                            size='small'\n                            onClick={startEditing}\n                            disabled={isRestricted}\n                        >\n                            <EditRounded />\n                        </Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n            <EditMediationPolicy\n                setEditing={setEditing}\n                editing={editing}\n                updateMediationPolicy={updateMediationPolicy}\n                selectedMediationPolicy={selectedMediationPolicy}\n                type={type}\n            />\n        </>\n    );\n}\n\nInFlow.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    updateMediationPolicy: PropTypes.func.isRequired,\n    selectedMediationPolicy: PropTypes.shape({}).isRequired,\n    type: PropTypes.string.isRequired,\n    api: PropTypes.shape({}).isRequired,\n};\n\nexport default withStyles(styles)(InFlow);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport { Link } from 'react-router-dom';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Box from '@material-ui/core/Box';\nimport { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst showEndpoint = function (api, type) {\n    if (api.endpointConfig) {\n        if (type === 'prod') {\n            return api.getProductionEndpoint();\n        }\n        if (type === 'sand') {\n            return api.getSandboxEndpoint();\n        }\n    }\n    return null;\n};\n\nconst useStyles = makeStyles((theme) => ({\n    subtitle: {\n        marginTop: theme.spacing(0),\n    },\n    expansionPanel: {\n        marginBottom: theme.spacing(1),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n    notConfigured: {\n        color: 'rgba(0, 0, 0, 0.40)',\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 1.5,\n    },\n    textTrim: {\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n    },\n}));\n\n/**\n *\n *X\n * @param {*} props\n * @returns\n */\nfunction Endpoints(props) {\n    const { api } = props;\n    const classes = useStyles();\n    const isPrototypedAvailable = api.endpointConfig !== null\n        && api.endpointConfig.implementation_status === 'prototyped';\n\n    /**\n     * Check whether the endpoint configuration is dynamic\n     *\n     * @param {object} endpointConfig The endpoint configuration of the api.\n     * @return {boolean} True if the endpoint config is dynamic.\n     * */\n    const isDynamicEndpoints = (endpointConfig) => {\n        if (!endpointConfig) {\n            return false;\n        }\n        if (endpointConfig.production_endpoints && !Array.isArray(endpointConfig.production_endpoints)) {\n            return endpointConfig.production_endpoints.url === 'default';\n        }\n        return false;\n    };\n\n    return (\n        <>\n            <ExpansionPanel className={classes.expansionPanel} defaultExpanded>\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                    <Typography className={classes.subHeading} variant='h6'>\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.Endpoints.endpoints'\n                            defaultMessage='Endpoints'\n                        />\n                    </Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                    {isDynamicEndpoints(api.endpointConfig)\n                        ? (\n                            <Box pb={2}>\n                                <Typography component='p' variant='body1' className={classes.subtitle}>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.Endpoints.dynamic'\n                                        defaultMessage='Dynamic'\n                                    />\n                                </Typography>\n                            </Box>\n                        )\n                        : (\n                            <>\n                                <Box pb={2}>\n                                    {/* Production Endpoint (TODO) fix the endpoint\n                                                    info when it's available with the api object */}\n\n                                    { !isPrototypedAvailable ? (\n                                        <Typography component='p' variant='subtitle2' className={classes.subtitle}>\n                                            <FormattedMessage\n                                                id='Apis.Details.Configuration.components.Endpoints.production'\n                                                defaultMessage='Production'\n                                            />\n                                        </Typography>\n                                    ) : (\n                                        <Typography component='p' variant='subtitle2' className={classes.subtitle}>\n                                            <FormattedMessage\n                                                id='Apis.Details.Configuration.components.Endpoints.prototype'\n                                                defaultMessage='Prototype'\n                                            />\n                                        </Typography>\n                                    )}\n                                    {showEndpoint(api, 'prod')\n                                && (\n                                    <Tooltip\n                                        title={showEndpoint(api, 'prod')}\n                                        interactive\n                                    >\n                                        <Typography component='p' variant='body1' className={classes.textTrim}>\n                                            <>\n                                                {showEndpoint(api, 'prod')}\n                                            </>\n                                        </Typography>\n                                    </Tooltip>\n                                )}\n                                    <Typography component='p' variant='body1' className={classes.notConfigured}>\n                                        {!showEndpoint(api, 'prod') && (\n                                            <>\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Configuration.'\n                                                    + 'components.Endpoints.not.set'}\n                                                    defaultMessage='-'\n                                                />\n                                            </>\n                                        )}\n                                    </Typography>\n                                </Box>\n                                {!isPrototypedAvailable && (\n                                    <Box pb={2}>\n                                        {/* Sandbox Endpoint (TODO) fix the endpoint info when\n                                                it's available with the api object */}\n                                        <Typography component='p' variant='subtitle2' className={classes.subtitle}>\n                                            <FormattedMessage\n                                                id='Apis.Details.Configuration.components.Endpoints.sandbox'\n                                                defaultMessage='Sandbox'\n                                            />\n                                        </Typography>\n                                        {showEndpoint(api, 'sand')\n                                    && (\n                                        <Tooltip\n                                            title={showEndpoint(api, 'sand')}\n                                            interactive\n                                        >\n                                            <Typography component='p' variant='body1' className={classes.textTrim}>\n                                                <>\n                                                    {showEndpoint(api, 'sand')}\n                                                </>\n                                            </Typography>\n                                        </Tooltip>\n                                    )}\n                                        <Typography component='p' variant='body1' className={classes.notConfigured}>\n                                            {!showEndpoint(api, 'sand') && (\n                                                <>\n                                                    <FormattedMessage\n                                                        id={'Apis.Details.Configuration.components.Endpoints.sandbox.'\n                                                        + 'not.set'}\n                                                        defaultMessage='-'\n                                                    />\n                                                </>\n                                            )}\n                                        </Typography>\n                                    </Box>\n                                )}\n                            </>\n                        )}\n                    <Box width='100%' textAlign='right' m={1}>\n                        <Link to={'/apis/' + api.id + '/endpoints'}>\n                            <Typography style={{ marginLeft: '10px' }} color='primary' variant='caption'>\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.Configuration.Endpoints.edit.api.endpoints'\n                                    defaultMessage='Edit API Endpoints'\n                                />\n                                <LaunchIcon style={{ marginLeft: '2px' }} fontSize='small' />\n                            </Typography>\n                        </Link>\n                    </Box>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </>\n    );\n}\n\nEndpoints.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n};\n\nexport default withAPI(Endpoints);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n// Check this file for more info  <CARBON_APIMGT>/components/apimgt/org.wso2.carbon.apimgt.impl\n// /src/main/java/org/wso2/carbon/apimgt/impl/APIConstants.java\n\nconst DEFAULT_API_SECURITY_OAUTH2 = 'oauth2';\nconst API_SECURITY_BASIC_AUTH = 'basic_auth';\nconst API_SECURITY_API_KEY = 'api_key';\nconst API_SECURITY_MUTUAL_SSL = 'mutualssl';\nconst API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY = 'oauth_basic_auth_api_key_mandatory';\nconst API_SECURITY_MUTUAL_SSL_MANDATORY = 'mutualssl_mandatory';\n\nexport {\n    DEFAULT_API_SECURITY_OAUTH2,\n    API_SECURITY_BASIC_AUTH,\n    API_SECURITY_API_KEY,\n    API_SECURITY_MUTUAL_SSL,\n    API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY,\n    API_SECURITY_MUTUAL_SSL_MANDATORY,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport { FormattedMessage } from 'react-intl';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function AuthorizationHeader(props) {\n    const { api, configDispatcher } = props;\n    const [apiFromContext] = useAPI();\n    let hasResourceWithSecurity;\n    if (apiFromContext.apiType === 'APIProduct') {\n        const apiList = apiFromContext.apis;\n        for (const apiInProduct in apiList) {\n            if (Object.prototype.hasOwnProperty.call(apiList, apiInProduct)) {\n                hasResourceWithSecurity = apiList[apiInProduct].operations.findIndex(\n                    (op) => op.authType !== 'None',\n                ) > -1;\n                if (hasResourceWithSecurity) {\n                    break;\n                }\n            }\n        }\n    } else {\n        hasResourceWithSecurity = apiFromContext.operations.findIndex((op) => op.authType !== 'None') > -1;\n    }\n    if (!hasResourceWithSecurity && api.authorizationHeader !== '') {\n        configDispatcher({ action: 'authorizationHeader', value: '' });\n    }\n\n    return (\n        <Grid container spacing={1} alignItems='center'>\n            <Grid item xs={11}>\n                <TextField\n                    disabled={isRestricted(['apim:api_create'], apiFromContext) || !hasResourceWithSecurity}\n                    id='outlined-name'\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.Configuration.auth.header.label'\n                            defaultMessage='Authorization Header'\n                        />\n                    )}\n                    value={hasResourceWithSecurity ? (api.authorizationHeader || ' ') : ''}\n                    margin='normal'\n                    variant='outlined'\n                    onChange={({ target: { value } }) => configDispatcher({ action: 'authorizationHeader', value })}\n                    style={{ display: 'flex' }}\n                />\n            </Grid>\n            <Grid item xs={1}>\n                <Tooltip\n                    title={(\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.Configuration.AuthHeader.tooltip'\n                            defaultMessage={\n                                ' The header name that is used to send the authorization '\n                                + 'information. \"Authorization\" is the default header.'\n                            }\n                        />\n                    )}\n                    aria-label='Auth Header'\n                    placement='right-end'\n                    interactive\n                >\n                    <HelpOutline />\n                </Tooltip>\n            </Grid>\n        </Grid>\n    );\n}\n\nAuthorizationHeader.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { FormattedMessage } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport API from 'AppData/api';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\n\nconst useStyles = makeStyles((theme) => ({\n    expansionPanel: {\n        marginBottom: theme.spacing(3),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n    iconSpace: {\n        marginLeft: theme.spacing(0.5),\n    },\n    actionSpace: {\n        margin: '-7px auto',\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 1.5,\n    },\n    keyManagerSelect: {\n        minWidth: 180,\n    },\n}));\n\n/**\n *\n * KeyManager configuration\n * @param {*} props\n * @returns\n */\nexport default function KeyManager(props) {\n    const [keyManagersConfigured, setKeyManagersConfigured] = useState([]);\n    const {\n        configDispatcher,\n        api: { keyManagers, securityScheme },\n    } = props;\n    const classes = useStyles();\n    const handleChange = (event) => {\n        const newKeyManagers = [...keyManagers];\n        const { target: { checked, name } } = event;\n        if (newKeyManagers.indexOf(name) === -1 && checked) {\n            newKeyManagers.push(name);\n        } else if (newKeyManagers.indexOf(name) !== -1 && !checked) {\n            newKeyManagers.splice(newKeyManagers.indexOf(name), 1);\n        }\n        configDispatcher({\n            action: 'keymanagers',\n            value: newKeyManagers,\n        });\n    };\n    useEffect(() => {\n        API.keyManagers().then((response) => setKeyManagersConfigured(response.body.list));\n    }, []);\n    if (!securityScheme.includes('oauth2')) {\n        return (\n            <>\n                <Typography className={classes.subHeading} variant='subtitle2'>\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.components.KeyManager.configuration'\n                        defaultMessage='Key Manager Configuration'\n                    />\n                </Typography>\n                <Box ml={1} mb={2}>\n                    <Typography variant='caption'>\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.oauth.disabled'\n                            defaultMessage='Key Manager configuration only valid when OAuth2 security is enabled.'\n                        />\n                    </Typography>\n                </Box>\n            </>\n        );\n    }\n    return (\n        <>\n            <Typography className={classes.subHeading} variant='subtitle2'>\n                <FormattedMessage\n                    id='Apis.Details.Configuration.components.KeyManager.configuration'\n                    defaultMessage='Key Manager Configuration'\n                />\n            </Typography>\n            <Box ml={1}>\n                <RadioGroup\n                    value={keyManagers.includes('all') ? 'all' : 'selected'}\n                    onChange={({ target: { value } }) => configDispatcher({\n                        action: 'allKeyManagersEnabled',\n                        value: value === 'all',\n                    })}\n                    style={{ flexDirection: 'row' }}\n                >\n                    <FormControlLabel\n                        value='all'\n                        control={<Radio />}\n                        label={(\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.components.KeyManager.allow.all'\n                                defaultMessage='Allow all'\n                            />\n                        )}\n                    />\n                    <FormControlLabel\n                        value='selected'\n                        control={<Radio />}\n                        label={(\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.components.KeyManager.allow.selected'\n                                defaultMessage='Allow selected'\n                            />\n                        )}\n                    />\n                </RadioGroup>\n                {!keyManagers.includes('all') && (\n                    <Box display='flex' flexDirection='column' m={2}>\n                        <FormControl\n                            required\n                            error={!keyManagers || (keyManagers && keyManagers.length === 0)}\n                            component='fieldset'\n                            className={classes.formControl}\n                        >\n                            <FormLabel component='legend'>\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.components.KeyManager.more.than.one.info'\n                                    defaultMessage='Select one or more Key Managers'\n                                />\n                            </FormLabel>\n                            <FormGroup\n                                style={{ flexDirection: 'row' }}\n\n                            >\n                                {keyManagersConfigured.map((key) => (\n                                    <FormControlLabel\n                                        control={(\n                                            <Checkbox\n                                                color='primary'\n                                                checked={keyManagers.includes(key.name)}\n                                                disabled={!key.enabled}\n                                                onChange={handleChange}\n                                                name={key.name}\n                                            />\n                                        )}\n                                        label={key.displayName || key.name}\n                                    />\n                                ))}\n                            </FormGroup>\n                            <FormHelperText>\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.components.KeyManager.more.than.one.error'\n                                    defaultMessage='Select at least one Key Manager'\n                                />\n                            </FormHelperText>\n\n                        </FormControl>\n                    </Box>\n                )}\n            </Box>\n        </>\n    );\n}\n\nKeyManager.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AuthorizationHeader from 'AppComponents/Apis/Details/Configuration/components/AuthorizationHeader.jsx';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { FormattedMessage } from 'react-intl';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport KeyManager from 'AppComponents/Apis/Details/Configuration/components/KeyManager';\nimport API from 'AppData/api';\n\nimport {\n    DEFAULT_API_SECURITY_OAUTH2,\n    API_SECURITY_BASIC_AUTH,\n    API_SECURITY_API_KEY,\n    API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY,\n    API_SECURITY_MUTUAL_SSL,\n} from './apiSecurityConstants';\n\nconst useStyles = makeStyles((theme) => ({\n    expansionPanel: {\n        marginBottom: theme.spacing(1),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n    iconSpace: {\n        marginLeft: theme.spacing(0.5),\n    },\n    bottomSpace: {\n        marginBottom: theme.spacing(4),\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 1.5,\n    },\n}));\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function ApplicationLevel(props) {\n    const {\n        haveMultiLevelSecurity, securityScheme, configDispatcher, api,\n    } = props;\n    const [apiFromContext] = useAPI();\n    const classes = useStyles();\n    let mandatoryValue = null;\n    let hasResourceWithSecurity;\n    if (apiFromContext.apiType === 'APIProduct') {\n        const apiList = apiFromContext.apis;\n        for (const apiInProduct in apiList) {\n            if (Object.prototype.hasOwnProperty.call(apiList, apiInProduct)) {\n                hasResourceWithSecurity = apiList[apiInProduct].operations.findIndex(\n                    (op) => op.authType !== 'None',\n                ) > -1;\n                if (hasResourceWithSecurity) {\n                    break;\n                }\n            }\n        }\n    } else {\n        hasResourceWithSecurity = apiFromContext.operations.findIndex((op) => op.authType !== 'None') > -1;\n    }\n    if (hasResourceWithSecurity) {\n        mandatoryValue = 'optional';\n        // If not Oauth2, Basic auth or ApiKey security is selected, no mandatory values should be pre-selected\n        if (!(securityScheme.includes(DEFAULT_API_SECURITY_OAUTH2) || securityScheme.includes(API_SECURITY_BASIC_AUTH)\n            || securityScheme.includes(API_SECURITY_API_KEY))) {\n            mandatoryValue = null;\n        } else if (!securityScheme.includes(API_SECURITY_MUTUAL_SSL)) {\n            mandatoryValue = API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY;\n        } else if (securityScheme.includes(API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY)) {\n            mandatoryValue = API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY;\n        }\n    } else if (securityScheme.length > 0) {\n        configDispatcher({\n            action: 'securityScheme',\n            event: { checked: false, value: DEFAULT_API_SECURITY_OAUTH2 },\n        });\n    }\n    return (\n        <>\n            <Grid item xs={12}>\n                <ExpansionPanel className={classes.expansionPanel}>\n                    <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                        <Typography className={classes.subHeading} variant='h6'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Components.APISecurity.Components.\n                                    ApplicationLevel.http'\n                                defaultMessage='Application Level Security'\n                            />\n                            <Tooltip\n                                title={(\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.APISecurity.tooltip'\n                                        defaultMessage={\n                                            'This option determines the type of security'\n                                            + ' that will be used to secure this API. An API can be secured '\n                                            + 'with either OAuth2/Basic/ApiKey or it can be secured with all of them. '\n                                            + 'If OAuth2 option is selected, relevant API will require a valid '\n                                            + 'OAuth2 token for successful invocation.'\n                                        }\n                                    />\n                                )}\n                                aria-label='APISecurity'\n                                placement='right-end'\n                                interactive\n                            >\n                                <HelpOutline className={classes.iconSpace} />\n                            </Tooltip>\n                        </Typography>\n                    </ExpansionPanelSummary>\n                    <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                        <FormGroup style={{ display: 'flow-root' }}>\n                            <FormControlLabel\n                                control={(\n                                    <Checkbox\n                                        disabled={isRestricted(['apim:api_create'], apiFromContext)\n                                        || !hasResourceWithSecurity}\n                                        checked={securityScheme.includes(DEFAULT_API_SECURITY_OAUTH2)}\n                                        onChange={({ target: { checked, value } }) => configDispatcher({\n                                            action: 'securityScheme',\n                                            event: { checked, value },\n                                        })}\n                                        value={DEFAULT_API_SECURITY_OAUTH2}\n                                        color='primary'\n                                    />\n                                )}\n                                label='OAuth2'\n                            />\n                            <FormControlLabel\n                                control={(\n                                    <Checkbox\n                                        disabled={isRestricted(['apim:api_create'], apiFromContext)\n                                        || !hasResourceWithSecurity}\n                                        checked={securityScheme.includes(API_SECURITY_BASIC_AUTH)}\n                                        onChange={({ target: { checked, value } }) => configDispatcher({\n                                            action: 'securityScheme',\n                                            event: { checked, value },\n                                        })}\n                                        value={API_SECURITY_BASIC_AUTH}\n                                        color='primary'\n                                    />\n                                )}\n                                label='Basic'\n                            />\n                            <FormControlLabel\n                                control={(\n                                    <Checkbox\n                                        checked={securityScheme.includes(API_SECURITY_API_KEY)}\n                                        disabled={isRestricted(['apim:api_create'], apiFromContext)\n                                        || !hasResourceWithSecurity}\n                                        onChange={({ target: { checked, value } }) => configDispatcher({\n                                            action: 'securityScheme',\n                                            event: { checked, value },\n                                        })}\n                                        value={API_SECURITY_API_KEY}\n                                        color='primary'\n                                    />\n                                )}\n                                label='Api Key'\n                            />\n                        </FormGroup>\n                        <FormControl className={classes.bottomSpace} component='fieldset'>\n                            <RadioGroup\n                                aria-label='HTTP security HTTP mandatory selection'\n                                name={API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY}\n                                value={mandatoryValue}\n                                onChange={({ target: { name, value } }) => configDispatcher({\n                                    action: 'securityScheme',\n                                    event: { name, value },\n                                })}\n                                row\n                            >\n                                <FormControlLabel\n                                    value={API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY}\n                                    control={(\n                                        <Radio\n                                            disabled={!haveMultiLevelSecurity\n                                                || isRestricted(['apim:api_create'], apiFromContext)}\n                                            color='primary'\n                                        />\n                                    )}\n                                    label='Mandatory'\n                                    labelPlacement='end'\n                                />\n                                <FormControlLabel\n                                    value='optional'\n                                    control={(\n                                        <Radio\n                                            disabled={!haveMultiLevelSecurity\n                                                || isRestricted(['apim:api_create'], apiFromContext)}\n                                            color='primary'\n                                        />\n                                    )}\n                                    label='Optional'\n                                    labelPlacement='end'\n                                />\n                            </RadioGroup>\n                            <FormHelperText>\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.components.APISecurity.application.mandatory'\n                                    defaultMessage='Choose whether Application level security is mandatory or optional'\n                                />\n                            </FormHelperText>\n                        </FormControl>\n                        {(apiFromContext.apiType === API.CONSTS.API) && (\n                            <KeyManager\n                                api={api}\n                                configDispatcher={configDispatcher}\n                            />\n                        )}\n                        <AuthorizationHeader api={api} configDispatcher={configDispatcher} />\n                        <FormControl>\n                            {!hasResourceWithSecurity\n                            && (\n                                <FormHelperText>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.APISecurity.api.unsecured'\n                                        defaultMessage='Application level security is not required since API\n                                        has no secured resources'\n                                    />\n                                </FormHelperText>\n                            )}\n                        </FormControl>\n                    </ExpansionPanelDetails>\n                </ExpansionPanel>\n            </Grid>\n        </>\n    );\n}\n\nApplicationLevel.propTypes = {\n    configDispatcher: PropTypes.func.isRequired,\n    haveMultiLevelSecurity: PropTypes.bool.isRequired,\n    securityScheme: PropTypes.arrayOf(PropTypes.string).isRequired,\n    api: PropTypes.shape({}).isRequired,\n};\n","/*\n *  Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n *  WSO2 Inc. licenses this file to you under the Apache License,\n *  Version 2.0 (the \"License\"); you may not use this file except\n *  in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing,\n *  software distributed under the License is distributed on an\n *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n *  KIND, either express or implied. See the License for the\n *  specific language governing permissions and limitations\n *  under the License.\n */\n\nimport React from 'react';\nimport { MenuItem, TextField } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\n\nexport default function SelectEndpoint(props) {\n    const {\n        onChange,\n        endpoint,\n        isEndpointEmpty,\n        endpoints,\n    } = props;\n    const iff = (condition, then, otherwise) => (condition ? then : otherwise);\n    return (\n        <TextField\n            autoFocus\n            error={isEndpointEmpty || endpoints.length === 0}\n            helperText={endpoints.length === 0 ? (\n                <FormattedMessage\n                    id='Apis.Details.Endpoints.GeneralConfiguration.UploadCertificate.endpoint.empty.error'\n                    defaultMessage='Save endpoints before adding the Certificate'\n                />\n            ) : iff(isEndpointEmpty, <FormattedMessage\n                id='Apis.Details.Endpoints.GeneralConfiguration.UploadCertificate.endpoint.error'\n                defaultMessage='Endpoint should not be empty'\n            />, <FormattedMessage\n                id='Apis.Details.Endpoints.GeneralConfiguration.UploadCertificate.endpoint.helpertext'\n                defaultMessage='Endpoint for the Certificate'\n            />)}\n            required\n            id='certificateEndpoint'\n            label={(\n                <FormattedMessage\n                    id='Apis.Details.Endpoints.GeneralConfiguration.UploadCertificate.endpoint'\n                    defaultMessage='Endpoint'\n                />\n            )}\n            value={endpoint}\n            placeholder='Endpoint'\n            onChange={(event) => onChange(event.target.value)}\n            margin='normal'\n            variant='outlined'\n            fullWidth\n            select\n        >\n            {endpoints !== null && endpoints.map((ep) => {\n                if (ep) {\n                    return (<MenuItem value={ep.url}>{ep.url}</MenuItem>);\n                }\n                return null;\n            })}\n        </TextField>\n    );\n}\n\nSelectEndpoint.propTypes = {\n    endpoints: PropTypes.shape({}).isRequired,\n    onChange: PropTypes.func.isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    endpoint: PropTypes.string.isRequired,\n    isEndpointEmpty: PropTypes.string.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Grid,\n    Icon,\n    TextField,\n    Typography,\n} from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport Dropzone from 'react-dropzone';\nimport Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\nimport APIValidation from 'AppData/APIValidation';\nimport SelectEndpoint from 'AppComponents/Apis/Details/Endpoints/GeneralConfiguration/SelectEndpoint';\nimport SelectPolicies from '../../../Create/Components/SelectPolicies';\n\nconst dropzoneStyles = {\n    border: '1px dashed #c4c4c4',\n    borderRadius: '5px',\n    cursor: 'pointer',\n    height: 75,\n    padding: '8px 0px',\n    position: 'relative',\n    textAlign: 'center',\n    width: '100%',\n    margin: '10px 0',\n};\n\nconst useStyles = makeStyles((theme) => ({\n    fileinput: {\n        display: 'none',\n    },\n    dropZoneWrapper: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        '& span.material-icons': {\n            color: theme.palette.primary.main,\n        },\n    },\n    uploadedFile: {\n        fontSize: 11,\n    },\n    certificatesHeader: {\n        fontWeight: 600,\n        marginTop: 20,\n    },\n    addCertificateBtn: {\n        borderColor: '#c4c4c4',\n        borderRadius: '8px',\n        borderStyle: 'dashed',\n        borderWidth: 'thin',\n    },\n    certificateList: {\n        maxHeight: '250px',\n        overflow: 'scroll',\n    },\n    certDetailsHeader: {\n        fontWeight: '600',\n    },\n    uploadCertDialogHeader: {\n        fontWeight: '600',\n    },\n}));\n\n/**\n * This component is used to upload the certificates\n * @param {any} props The input props.\n * @returns {any} The HTML representation of the Certificates.\n */\nexport default function UploadCertificate(props) {\n    const {\n        endpoints,\n        uploadCertificate,\n        isMutualSSLEnabled,\n        uploadCertificateOpen,\n        setUploadCertificateOpen,\n        aliasList,\n    } = props;\n    const [alias, setAlias] = useState('');\n    const [policy, setPolicy] = useState('');\n    const [endpoint, setEndpoint] = useState('');\n    const [isSaving, setSaving] = useState(false);\n    const [certificate, setCertificate] = useState({ name: '', content: {} });\n    const [isEndpointEmpty, setIsEndpointEmpty] = useState(false);\n    const [isPoliciesEmpty, setPoliciesEmpty] = useState(false);\n    const [aliasValidity, setAliasValidity] = useState();\n    const classes = useStyles();\n    const [isRejected, setIsRejected] = useState(false);\n\n    const closeCertificateUpload = () => {\n        setUploadCertificateOpen(false);\n        setAliasValidity();\n        setCertificate({ name: '', content: '' });\n        setAlias('');\n        setEndpoint('');\n        setPolicy('');\n    };\n\n    /**\n     * On change functionality to handle the policy dropdown\n     *\n     * @param {*} event\n     */\n    function handleOnChange(event) {\n        const { value } = event.target;\n        setPolicy(value);\n    }\n\n    /**\n     * Method to validate the policies.\n     * @param {string} value selected policy.\n     * */\n    const onValidate = (value) => {\n        setPoliciesEmpty(value === '');\n    };\n\n    /**\n     * Method to upload the certificate content by calling the rest api.\n     * */\n    const saveCertificate = () => {\n        setSaving(true);\n        if (isMutualSSLEnabled) {\n            uploadCertificate(certificate.content, policy, alias)\n                .then(closeCertificateUpload)\n                .finally(() => setSaving(false));\n        } else {\n            uploadCertificate(certificate.content, endpoint, alias)\n                .then(closeCertificateUpload)\n                .finally(() => setSaving(false));\n        }\n    };\n\n    /**\n     * Handled the file upload action of the dropzone.\n     *\n     * @param {array} file The accepted file list by the dropzone.\n     * */\n    const onDrop = (file) => {\n        const certificateFile = file[0];\n        const rejectedFiles = ['pem', 'txt', 'jks', 'key', 'ca-bundle'];\n        const extension = certificateFile.name.split('.');\n        if (rejectedFiles.includes(extension[1])) {\n            setIsRejected(true);\n        } else {\n            setIsRejected(false);\n        }\n        if (certificateFile) {\n            setCertificate({ name: certificateFile.name, content: certificateFile });\n        }\n    };\n\n    const handleEndpointOnChange = (value) => {\n        setEndpoint(value);\n        if (value) {\n            setIsEndpointEmpty(false);\n        } else {\n            setIsEndpointEmpty(true);\n        }\n    };\n\n    const handleAliasOnBlur = () => {\n        const aliasValidation = APIValidation.alias.required().validate(alias).error;\n        if (aliasValidation) {\n            setAliasValidity({ isValid: false, message: aliasValidation.details[0].message });\n        } else {\n            setAliasValidity({ isValid: true, message: '' });\n        }\n    };\n\n    const getHelperText = () => {\n        if (aliasValidity && !aliasValidity.isValid) {\n            return (aliasValidity.message);\n        } else if (aliasList && aliasList.includes(alias)) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Endpoints.GeneralConfiguration.UploadCertificate.alias.exist.error'\n                    defaultMessage='Alias already exists'\n                />\n            );\n        } else {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Endpoints.GeneralConfiguration.UploadCertificate.alias.default.message'\n                    defaultMessage='Alias for the Certificate'\n                />\n            );\n        }\n    };\n\n    const iff = (condition, then, otherwise) => (condition ? then : otherwise);\n    return (\n        <Dialog open={uploadCertificateOpen}>\n            <DialogTitle>\n                <Typography className={classes.uploadCertDialogHeader}>\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.GeneralConfiguration.UploadCertificate.uploadCertificate'\n                        defaultMessage='Upload Certificate'\n                    />\n                </Typography>\n            </DialogTitle>\n            <DialogContent>\n                <Grid>\n                    <div>\n                        {isMutualSSLEnabled ? (\n                            <SelectPolicies\n                                multiple={false}\n                                policies={policy}\n                                helperText='Select a throttling policy for the certificate'\n                                onChange={handleOnChange}\n                                required\n                                validate={onValidate}\n                            />\n                        )\n                            : (\n                                <SelectEndpoint\n                                    endpoints={endpoints}\n                                    onChange={handleEndpointOnChange}\n                                    endpoint={endpoint}\n                                    isEndpointEmpty={isEndpointEmpty}\n                                    required\n                                />\n                            )}\n                        <TextField\n                            required\n                            id='certificateAlias'\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.Endpoints.GeneralConfiguration.UploadCertificate.alias'\n                                    defaultMessage='Alias'\n                                />\n                            )}\n                            value={alias}\n                            placeholder='My Alias'\n                            onChange={(event) => setAlias(event.target.value)}\n                            onBlur={() => handleAliasOnBlur()}\n                            margin='normal'\n                            variant='outlined'\n                            error={\n                                (aliasValidity && !aliasValidity.isValid) || (aliasList && aliasList.includes(alias))\n                            }\n                            helperText={getHelperText()}\n                            fullWidth\n                            inputProps={{ maxLength: 45 }}\n                        />\n                        <Dropzone\n                            multiple={false}\n                            accept={\n                                'application/pkcs8,'\n                                    + 'application/pkcs10, application/pkix-crl,'\n                                    + 'application/pkcs7-mime,'\n                                    + 'application/x-x509-ca-cert,'\n                                    + 'application/x-x509-user-cert,'\n                                    + 'application/x-pkcs7-crl,'\n                                    + 'application/x-pkcs12,'\n                                    + 'application/x-pkcs7-certificates,'\n                                    + 'application/x-pkcs7-certreqresp,'\n                                    + '.p8, .p10, .cer, .cert, .p7c, .crt, .der, .p12, .pfx, .p7b, .spc, .p7r'\n                            }\n                            className={classes.dropzone}\n                            activeClassName={classes.acceptDrop}\n                            rejectClassName={classes.rejectDrop}\n                            onDrop={(dropFile) => {\n                                onDrop(dropFile);\n                            }}\n                        >\n                            {({ getRootProps, getInputProps }) => (\n                                <div {...getRootProps({ style: dropzoneStyles })}>\n                                    <input {...getInputProps()} />\n                                    <div className={classes.dropZoneWrapper}>\n                                        {certificate.name === '' ? (\n                                            <div>\n                                                <Icon style={{ fontSize: 56 }}>cloud_upload</Icon>\n                                                <Typography>\n                                                    <FormattedMessage\n                                                        id={\n                                                            'Apis.Details.Endpoints.GeneralConfiguration'\n                                                                + '.UploadCertificate.click.or.drop.to.upload.file'\n                                                        }\n                                                        defaultMessage={\n                                                            'Click or drag the certificate'\n                                                                + ' file to upload.'\n                                                        }\n                                                    />\n                                                </Typography>\n                                            </div>\n                                        ) : iff(\n                                            isRejected,\n                                            <div classNames={classes.uploadedFile}>\n                                                <InsertDriveFileIcon color='error' fontSize='large' />\n                                                <Box fontSize='h6.fontSize' color='error' fontWeight='fontWeightLight'>\n                                                    <Grid xs={12}>\n                                                        {certificate.name}\n                                                    </Grid>\n                                                    <Grid xs={12}>\n                                                        <Typography variant='caption' color='error'>\n                                                            <FormattedMessage\n                                                                id={\n                                                                    'Apis.Details.Endpoints.GeneralConfiguration'\n                                                            + '.UploadCertificate.invalid.file'\n                                                                }\n                                                                defaultMessage='Invalid file type'\n                                                            />\n                                                        </Typography>\n                                                    </Grid>\n                                                </Box>\n                                            </div>,\n                                            <div className={classes.uploadedFile}>\n                                                <InsertDriveFileIcon color='primary' fontSize='large' />\n                                                <Box fontSize='h6.fontSize' fontWeight='fontWeightLight'>\n                                                    <Typography>\n                                                        {certificate.name}\n                                                    </Typography>\n                                                </Box>\n                                            </div>,\n                                        )}\n                                    </div>\n                                </div>\n                            )}\n                        </Dropzone>\n                    </div>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={closeCertificateUpload}>\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.GeneralConfiguration.UploadCertificate.cancel.button'\n                        defaultMessage='Close'\n                    />\n                </Button>\n                <Button\n                    onClick={saveCertificate}\n                    variant='contained'\n                    color='primary'\n                    autoFocus\n                    disabled={\n                        alias === '' || (aliasValidity && !aliasValidity.isValid)\n                            || (!isMutualSSLEnabled && endpoint === '')\n                            || certificate.name === ''\n                            || (isMutualSSLEnabled && isPoliciesEmpty)\n                            || isSaving || (aliasList && aliasList.includes(alias)) || isRejected\n                    }\n                >\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.GeneralConfiguration.UploadCertificate.config.save.button'\n                        defaultMessage='Save'\n                    />\n                    {isSaving && <CircularProgress size={24} />}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nUploadCertificate.defaultProps = {\n    isMutualSSLEnabled: false,\n    endpoints: [],\n};\n\nUploadCertificate.propTypes = {\n    certificates: PropTypes.shape({}).isRequired,\n    uploadCertificate: PropTypes.func.isRequired,\n    isMutualSSLEnabled: PropTypes.bool,\n    setUploadCertificateOpen: PropTypes.func.isRequired,\n    uploadCertificateOpen: PropTypes.bool.isRequired,\n    endpoints: PropTypes.shape([]),\n    aliasList: PropTypes.shape([]).isRequired,\n};\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Grid,\n    Icon,\n    IconButton,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemSecondaryAction,\n    ListItemText,\n    Typography,\n} from '@material-ui/core';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport UploadCertificate from 'AppComponents/Apis/Details/Endpoints/GeneralConfiguration/UploadCertificate';\nimport API from '../../../../../data/api';\n\nconst useStyles = makeStyles((theme) => ({\n    fileinput: {\n        display: 'none',\n    },\n    dropZoneWrapper: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        '& span.material-icons': {\n            color: theme.palette.primary.main,\n        },\n    },\n    uploadedFile: {\n        fontSize: 11,\n    },\n    certificatesHeader: {\n        fontWeight: 600,\n        marginTop: theme.spacing(1),\n    },\n    addCertificateBtn: {\n        borderColor: '#c4c4c4',\n        borderRadius: '8px',\n        borderStyle: 'dashed',\n        borderWidth: 'thin',\n    },\n    certificateList: {\n        maxHeight: '250px',\n        overflow: 'auto',\n    },\n    certDetailsHeader: {\n        fontWeight: '600',\n    },\n    uploadCertDialogHeader: {\n        fontWeight: '600',\n    },\n    alertWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    warningIcon: {\n        marginRight: 13,\n        color: theme.custom.warningColor,\n        '& .material-icons': {\n            fontSize: 30,\n        },\n    },\n    deleteIcon: {\n        color: theme.palette.error.dark,\n        cursor: 'pointer',\n    },\n    deleteIconDisable: {\n        color: theme.palette.disabled,\n    },\n}));\n/**\n * TODO: Generalize this component to work in Configuration page , upload mutual SSL certificates action\n * in source/src/app/components/Apis/Details/Configuration/components/APISecurity/components/TransportLevel.jsx ~tmkb\n * The base component for advanced endpoint configurations.\n * @param {any} props The input props.\n * @returns {any} The HTML representation of the Certificates.\n */\nfunction Certificates(props) {\n    const {\n        certificates, uploadCertificate, deleteCertificate, isMutualSSLEnabled, apiId, endpoints, aliasList,\n    } = props;\n    const [certificateList, setCertificateList] = useState([]);\n    const [openCertificateDetails, setOpenCertificateDetails] = useState({ open: false, anchor: null, details: {} });\n    const [certificateToDelete, setCertificateToDelete] = useState({ open: false, alias: '' });\n    const [isDeleting, setDeleting] = useState(false);\n    const [uploadCertificateOpen, setUploadCertificateOpen] = useState(false);\n    const classes = useStyles();\n    const [apiFromContext] = useAPI();\n\n\n    /**\n     * Show the selected certificate details in a popover.\n     *\n     * @param {any} event The button click event.\n     * @param {string} certAlias  The alias of the certificate which information is required.\n     * */\n    const showCertificateDetails = (event, certAlias) => {\n        if (!isMutualSSLEnabled) {\n            API.getCertificateStatus(certAlias)\n                .then((response) => {\n                    setOpenCertificateDetails({\n                        details: response.body,\n                        open: true,\n                        alias: certAlias,\n                        anchor: event.currentTarget,\n                    });\n                })\n                .catch((err) => {\n                    console.error(err);\n                });\n        } else {\n            API.getClientCertificateStatus(certAlias, apiId)\n                .then((response) => {\n                    setOpenCertificateDetails({\n                        details: response.body,\n                        open: true,\n                        alias: certAlias,\n                        anchor: event.currentTarget,\n                    });\n                })\n                .catch((error) => {\n                    console.error(error);\n                });\n        }\n    };\n\n    /**\n     * Delete certificate represented by the alias.\n     *\n     * @param {string} certificateAlias The alias of the certificate that is needed to be deleted.\n     * */\n    const deleteCertificateByAlias = (certificateAlias) => {\n        setDeleting(true);\n        deleteCertificate(certificateAlias)\n            .then(() => setCertificateToDelete({ open: false, alias: '' }))\n            .finally(() => setDeleting(false));\n    };\n\n    useEffect(() => {\n        setCertificateList(certificates);\n    }, [certificates]);\n\n    return (\n        <Grid container direction='column'>\n            {/* TODO: Add list of existing certificates */}\n            <Grid>\n                <Typography className={classes.certificatesHeader}>\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificates'\n                        defaultMessage='Certificates'\n                    />\n                </Typography>\n            </Grid>\n            <Grid item>\n                <List>\n                    <ListItem\n                        button\n                        disabled={(isRestricted(['apim:api_create'], apiFromContext))}\n                        className={classes.addCertificateBtn}\n                        onClick={() => setUploadCertificateOpen(true)}\n                    >\n                        <ListItemAvatar>\n                            <IconButton>\n                                <Icon>add</Icon>\n                            </IconButton>\n                        </ListItemAvatar>\n                        <ListItemText primary='Add Certificate' />\n                    </ListItem>\n                </List>\n                <List className={classes.certificateList}>\n                    {certificateList.length > 0 ? (\n                        certificateList.map((cert) => {\n                            return (\n                                <ListItem>\n                                    <ListItemAvatar>\n                                        <Icon>lock</Icon>\n                                    </ListItemAvatar>\n                                    {isMutualSSLEnabled\n                                        ? (<ListItemText primary={cert.alias} secondary={cert.tier} />)\n                                        : <ListItemText primary={cert.alias} secondary={cert.endpoint} />}\n\n                                    <ListItemSecondaryAction>\n                                        <IconButton\n                                            edge='end'\n                                            onClick={(event) => showCertificateDetails(event, cert.alias)}\n                                        >\n                                            <Icon>info</Icon>\n                                        </IconButton>\n                                        <IconButton\n                                            disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                            onClick={() => setCertificateToDelete({ open: true, alias: cert.alias })}\n                                        >\n                                            <Icon className={isRestricted(['apim:api_create'], apiFromContext)\n                                                ? classes.deleteIconDisable : classes.deleteIcon}\n                                            >\n                                                {' '}\ndelete\n                                            </Icon>\n                                        </IconButton>\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            );\n                        })\n                    ) : (\n                        <ListItem>\n                            <ListItemAvatar>\n                                <Icon color='primary'>info</Icon>\n                            </ListItemAvatar>\n                            <ListItemText>You do not have any certificates uploaded</ListItemText>\n                        </ListItem>\n                    )}\n                </List>\n            </Grid>\n            <Dialog open={certificateToDelete.open}>\n                <DialogTitle>\n                    <Typography className={classes.uploadCertDialogHeader}>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.GeneralConfiguration.Certificates.deleteCertificate'\n                            defaultMessage='Delete Certificate'\n                        />\n                    </Typography>\n                </DialogTitle>\n                <DialogContent className={classes.alertWrapper}>\n                    <Typography>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.GeneralConfiguration.Certificates.confirm.certificate.delete'\n                            defaultMessage='Do you want to delete '\n                        />\n                        {' '}\n                        { certificateToDelete.alias + '?'}\n                    </Typography>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => deleteCertificateByAlias(certificateToDelete.alias)}\n                        variant='contained'\n                        color='primary'\n                        disabled={isDeleting}\n                        autoFocus\n                    >\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.GeneralConfiguration.Certificates.delete.ok.button'\n                            defaultMessage='OK'\n                        />\n                        {isDeleting && <CircularProgress size={24} />}\n\n                    </Button>\n                    <Button onClick={() => setCertificateToDelete({ open: false, alias: '' })}>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.GeneralConfiguration.Certificates.delete.cancel.button'\n                            defaultMessage='Cancel'\n                        />\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Dialog open={openCertificateDetails.open}>\n                <DialogTitle>\n                    <Typography className={classes.certDetailsHeader}>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.details.of'\n                            defaultMessage='Details of'\n                        />\n                        {' ' + openCertificateDetails.alias}\n                    </Typography>\n                </DialogTitle>\n                <DialogContent>\n                    <Typography>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.GeneralConfiguration.Certificates.status'\n                            defaultMessage='Status'\n                        />\n                        {' : ' + openCertificateDetails.details.status}\n                    </Typography>\n                    <Typography>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.GeneralConfiguration.Certificates.subject'\n                            defaultMessage='Subject'\n                        />\n                        {' : ' + openCertificateDetails.details.subject}\n                    </Typography>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => setOpenCertificateDetails({ open: false, anchor: null, details: {} })}\n                        color='primary'\n                    >\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.GeneralConfiguration.Certificates.details.close.button'\n                            defaultMessage='Close'\n                        />\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <UploadCertificate\n                endpoints={endpoints}\n                certificates={certificates}\n                uploadCertificate={uploadCertificate}\n                isMutualSSLEnabled={isMutualSSLEnabled}\n                setUploadCertificateOpen={setUploadCertificateOpen}\n                uploadCertificateOpen={uploadCertificateOpen}\n                aliasList={aliasList}\n            />\n        </Grid>\n    );\n}\n\nCertificates.defaultProps = {\n    isMutualSSLEnabled: false,\n    apiId: '',\n};\n\nCertificates.propTypes = {\n    classes: PropTypes.shape({\n        fileinput: PropTypes.shape({}),\n        button: PropTypes.shape({}),\n    }).isRequired,\n    certificates: PropTypes.shape({}).isRequired,\n    uploadCertificate: PropTypes.func.isRequired,\n    deleteCertificate: PropTypes.func.isRequired,\n    apiId: PropTypes.string,\n    isMutualSSLEnabled: PropTypes.bool,\n    endpoints: PropTypes.shape([]).isRequired,\n    aliasList: PropTypes.shape([]).isRequired,\n};\nexport default injectIntl((Certificates));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Typography from '@material-ui/core/Typography';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport { FormattedMessage } from 'react-intl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport { API_SECURITY_MUTUAL_SSL } from './APISecurity/components/apiSecurityConstants';\n\nconst useStyles = makeStyles((theme) => ({\n    error: {\n        color: theme.palette.error.main,\n    },\n}));\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function Transports(props) {\n    const { api, configDispatcher, securityScheme } = props;\n    const [apiFromContext] = useAPI();\n    const classes = useStyles();\n    const isMutualSSLEnabled = securityScheme.includes(API_SECURITY_MUTUAL_SSL);\n    const Validate = () => {\n        if (api.transport && api.transport.length === 0) {\n            return (\n                <Typography>\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.components.transport.empty'\n                        defaultMessage='Please select at least one transport!'\n                    />\n                </Typography>\n            );\n        } else if (isMutualSSLEnabled && !api.transport.includes('https')) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Configuration.components.transport.sslHttps'\n                    defaultMessage='Please select Https as transport with mutual SSL!'\n                />\n            );\n        }\n        return null; // No errors :-)\n    };\n    return (\n        <Grid container spacing={1} alignItems='flex-start'>\n            <Grid item>\n                <FormControl component='fieldset'>\n                    <FormLabel component='legend'>\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.Configuration.transports'\n                            defaultMessage='Transports'\n                        />\n                    </FormLabel>\n                    <FormGroup style={{ display: 'flow-root' }}>\n                        <FormControlLabel\n                            control={(\n                                <Checkbox\n                                    disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                    checked={api.transport\n                                        ? api.transport.includes('http') : null}\n                                    onChange={({ target: { checked } }) => configDispatcher({\n                                        action: 'transport',\n                                        event: { checked, value: 'http' },\n                                    })}\n                                    value='http'\n                                    color='primary'\n                                />\n                            )}\n                            label='HTTP'\n                        />\n                        <FormControlLabel\n                            control={(\n                                <Checkbox\n                                    disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                    checked={api.transport\n                                        ? api.transport.includes('https') : null}\n                                    onChange={({ target: { checked } }) => configDispatcher({\n                                        action: 'transport',\n                                        event: { checked, value: 'https' },\n                                    })}\n                                    value='https'\n                                    color='primary'\n                                />\n                            )}\n                            label='HTTPS'\n                        />\n                    </FormGroup>\n                </FormControl>\n            </Grid>\n            <Grid item>\n                <Tooltip\n                    title={(\n                        <FormattedMessage\n                            id='Apis.Details.Configuration.components.Transports.tooltip'\n                            defaultMessage={\n                                'API will be exposed in selected transport(s) in the gateway(s)'\n                                + ' If Mutual SSL option is selected, a trusted client'\n                                + ' certificate should be presented to access the API'\n                            }\n                        />\n                    )}\n                    aria-label='Transports'\n                    placement='right-end'\n                    interactive\n                >\n                    <HelpOutline />\n                </Tooltip>\n            </Grid>\n            <Grid item>\n                <span className={classes.error}>\n                    <Validate />\n                </span>\n            </Grid>\n        </Grid>\n    );\n}\n\n\nTransports.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Certificates from 'AppComponents/Apis/Details/Endpoints/GeneralConfiguration/Certificates';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport API from 'AppData/api';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Transports from 'AppComponents/Apis/Details/Configuration/components/Transports.jsx';\n\nimport {\n    API_SECURITY_MUTUAL_SSL,\n    API_SECURITY_MUTUAL_SSL_MANDATORY,\n    DEFAULT_API_SECURITY_OAUTH2,\n    API_SECURITY_BASIC_AUTH,\n    API_SECURITY_API_KEY,\n} from './apiSecurityConstants';\n\nconst useStyles = makeStyles((theme) => ({\n    expansionPanel: {\n        marginBottom: theme.spacing(1),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n    bottomSpace: {\n        marginBottom: theme.spacing(4),\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 1.5,\n    },\n}));\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nfunction TransportLevel(props) {\n    const {\n        haveMultiLevelSecurity, securityScheme, configDispatcher, intl, id, api,\n    } = props;\n    const isMutualSSLEnabled = securityScheme.includes(API_SECURITY_MUTUAL_SSL);\n    const [apiFromContext] = useAPI();\n    const [clientCertificates, setClientCertificates] = useState([]);\n    const classes = useStyles();\n\n    /**\n     * Method to upload the certificate content by calling the rest api.\n     *\n     * @param {string} certificate The certificate needs to be associated with the API\n     * @param {string} policy The tier to be used for the certificate.\n     * @param {string} alias The alias of the certificate to be deleted.\n     *\n     * */\n    const saveClientCertificate = (certificate, policy, alias) => {\n        return API.addClientCertificate(id, certificate, policy, alias).then((resp) => {\n            if (resp.status === 201) {\n                Alert.info(intl.formatMessage({\n                    id: 'Apis.Details.Configuration.components.APISecurity.TranportLevel.certificate.add.success',\n                    defaultMessage: 'Certificate added successfully',\n                }));\n                const tmpCertificates = [...clientCertificates];\n                tmpCertificates.push({\n                    apiId: resp.obj.apiId,\n                    alias: resp.obj.alias,\n                    tier: resp.obj.tier,\n                });\n                setClientCertificates(tmpCertificates);\n            }\n        }).catch((error) => {\n            if (error.response) {\n                Alert.error(error.response.body.description);\n            } else {\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.Configuration.components.APISecurity.TranportLevel.certificate.alias.error',\n                    defaultMessage: 'Something went wrong while adding the API certificate',\n                }));\n            }\n        });\n    };\n\n    /**\n     * Method to delete the selected certificate.\n     *\n     * @param {string} alias The alias of the certificate to be deleted.\n     * */\n    const deleteClientCertificate = (alias) => {\n        return API.deleteClientCertificate(alias, id).then((resp) => {\n            setClientCertificates(() => {\n                if (resp.status === 200) {\n                    return clientCertificates.filter((cert) => {\n                        return cert.alias !== alias;\n                    });\n                } else {\n                    return -1;\n                }\n            });\n            Alert.info(intl.formatMessage({\n                id: 'Apis.Details.Configuration.components.APISecurity.TranportLevel.certificate.delete.success',\n                defaultMessage: 'Certificate Deleted Successfully',\n            }));\n        }).catch((error) => {\n            if (error.response) {\n                Alert.error(error.response.body.description);\n            } else {\n                Alert.info(intl.formatMessage({\n                    id: 'Apis.Details.Configuration.components.APISecurity.TranportLevel.certificate.delete.error',\n                    defaultMessage: 'Error while deleting certificate',\n                }));\n            }\n        });\n    };\n\n    // Get the client certificates from backend.\n    useEffect(() => {\n        API.getAllClientCertificates(id).then((resp) => {\n            const { certificates } = resp.obj;\n            setClientCertificates(certificates);\n        }).catch((err) => {\n            console.error(err);\n            setClientCertificates([]);\n        });\n    }, []);\n\n    let mandatoryValue = 'optional';\n    // If not mutual ssl security is selected, no mandatory values should be pre-selected\n    if (!isMutualSSLEnabled) {\n        mandatoryValue = 'null';\n    } else if (\n        !(securityScheme.includes(DEFAULT_API_SECURITY_OAUTH2) || securityScheme.includes(API_SECURITY_BASIC_AUTH)\n            || securityScheme.includes(API_SECURITY_API_KEY))\n    ) {\n        mandatoryValue = API_SECURITY_MUTUAL_SSL_MANDATORY;\n    } else if (securityScheme.includes(API_SECURITY_MUTUAL_SSL_MANDATORY)) {\n        mandatoryValue = API_SECURITY_MUTUAL_SSL_MANDATORY;\n    }\n    return (\n        <>\n            <Grid item xs={12}>\n                <ExpansionPanel className={classes.expansionPanel}>\n                    <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                        <Typography className={classes.subHeading} variant='h6'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Components.APISecurity.Components.\n                                    TransportLevel.transport.level.security'\n                                defaultMessage='Transport Level Security'\n                            />\n                        </Typography>\n                    </ExpansionPanelSummary>\n                    <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                        <Transports api={api} configDispatcher={configDispatcher} securityScheme={securityScheme} />\n                        <FormControlLabel\n                            control={(\n                                <Checkbox\n                                    disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                    checked={isMutualSSLEnabled}\n                                    onChange={({ target: { checked, value } }) => configDispatcher({\n                                        action: 'securityScheme',\n                                        event: { checked, value },\n                                    })}\n                                    value={API_SECURITY_MUTUAL_SSL}\n                                    color='primary'\n                                />\n                            )}\n                            label='Mutual SSL'\n                        />\n                        {isMutualSSLEnabled && (\n                            <FormControl component='fieldset'>\n                                <RadioGroup\n                                    aria-label='HTTP security SSL mandatory selection'\n                                    name={API_SECURITY_MUTUAL_SSL_MANDATORY}\n                                    value={mandatoryValue}\n                                    onChange={({ target: { name, value } }) => configDispatcher({\n                                        action: 'securityScheme',\n                                        event: { name, value },\n                                    })}\n                                    row\n                                >\n                                    <FormControlLabel\n                                        value={API_SECURITY_MUTUAL_SSL_MANDATORY}\n                                        control={(\n                                            <Radio\n                                                disabled={!haveMultiLevelSecurity\n                                                || isRestricted(['apim:api_create'], apiFromContext)}\n                                                color='primary'\n                                            />\n                                        )}\n                                        label='Mandatory'\n                                        labelPlacement='end'\n                                    />\n                                    <FormControlLabel\n                                        value='optional'\n                                        control={(\n                                            <Radio\n                                                disabled={!haveMultiLevelSecurity\n                                                || isRestricted(['apim:api_create'], apiFromContext)}\n                                                color='primary'\n                                            />\n                                        )}\n                                        label='Optional'\n                                        labelPlacement='end'\n                                    />\n                                </RadioGroup>\n                                <FormHelperText>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.components.APISecurity.http.mandatory'\n                                        defaultMessage='Choose whether Transport level security is mandatory or\n                                        optional'\n                                    />\n                                </FormHelperText>\n                            </FormControl>\n                        )}\n                        {isMutualSSLEnabled && (\n                            // TODO:\n                            // This is half baked!!!\n                            // Refactor the Certificate component to share its capabilities in here and\n                            // endpoints page ~tmkb\n                            <Certificates\n                                isMutualSSLEnabled={isMutualSSLEnabled}\n                                certificates={clientCertificates}\n                                uploadCertificate={saveClientCertificate}\n                                deleteCertificate={deleteClientCertificate}\n                                apiId={id}\n                            />\n                        )}\n                    </ExpansionPanelDetails>\n                </ExpansionPanel>\n            </Grid>\n        </>\n    );\n}\n\nTransportLevel.propTypes = {\n    configDispatcher: PropTypes.func.isRequired,\n    haveMultiLevelSecurity: PropTypes.bool.isRequired,\n    securityScheme: PropTypes.arrayOf(PropTypes.string).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n    id: PropTypes.string.isRequired,\n    api: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl((TransportLevel));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport { FormattedMessage } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ApiContext, { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\nimport {\n    API_SECURITY_MUTUAL_SSL_MANDATORY,\n    DEFAULT_API_SECURITY_OAUTH2,\n    API_SECURITY_BASIC_AUTH,\n    API_SECURITY_API_KEY,\n    API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY,\n    API_SECURITY_MUTUAL_SSL,\n} from './components/apiSecurityConstants';\nimport ApplicationLevel from './components/ApplicationLevel';\nimport TransportLevel from './components/TransportLevel';\n\n\nconst useStyles = makeStyles((theme) => ({\n    error: {\n        color: theme.palette.error.main,\n    },\n    bottomSpace: {\n        marginBottom: theme.spacing(4),\n    },\n}));\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function APISecurity(props) {\n    const {\n        api: { securityScheme, id },\n        configDispatcher,\n        api,\n    } = props;\n    const apiContext = useContext(ApiContext);\n    const isAPIProduct = apiContext.api.apiType === 'APIProduct';\n    let isEndpointAvailable;\n    let isPrototyped;\n    if (isAPIProduct) {\n        isEndpointAvailable = false;\n        isPrototyped = false;\n    } else {\n        isEndpointAvailable = apiContext.api.endpointConfig !== null;\n        isPrototyped = apiContext.api.endpointConfig !== null\n             && apiContext.api.endpointConfig.implementation_status === 'prototyped';\n    }\n\n\n    const haveMultiLevelSecurity = securityScheme.includes(API_SECURITY_MUTUAL_SSL)\n        && (securityScheme.includes(API_SECURITY_BASIC_AUTH)\n        || securityScheme.includes(\n            DEFAULT_API_SECURITY_OAUTH2,\n        ) || securityScheme.includes(API_SECURITY_API_KEY));\n    const classes = useStyles();\n    const [apiFromContext] = useAPI();\n\n    // Check the validation conditions and return an error message\n    const Validate = () => {\n        let resourcesWithSecurity;\n        if (apiFromContext.apiType === 'APIProduct') {\n            const apiList = apiFromContext.apis;\n            for (const apiInProduct in apiList) {\n                if (Object.prototype.hasOwnProperty.call(apiList, apiInProduct)) {\n                    resourcesWithSecurity = apiList[apiInProduct].operations.findIndex(\n                        (op) => op.authType !== 'None',\n                    ) > -1;\n                    if (resourcesWithSecurity) {\n                        break;\n                    }\n                }\n            }\n        } else {\n            resourcesWithSecurity = apiFromContext.operations.findIndex((op) => op.authType !== 'None') > -1;\n        }\n\n        if (\n            !securityScheme.includes(API_SECURITY_MUTUAL_SSL)\n            && !securityScheme.includes(API_SECURITY_BASIC_AUTH)\n            && !securityScheme.includes(DEFAULT_API_SECURITY_OAUTH2)\n            && !securityScheme.includes(API_SECURITY_API_KEY)\n            && resourcesWithSecurity\n        ) {\n            return (\n                <Typography className={classes.bottomSpace}>\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.components.APISecurity.emptySchemas'\n                        defaultMessage='Please select at least one API security method!'\n                    />\n                </Typography>\n            );\n        } else if (\n            // User has enabled both security levels and set both levels as optional\n            haveMultiLevelSecurity\n            && !(\n                securityScheme.includes(API_SECURITY_MUTUAL_SSL_MANDATORY)\n                || securityScheme.includes(API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY)\n            )\n        ) {\n            return (\n                <Typography className={classes.bottomSpace}>\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.components.APISecurity.allOptional'\n                        defaultMessage=\"Please select at least one API security level as 'Mandatory'!\"\n                    />\n                </Typography>\n            );\n        }\n        return null; // No errors :-)\n    };\n    return (\n        <>\n            <Grid container spacing={2} alignItems='flex-start'>\n                {(isAPIProduct || (!isEndpointAvailable || (isEndpointAvailable && !isPrototyped)))\n                && (\n                    <>\n                        <TransportLevel\n                            haveMultiLevelSecurity={haveMultiLevelSecurity}\n                            securityScheme={securityScheme}\n                            configDispatcher={configDispatcher}\n                            api={api}\n                            id={id}\n                        />\n                        <ApplicationLevel\n                            haveMultiLevelSecurity={haveMultiLevelSecurity}\n                            securityScheme={securityScheme}\n                            api={api}\n                            configDispatcher={configDispatcher}\n                            id={id}\n                        />\n                        <Grid item>\n                            <span className={classes.error}>\n                                <Validate />\n                            </span>\n                        </Grid>\n                    </>\n                )}\n            </Grid>\n        </>\n    );\n}\n\nAPISecurity.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FormattedMessage } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Table from '@material-ui/core/Table';\nimport TextField from '@material-ui/core/TextField';\nimport TableCell from '@material-ui/core/TableCell';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport TableRow from '@material-ui/core/TableRow';\nimport PropTypes from 'prop-types';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableHead from '@material-ui/core/TableHead';\nimport Box from '@material-ui/core/Box';\n\n\nconst useStyles = makeStyles((theme) => ({\n    searchWrapper: {\n        width: '100%',\n        marginBottom: theme.spacing(2),\n    },\n}));\n\n/**\n *\n * @param {any} props The props passed to the layout\n * @returns {any} HTML representation.\n */\nexport default function UpdateComplexity(props) {\n    const classes = useStyles();\n    const [filterKeyWord, setFilter] = useState('');\n    const {\n        setList, typelist, list,\n    } = props;\n\n    /**\n     * Filter the information by Types.\n     */\n\n    const setFilterByKeyWord = (event) => {\n        setFilter(event.target.value.toLowerCase());\n    };\n\n    return (\n        <>\n            <Grid item md={2}>\n                <Box mt={4} pb={2}>\n                    <div className={classes.searchWrapper}>\n                        <TextField\n                            id='outlined-full-width'\n                            label='Type'\n                            placeholder='Search By Types'\n                            onChange={(e) => setFilterByKeyWord(e, typelist)}\n                            fullWidth\n                            variant='outlined'\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                        />\n                    </div>\n                </Box>\n            </Grid>\n            <Grid item md={12}>\n                <Table stickyHeader>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>\n                                <Typography variant='subtitle2'>\n                                    <FormattedMessage\n                                        id='Apis.Details.QueryAnalysis.UpdateComplexity.typeName'\n                                        defaultMessage='Type'\n                                    />\n                                </Typography>\n                            </TableCell>\n                            <TableCell>\n                                <Typography variant='subtitle2'>\n                                    <FormattedMessage\n                                        id='Apis.Details.QueryAnalysis.UpdateComplexity.fieldcomplexity'\n                                        defaultMessage='Fields'\n                                    />\n                                </Typography>\n                            </TableCell>\n                            <TableCell>\n                                <Typography variant='subtitle2'>\n                                    <FormattedMessage\n                                        id='Apis.Details.QueryAnalysis.UpdateComplexity.fieldcomplexitysum'\n                                        defaultMessage='Sum of the Complexity'\n                                    />\n                                </Typography>\n                            </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {typelist.filter(\n                            (item) => item.type.toLowerCase().includes(filterKeyWord),\n                        ).map((typename) => {\n                            return (\n                                <TableRow style={{ borderStyle: 'hidden' }}>\n                                    <TableCell>\n                                        <Typography variant='body1'>\n                                            {typename.type}\n                                        </Typography>\n                                    </TableCell>\n                                    <TableCell>\n                                        <ExpansionPanel>\n                                            <ExpansionPanelSummary\n                                                expandIcon={<ExpandMoreIcon />}\n                                                aria-controls='panel1a-content'\n                                                id='panel1a-header'\n                                            />\n                                            <ExpansionPanelDetails>\n                                                <Grid item md={12}>\n                                                    <Table>\n                                                        <TableRow>\n                                                            <TableCell>\n                                                                <b>Field</b>\n                                                            </TableCell>\n                                                            <TableCell>\n                                                                <b>ComplexityValue</b>\n                                                            </TableCell>\n                                                        </TableRow>\n                                                        {list.map((respond, index) => ((respond.type === typename.type)\n                                                     && (\n                                                         <TableRow>\n                                                             <TableCell>\n                                                                 {respond.field}\n                                                             </TableCell>\n                                                             <TableCell>\n                                                                 <TextField\n                                                                     id='complexityValue'\n                                                                     label='complexityValue'\n                                                                     margin='normal'\n                                                                     variant='outlined'\n                                                                     value={respond.complexityValue}\n                                                                     onChange={(event) => {\n                                                                         const newArr = [...list];\n                                                                         newArr[index] = {\n                                                                             type: respond.type,\n                                                                             field: respond.field,\n                                                                             complexityValue: +event.target.value,\n                                                                         };\n                                                                         setList(newArr);\n                                                                     }}\n                                                                 />\n                                                             </TableCell>\n                                                         </TableRow>\n                                                     )))}\n                                                    </Table>\n                                                </Grid>\n                                            </ExpansionPanelDetails>\n                                        </ExpansionPanel>\n                                    </TableCell>\n                                    <TableCell>\n                                        <Typography variant='body1'>\n                                            {typename.summation}\n                                        </Typography>\n                                    </TableCell>\n                                </TableRow>\n                            );\n                        })}\n                    </TableBody>\n                </Table>\n            </Grid>\n        </>\n    );\n}\n\nUpdateComplexity.propTypes = {\n    setList: PropTypes.func.isRequired,\n    list: PropTypes.arrayOf(\n        PropTypes.shape({\n            type: PropTypes.string,\n            field: PropTypes.string,\n            complexityValue: PropTypes.number,\n        }),\n    ).isRequired,\n    typelist: PropTypes.arrayOf(\n        PropTypes.shape({\n            type: PropTypes.string,\n            summation: PropTypes.number,\n        }),\n    ).isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage } from 'react-intl';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport EditRounded from '@material-ui/icons/EditRounded';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Container from '@material-ui/core/Container';\nimport Api from 'AppData/api';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { Progress } from 'AppComponents/Shared';\nimport UpdateComplexity from '../../QueryAnalysis/UpdateComplexity';\n\nconst useStyles = makeStyles(() => ({\n    content: {\n        flexGrow: 1,\n    },\n    itemWrapper: {\n        width: 'auto',\n        display: 'flex',\n    },\n    FormControl: {\n        padding: 10,\n        width: '100%',\n        marginTop: 0,\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    subTitle: {\n        marginTop: 20,\n    },\n    subTitleDescription: {\n        marginBottom: 10,\n    },\n    flowWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: 10,\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 1.5,\n    },\n    heading: {\n        margin: 'auto',\n        color: 'rgba(0, 0, 0, 0.40)',\n    },\n    paper: {\n        padding: '10px 24px',\n        width: 'auto',\n    },\n    editIcon: {\n        position: 'absolute',\n        top: 8,\n        right: 0,\n    },\n    dialogPaper: {\n        minHeight: '95vh',\n        maxHeight: '95vh',\n        minWidth: '150vh',\n        maxWidth: '150vh',\n    },\n}));\n\n/**\n * The base component of the GraphQL Query Analysis.\n * @param {any} props The props passed to the layout\n * @returns {any} HTML representation.\n */\nexport default function GraphQLQueryAnalysis(props) {\n    const {\n        api,\n        setUpdateComplexityList,\n    } = props;\n    const [open, setOpen] = useState(false);\n    const classes = useStyles();\n    const [list, setList] = useState(null);\n    const [typelist, setTypeList] = useState([]);\n\n    /**\n     * Get Summation of field's complexity value of all types\n     * @param {Object of array} List\n     */\n    function findSummation(List) {\n        const type = [...new Set(List.map((respond) => respond.type))];\n        const array = [];\n        type.map((respond) => {\n            const ob = {};\n            ob.type = respond;\n            ob.summation = 0;\n            List.map((obj) => {\n                if (obj.type === respond) {\n                    ob.summation += obj.complexityValue;\n                }\n                return ob;\n            });\n            array.push(ob);\n            return array;\n        });\n        setTypeList(array);\n    }\n\n    /**\n     * Set the Initial Complexity Values to the field's\n     */\n\n    function setInitialComplexity() {\n        const apiId = api.id;\n        const apiClient = new Api();\n        const promisedComplexityType = apiClient.getGraphqlPoliciesComplexityTypes(apiId);\n        promisedComplexityType\n            .then((res) => {\n                const array = [];\n                res.typeList.map((respond) => {\n                    respond.fieldList.map((ob) => {\n                        const obj = {};\n                        obj.type = respond.type;\n                        obj.field = ob;\n                        obj.complexityValue = 1;\n                        array.push(obj);\n                        return ob;\n                    });\n                    return array;\n                });\n                setList(array);\n                findSummation(array);\n            });\n    }\n\n    useEffect(() => {\n        const apiId = api.id;\n        const apiClient = new Api();\n        const promisedComplexity = apiClient.getGraphqlPoliciesComplexity(apiId);\n        promisedComplexity\n            .then((res) => {\n                setList(res.list);\n                findSummation(res.list);\n                if (res.list.length === 0) {\n                    setInitialComplexity();\n                }\n            })\n            .catch((error) => {\n                const { response } = error;\n                if (response.body) {\n                    const { description } = response.body;\n                    Alert.error(description);\n                }\n            });\n    }, []);\n\n\n    /**\n    * Edit Custom Complexity Values\n    */\n    function editComplexity() {\n        setUpdateComplexityList(list);\n        findSummation(list);\n        setOpen(false);\n    }\n    /**\n     * set open state of the dialog box\n     */\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    if (list === null) {\n        return <Progress />;\n    }\n\n    return (\n        <>\n            <Paper className={classes.paper} spacing={2}>\n                <Grid container spacing={2} alignItems='flex-start'>\n                    <Grid item md={12} style={{ position: 'relative', display: 'inline-flex' }}>\n                        <Typography className={classes.subHeading} variant='h6'>\n                            <FormattedMessage\n                                id='Apis.Details.Configurartion.components.QueryAnalysis'\n                                defaultMessage='Query Analysis'\n                            />\n                        </Typography>\n                        <Typography className={classes.heading}>\n\n                            <span>update complexity</span>\n\n                        </Typography>\n                        <Button\n                            className={classes.editIcon}\n                            size='small'\n                            onClick={handleClickOpen}\n                        >\n                            <EditRounded />\n                        </Button>\n                    </Grid>\n                </Grid>\n            </Paper>\n            <Dialog\n                classes={{ paper: classes.dialogPaper }}\n                open={open}\n                aria-labelledby='responsive-dialog-title'\n            >\n                <DialogTitle id='responsive-dialog-title'>\n                    <Typography className={classes.subHeading} variant='h4'>\n                        <FormattedMessage\n                            id='Apis.Details.Configurartion.components.QueryAnalysis.edit'\n                            defaultMessage='Edit Complexity Values'\n                        />\n                    </Typography>\n                </DialogTitle>\n                <DialogContent dividers>\n                    <DialogContentText>\n                        <Container fixed>\n                            <UpdateComplexity\n                                list={list}\n                                setList={setList}\n                                typelist={typelist}\n                            />\n                        </Container>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Grid item>\n                        <Button\n                            variant='contained'\n                            color='primary'\n                            onClick={editComplexity}\n                            className={classes.saveButton}\n                        >\n\n                            <FormattedMessage\n                                id='Apis.Details.QyeryAnalysis.UpdateComplexity.save'\n                                defaultMessage='Set'\n                            />\n\n                        </Button>\n                    </Grid>\n                    <Button onClick={handleClose} color='primary'>\n                        <FormattedMessage\n                            id='Apis.Details.Configurartion.components.QueryAnalysis.cancle.btn'\n                            defaultMessage='Cancel'\n                        />\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n}\n\nGraphQLQueryAnalysis.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    setUpdateComplexityList: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, {\n    useReducer, useContext, useState, useEffect,\n} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { Link } from 'react-router-dom';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Alert from 'AppComponents/Shared/Alert';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport isEmpty from 'lodash/isEmpty';\nimport cloneDeep from 'lodash.clonedeep';\nimport Api from 'AppData/api';\nimport { APIContext } from 'AppComponents/Apis/Details/components/ApiContext';\nimport { isRestricted } from 'AppData/AuthManager';\nimport ResponseCaching from './components/ResponseCaching';\nimport CORSConfiguration from './components/CORSConfiguration';\nimport SchemaValidation from './components/SchemaValidation';\nimport MaxBackendTps from './components/MaxBackendTps';\nimport Flow from './components/Flow';\nimport Endpoints from './components/Endpoints';\nimport APISecurity from './components/APISecurity/APISecurity';\nimport QueryAnalysis from './components/QueryAnalysis';\nimport {\n    DEFAULT_API_SECURITY_OAUTH2,\n    API_SECURITY_BASIC_AUTH,\n    API_SECURITY_API_KEY,\n    API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY,\n    API_SECURITY_MUTUAL_SSL_MANDATORY,\n    API_SECURITY_MUTUAL_SSL,\n} from './components/APISecurity/components/apiSecurityConstants';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: theme.spacing(3, 2),\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: theme.spacing(3),\n    },\n    mainTitle: {\n        paddingLeft: 0,\n    },\n    paper: {\n        padding: theme.spacing(3),\n    },\n    paperCenter: {\n        padding: theme.spacing(3),\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    heading: {\n        fontSize: '1.1rem',\n        fontWeight: 400,\n        marginBottom: theme.spacing(0),\n    },\n    itemPadding: {\n        marginBottom: theme.spacing(3),\n    },\n    arrowForwardIcon: {\n        fontSize: 50,\n        color: '#ccc',\n        position: 'absolute',\n        top: 90,\n        right: -43,\n    },\n    arrowBackIcon: {\n        fontSize: 50,\n        color: '#ccc',\n        position: 'absolute',\n        top: 30,\n        right: -71,\n    },\n    expansionPanel: {\n        marginBottom: theme.spacing(1),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: '38px',\n    },\n    info: {\n        display: 'flex',\n        height: '100%',\n    },\n}));\n\n/**\n *\n * Deep coping the properties in API object (what ever the object in the state),\n * making sure that no direct mutations happen when updating the state.\n * You should know the shape of the object that you are keeping in the state,\n * @param {Object} api\n * @returns {Object} Deep copy of an object\n */\nfunction copyAPIConfig(api) {\n    const apiConfigJson = {\n        id: api.id,\n        name: api.name,\n        description: api.description,\n        lifeCycleStatus: api.lifeCycleStatus,\n        accessControl: api.accessControl,\n        authorizationHeader: api.authorizationHeader,\n        responseCachingEnabled: api.responseCachingEnabled,\n        cacheTimeout: api.cacheTimeout,\n        visibility: api.visibility,\n        isDefaultVersion: api.isDefaultVersion,\n        enableSchemaValidation: api.enableSchemaValidation,\n        accessControlRoles: [...api.accessControlRoles],\n        visibleRoles: [...api.visibleRoles],\n        tags: [...api.tags],\n        maxTps: api.maxTps,\n        wsdlUrl: api.wsdlUrl,\n        transport: [...api.transport],\n        securityScheme: [...api.securityScheme],\n        keyManagers: [...api.keyManagers || []],\n        corsConfiguration: {\n            corsConfigurationEnabled: api.corsConfiguration.corsConfigurationEnabled,\n            accessControlAllowCredentials: api.corsConfiguration.accessControlAllowCredentials,\n            accessControlAllowOrigins: [...api.corsConfiguration.accessControlAllowOrigins],\n            accessControlAllowHeaders: [...api.corsConfiguration.accessControlAllowHeaders],\n            accessControlAllowMethods: [...api.corsConfiguration.accessControlAllowMethods],\n        },\n    };\n    return apiConfigJson;\n}\n/**\n * This component handles the basic configurations UI in the API details page\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function RuntimeConfiguration() {\n    const [keyManagersConfigured, setKeyManagersConfigured] = useState([]);\n    /**\n     *\n     * Reduce the configuration UI related actions in to updated state\n     * @param {*} state current state\n     * @param {*} configAction dispatched configuration action\n     * @returns {Object} updated state\n     */\n    function configReducer(state, configAction) {\n        const { action, value, event } = configAction;\n        const nextState = { ...copyAPIConfig(state) };\n        switch (action) {\n            case 'description':\n            case 'isDefaultVersion':\n            case 'authorizationHeader':\n            case 'responseCachingEnabled':\n            case 'cacheTimeout':\n            case 'enableSchemaValidation':\n            case 'accessControl':\n            case 'visibility':\n            case 'maxTps':\n            case 'tags':\n                nextState[action] = value;\n                return nextState;\n            case 'accessControlRoles':\n                return { ...copyAPIConfig(state), [action]: value };\n            case 'visibleRoles':\n                return { ...copyAPIConfig(state), [action]: value };\n            case 'securityScheme':\n                // If event came from mandatory selector of either Application level or Transport level\n                if (\n                    [API_SECURITY_MUTUAL_SSL_MANDATORY, API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY]\n                        .includes(event.name)\n                ) {\n                    // If user select not mandatory (optional) , Remove the respective schema, else add it\n                    if (event.value === 'optional') {\n                        return {\n                            ...copyAPIConfig(state),\n                            [action]: state[action].filter((schema) => schema !== event.name),\n                        };\n                    } else if (state[action].includes(event.name)) {\n                        return state; // Add for completeness, Ideally there couldn't exist this state\n                    } else {\n                        return { ...copyAPIConfig(state), [action]: [...state[action], event.name] };\n                    }\n                }\n                // User checked on one of api security schemas (either OAuth, Basic, ApiKey or Mutual SSL)\n                if (event.checked) {\n                    if (state[action].includes(event.value)) {\n                        return state; // Add for completeness, Ideally there couldn't exist this state\n                    } else {\n                        return { ...copyAPIConfig(state), [action]: [...state[action], event.value] };\n                    }\n                } else if (state[action].includes(event.value)) {\n                    // User has unchecked a security schema type\n                    const newState = {\n                        ...copyAPIConfig(state),\n                        [action]: state[action].filter((schema) => schema !== event.value),\n                    };\n                    if (\n                        !(\n                            newState[action].includes(DEFAULT_API_SECURITY_OAUTH2)\n                            || newState[action].includes(API_SECURITY_BASIC_AUTH)\n                            || newState[action].includes(API_SECURITY_API_KEY)\n                        )\n                    ) {\n                        const noMandatoryOAuthBasicAuth = newState[action]\n                            .filter((schema) => schema !== API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY);\n                        return {\n                            ...newState,\n                            [action]: noMandatoryOAuthBasicAuth,\n                        };\n                    } else if (!newState[action].includes(API_SECURITY_MUTUAL_SSL)) {\n                        const noMandatoryMutualSSL = newState[action]\n                            .filter((schema) => schema !== API_SECURITY_MUTUAL_SSL_MANDATORY);\n                        return {\n                            ...newState,\n                            [action]: noMandatoryMutualSSL,\n                        };\n                    }\n\n                    return newState;\n                } else {\n                    return state; // Add for completeness, Ideally there couldn't exist this state\n                }\n            case 'transport':\n                if (event.checked) {\n                    return { ...copyAPIConfig(state), transport: [...state.transport, event.value] };\n                } else {\n                    return {\n                        ...copyAPIConfig(state),\n                        transport: state.transport.filter((transport) => transport !== event.value),\n                    };\n                }\n            case 'accessControlAllowHeaders':\n            case 'accessControlAllowMethods':\n            case 'accessControlAllowCredentials':\n            case 'corsConfigurationEnabled':\n                nextState.corsConfiguration[action] = value;\n                return nextState;\n            case 'accessControlAllowOrigins':\n                if (event.checked) {\n                    nextState.corsConfiguration[action] = [event.value];\n                } else {\n                    nextState.corsConfiguration[action] = event.checked === false ? [] : event.value;\n                }\n                return nextState;\n            case 'keymanagers':\n                nextState.keyManagers = value;\n                return nextState;\n            case 'allKeyManagersEnabled':\n                if (value) {\n                    nextState.keyManagers = ['all'];\n                } else {\n                    nextState.keyManagers = keyManagersConfigured;\n                }\n                return nextState;\n            default:\n                return state;\n        }\n    }\n    const { api, updateAPI } = useContext(APIContext);\n    const [isUpdating, setIsUpdating] = useState(false);\n    const [updateComplexityList, setUpdateComplexityList] = useState(null);\n    const [apiConfig, configDispatcher] = useReducer(configReducer, copyAPIConfig(api));\n    const classes = useStyles();\n    const mediationPolicies = cloneDeep(api.mediationPolicies || []);\n    const [inPolicy, setInPolicy] = useState(mediationPolicies.filter((seq) => seq.type === 'IN')[0]);\n    const [outPolicy, setOutPolicy] = useState(mediationPolicies.filter((seq) => seq.type === 'OUT')[0]);\n    const [faultPolicy, setFaultPolicy] = useState(mediationPolicies.filter((seq) => seq.type === 'FAULT')[0]);\n    const intl = useIntl();\n    useEffect(() => {\n        Api.keyManagers().then((response) => {\n            const kmNameList = [];\n            if (response.body.list) {\n                response.body.list.forEach((km) => kmNameList.push(km.name));\n            }\n            setKeyManagersConfigured(kmNameList);\n        })\n            .catch((error) => {\n                const { response } = error;\n                if (response.body) {\n                    const { description } = response.body;\n                    Alert.error(description);\n                }\n            });\n    }, []);\n\n    const getMediationPoliciesToSave = () => {\n        const NONE = 'none';\n        const newMediationPolicies = [];\n        if (!(isEmpty(inPolicy) || inPolicy.name === NONE)) {\n            newMediationPolicies.push(inPolicy);\n        }\n        if (!(isEmpty(outPolicy) || outPolicy.name === NONE)) {\n            newMediationPolicies.push(outPolicy);\n        }\n        if (!(isEmpty(faultPolicy) || faultPolicy.name === NONE)) {\n            newMediationPolicies.push(faultPolicy);\n        }\n        return newMediationPolicies;\n    };\n    const updateInMediationPolicy = (policy) => {\n        setInPolicy({ id: policy.id, name: policy.name, type: policy.type });\n    };\n    const updateOutMediationPolicy = (policy) => {\n        setOutPolicy({ id: policy.id, name: policy.name, type: policy.type });\n    };\n    const updateFaultMediationPolicy = (policy) => {\n        setFaultPolicy({ id: policy.id, name: policy.name, type: policy.type });\n    };\n\n\n    /**\n     * Update the GraphQL Query Complexity Values\n     */\n    function updateComplexity() {\n        const apiId = apiConfig.id;\n        const apiClient = new Api();\n        const promisedComplexity = apiClient.updateGraphqlPoliciesComplexity(\n            apiId, {\n                list: updateComplexityList,\n            },\n        );\n        promisedComplexity\n            .catch((error) => {\n                const { response } = error;\n                if (response.body) {\n                    const { description } = response.body;\n                    Alert.error(description);\n                }\n            });\n    }\n\n    /**\n     *\n     * Handle the configuration view save button action\n     */\n    function handleSave() {\n        const newMediationPolicies = getMediationPoliciesToSave();\n        if (api.isAPIProduct()) {\n            delete apiConfig.keyManagers; // remove keyManagers property if API type is API Product\n        } else {\n            apiConfig.mediationPolicies = newMediationPolicies;\n        }\n        if (updateComplexityList !== null) {\n            updateComplexity();\n        }\n        // Validate the key managers\n        if (\n            !api.isAPIProduct()\n            && apiConfig.securityScheme.includes('oauth2')\n            && !apiConfig.keyManagers.includes('all')\n            && (apiConfig.keyManagers && apiConfig.keyManagers.length === 0)\n        ) {\n            Alert.error(\n                intl.formatMessage(\n                    {\n                        id: 'Apis.Details.Configuration.RuntimeConfiguration.no.km.error',\n                        defaultMessage: 'Select one or more Key Managers',\n                    },\n                ),\n            );\n            return;\n        }\n        setIsUpdating(true);\n        updateAPI(apiConfig)\n            .catch((error) => {\n                if (error.response) {\n                    Alert.error(error.response.body.description);\n                }\n            })\n            .finally(() => setIsUpdating(false));\n    }\n\n    return (\n        <>\n            <Box pb={3}>\n                <Typography variant='h5'>\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.RuntimeConfiguration.topic.header'\n                        defaultMessage='Runtime Configurations'\n                    />\n                </Typography>\n            </Box>\n            <div className={classes.contentWrapper}>\n                <Grid container direction='row' justify='space-around' alignItems='stretch' spacing={8}>\n                    <Grid item xs={12} md={7}>\n                        <Typography className={classes.heading} variant='h6'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Configuration.section.request'\n                                defaultMessage='Request'\n                            />\n                        </Typography>\n                        <Grid\n                            direction=' column'\n                            justify='space-between'\n                            alignItems='stretch'\n                            spacing={6}\n                        >\n                            <Grid item xs={12} style={{ marginBottom: 30, position: 'relative' }}>\n                                <Paper className={classes.paper} elevation={0}>\n                                    <APISecurity api={apiConfig} configDispatcher={configDispatcher} />\n                                    <CORSConfiguration api={apiConfig} configDispatcher={configDispatcher} />\n\n                                    {api.type !== 'GRAPHQL'\n                                        && <SchemaValidation api={apiConfig} configDispatcher={configDispatcher} />}\n                                    {!api.isAPIProduct() && (\n                                        <Flow\n                                            api={apiConfig}\n                                            type='IN'\n                                            updateMediationPolicy={updateInMediationPolicy}\n                                            selectedMediationPolicy={inPolicy}\n                                            isRestricted={isRestricted(['apim:api_create'], api)}\n                                        />\n                                    )}\n                                    {api.type === 'GRAPHQL' && (\n                                        <Box mt={3}>\n                                            <QueryAnalysis\n                                                api={apiConfig}\n                                                setUpdateComplexityList={setUpdateComplexityList}\n                                                isRestricted={isRestricted(['apim:api_create'], api)}\n                                            />\n                                        </Box>\n                                    )}\n                                </Paper>\n                                <ArrowForwardIcon className={classes.arrowForwardIcon} />\n                            </Grid>\n                            <Typography className={classes.heading} variant='h6'>\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.Configuration.section.response'\n                                    defaultMessage='Response'\n                                />\n                            </Typography>\n                            <Grid item xs={12} style={{ position: 'relative' }}>\n                                <Box mb={3}>\n                                    <Paper className={classes.paper} elevation={0}>\n                                        {!api.isAPIProduct() && (\n                                            <Box mb={3}>\n                                                <Flow\n                                                    api={apiConfig}\n                                                    type='OUT'\n                                                    updateMediationPolicy={updateOutMediationPolicy}\n                                                    selectedMediationPolicy={outPolicy}\n                                                    isRestricted={isRestricted(['apim:api_create'], api)}\n                                                />\n                                            </Box>\n                                        )}\n                                        <ResponseCaching api={apiConfig} configDispatcher={configDispatcher} />\n                                    </Paper>\n                                    <ArrowBackIcon className={classes.arrowBackIcon} />\n                                </Box>\n                            </Grid>\n                            {!api.isAPIProduct() && (\n                                <>\n                                    <Typography className={classes.heading} variant='h6'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Configuration.RuntimeConfiguration.section.fault'\n                                            defaultMessage='Fault'\n                                        />\n                                    </Typography>\n                                    <Grid item xs={12} style={{ position: 'relative' }}>\n                                        <Paper className={classes.paper} elevation={0}>\n                                            <Flow\n                                                api={apiConfig}\n                                                type='FAULT'\n                                                updateMediationPolicy={updateFaultMediationPolicy}\n                                                selectedMediationPolicy={faultPolicy}\n                                                isRestricted={isRestricted(['apim:api_create'], api)}\n                                            />\n                                        </Paper>\n                                    </Grid>\n                                </>\n                            )}\n                        </Grid>\n                    </Grid>\n                    <Grid item xs={12} md={5}>\n                        <Typography className={classes.heading} variant='h6'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Configuration.section.backend'\n                                defaultMessage='Backend'\n                            />\n                        </Typography>\n                        <Paper className={classes.paper} style={{ height: 'calc(100% - 75px)' }} elevation={0}>\n                            {!api.isAPIProduct() && (\n                                <>\n                                    <MaxBackendTps api={apiConfig} configDispatcher={configDispatcher} />\n                                    <Endpoints api={api} />\n                                </>\n                            )}\n\n                            {api.isAPIProduct() && (\n                                <Box alignItems='center' justifyContent='center' className={classes.info}>\n                                    <Typography variant='body1'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Configuration.RuntimeConfiguration.backend.api.product.\n                                            endpoint'\n                                            defaultMessage='Please refer respective APIs for endpoint information'\n                                        />\n                                    </Typography>\n                                </Box>\n                            )}\n                        </Paper>\n                    </Grid>\n                </Grid>\n                <Grid container>\n                    <Grid container direction='row' alignItems='center' spacing={1} style={{ marginTop: 20 }}>\n                        <Grid item>\n                            <Button\n                                disabled={isUpdating\n                                || ((apiConfig.visibility === 'RESTRICTED' && apiConfig.visibleRoles.length === 0)\n                                    || isRestricted(['apim:api_create'], api))}\n                                type='submit'\n                                variant='contained'\n                                color='primary'\n                                onClick={handleSave}\n                            >\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.Configuration.save'\n                                    defaultMessage='Save'\n                                />\n                                {isUpdating && <CircularProgress size={15} />}\n                            </Button>\n                        </Grid>\n                        <Grid item>\n                            <Link to={'/apis/' + api.id + '/overview'}>\n                                <Button>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.Configuration.cancel'\n                                        defaultMessage='Cancel'\n                                    />\n                                </Button>\n                            </Link>\n                        </Grid>\n                        {isRestricted(['apim:api_create'], api) && (\n                            <Grid item>\n                                <Typography variant='body2' color='primary'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.Configuration.update.not.allowed'\n                                        defaultMessage={\n                                            '* You are not authorized to update particular fields of'\n                                            + ' the API due to insufficient permissions'\n                                        }\n                                    />\n                                </Typography>\n                            </Grid>\n                        )}\n                    </Grid>\n                </Grid>\n            </div>\n        </>\n    );\n}\n","/*\n * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport { FormattedMessage } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport API from 'AppData/api';\n\n\nconst useStyles = makeStyles((theme) => ({\n    expansionPanel: {\n        marginBottom: theme.spacing(3),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n        display: 'inline-flex',\n    },\n    iconSpace: {\n        marginLeft: theme.spacing(0.5),\n    },\n    actionSpace: {\n        margin: '-7px auto',\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: 1.5,\n    },\n    keyManagerSelect: {\n        minWidth: 180,\n    },\n}));\n\n/**\n *\n * API Level Rate Limiting configuration\n * @param {*} props\n * @returns\n */\nexport default function APILevelRateLimitingPolicies(props) {\n    const [apiFromContext] = useAPI();\n    const classes = useStyles();\n    const {\n        configDispatcher,\n        api: { apiThrottlingPolicy },\n    } = props;\n    const [apiRateLimits, setApiRateLimits] = useState([]);\n    const handleChange = (event) => {\n        configDispatcher({\n            action: 'apiThrottlingPolicy',\n            value: event.target.value,\n        });\n    };\n\n    useEffect(() => {\n        API.policies('api').then((response) => setApiRateLimits(response.body.list));\n    }, []);\n\n    return (\n        <ExpansionPanel className={classes.expansionPanel} defaultExpanded>\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography className={classes.subHeading} variant='h6'>\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.components.APILevelRateLimitingPolicies.configuration'\n                        defaultMessage='Rate Limiting Configuration'\n                    />\n                    <Tooltip\n                        title={(\n                            <FormattedMessage\n                                id='Apis.Details.APILevelRateLimitingPolicies.components.Configuration.tooltip'\n                                defaultMessage={'Selected Rate Limiting Policy will be applied to all the'\n                                + ' requests of this API.'}\n                            />\n                        )}\n                        aria-label='Rate Limiting Policies'\n                        placement='right-end'\n                        interactive\n                    >\n                        <HelpOutline className={classes.iconSpace} />\n                    </Tooltip>\n                </Typography>\n                <FormControlLabel\n                    className={classes.actionSpace}\n                    control={(\n                        <Switch\n                            disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                            checked={!(apiThrottlingPolicy === null)}\n                            onChange={({ target: { checked } }) => configDispatcher({\n                                action: 'throttlingPoliciesEnabled',\n                                value: checked,\n                            })}\n                            color='primary'\n                        />\n                    )}\n                />\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails className={classes.expansionPanelDetails}>\n                <Grid container spacing={1} alignItems='center'>\n                    <Grid item md={6} xs={12}>\n                        {!(apiThrottlingPolicy === null) && (\n                            <TextField\n                                disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                id='operation_throttling_policy'\n                                select\n                                value={apiThrottlingPolicy}\n                                onChange={handleChange}\n                                label='Rate limiting policies'\n                                margin='dense'\n                                variant='outlined'\n                                style={{ display: 'flex', minWidth: 180 }}\n                            >\n                                {apiRateLimits.map((rateLimit) => (\n                                    <MenuItem key={rateLimit.name} value={rateLimit.name}>\n                                        {rateLimit.displayName}\n                                    </MenuItem>\n                                ))}\n                            </TextField>\n                        )}\n                    </Grid>\n                </Grid>\n            </ExpansionPanelDetails>\n        </ExpansionPanel>\n    );\n}\n\nAPILevelRateLimitingPolicies.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    configDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useReducer, useContext, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport { Link } from 'react-router-dom';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage } from 'react-intl';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Alert from 'AppComponents/Shared/Alert';\nimport ArrowForwardIcon from '@material-ui/icons/SettingsEthernet';\nimport { APIContext } from 'AppComponents/Apis/Details/components/ApiContext';\nimport { isRestricted } from 'AppData/AuthManager';\nimport Endpoints from './components/Endpoints';\nimport KeyManager from './components/KeyManager';\nimport APILevelRateLimitingPolicies from './components/APILevelRateLimitingPolicies';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: theme.spacing(3, 2),\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: theme.spacing(3),\n    },\n    boxFlex: {\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n    },\n    mainTitle: {\n        paddingLeft: 0,\n    },\n    paper: {\n        padding: theme.spacing(3),\n        minHeight: '250px',\n    },\n    paperCenter: {\n        padding: theme.spacing(3),\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    heading: {\n        fontSize: '1.1rem',\n        fontWeight: 400,\n        marginBottom: theme.spacing(1),\n    },\n    itemPadding: {\n        marginBottom: theme.spacing(3),\n    },\n    arrowForwardIcon: {\n        fontSize: 50,\n        color: '#ccc',\n        position: 'absolute',\n        top: 175,\n        right: -55,\n    },\n    expansionPanel: {\n        marginBottom: theme.spacing(1),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: '38px',\n    },\n    info: {\n        display: 'flex',\n        height: '100%',\n    },\n}));\n\n/**\n *\n * Deep coping the properties in API object (what ever the object in the state),\n * making sure that no direct mutations happen when updating the state.\n * You should know the shape of the object that you are keeping in the state,\n * @param {Object} api\n * @returns {Object} Deep copy of an object\n */\nfunction copyAPIConfig(api) {\n    const keyManagers = api.apiType === 'APIProduct' ? ['all'] : [...api.keyManagers];\n    return {\n        id: api.id,\n        name: api.name,\n        description: api.description,\n        lifeCycleStatus: api.lifeCycleStatus,\n        accessControl: api.accessControl,\n        authorizationHeader: api.authorizationHeader,\n        responseCachingEnabled: api.responseCachingEnabled,\n        cacheTimeout: api.cacheTimeout,\n        visibility: api.visibility,\n        apiThrottlingPolicy: api.apiThrottlingPolicy,\n        isDefaultVersion: api.isDefaultVersion,\n        enableSchemaValidation: api.enableSchemaValidation,\n        accessControlRoles: [...api.accessControlRoles],\n        visibleRoles: [...api.visibleRoles],\n        tags: [...api.tags],\n        maxTps: api.maxTps,\n        wsdlUrl: api.wsdlUrl,\n        transport: [...api.transport],\n        securityScheme: [...api.securityScheme],\n        corsConfiguration: {\n            corsConfigurationEnabled: api.corsConfiguration.corsConfigurationEnabled,\n            accessControlAllowCredentials: api.corsConfiguration.accessControlAllowCredentials,\n            accessControlAllowOrigins: [...api.corsConfiguration.accessControlAllowOrigins],\n            accessControlAllowHeaders: [...api.corsConfiguration.accessControlAllowHeaders],\n            accessControlAllowMethods: [...api.corsConfiguration.accessControlAllowMethods],\n        },\n        keyManagers,\n    };\n}\n/**\n * This component handles the basic configurations UI in the API details page\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function RuntimeConfiguration() {\n    /**\n     *\n     * Reduce the configuration UI related actions in to updated state\n     * @param {*} state current state\n     * @param {*} configAction dispatched configuration action\n     * @returns {Object} updated state\n     */\n    function configReducer(state, configAction) {\n        const { action, value } = configAction;\n        const nextState = { ...copyAPIConfig(state) };\n        switch (action) {\n            case 'apiThrottlingPolicy':\n            case 'maxTps':\n                nextState[action] = value;\n                return nextState;\n            case 'keymanagers':\n                nextState.keyManagers = value;\n                return nextState;\n            case 'throttlingPoliciesEnabled':\n                if (value) {\n                    nextState.apiThrottlingPolicy = '';\n                } else {\n                    nextState.apiThrottlingPolicy = null;\n                }\n                return nextState;\n            case 'allKeyManagersEnabled':\n                if (value) {\n                    nextState.keyManagers = [];\n                } else {\n                    nextState.keyManagers = ['all'];\n                }\n                return nextState;\n            default:\n                return state;\n        }\n    }\n    const { api, updateAPI } = useContext(APIContext);\n    const [isUpdating, setIsUpdating] = useState(false);\n    const [apiConfig, configDispatcher] = useReducer(configReducer, copyAPIConfig(api));\n    const classes = useStyles();\n\n\n    /**\n     *\n     * Handle the configuration view save button action\n     */\n    function handleSave() {\n        setIsUpdating(true);\n\n        updateAPI(apiConfig)\n            .catch((error) => {\n                if (error.response) {\n                    Alert.error(error.response.body.description);\n                }\n            })\n            .finally(() => setIsUpdating(false));\n    }\n\n    return (\n        <>\n            <Box pb={3}>\n                <Typography variant='h5'>\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.RuntimeConfigurationWebSocket.topic.header'\n                        defaultMessage='Runtime Configurations'\n                    />\n                </Typography>\n            </Box>\n            <div className={classes.contentWrapper}>\n                <Grid container direction='row' justify='space-around' alignItems='stretch' spacing={8}>\n                    <Grid item xs={12} md={7} style={{ marginBottom: 30, position: 'relative' }}>\n                        <Typography className={classes.heading} variant='h6'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.RuntimeConfigurationWebSocket.section.client.websocket'\n                                defaultMessage='Client Websocket'\n                            />\n                        </Typography>\n                        <div className={classes.boxFlex}>\n                            <Paper\n                                className={classes.paper}\n                                elevation={0}\n                                style={{ display: 'flex', alignItems: 'center' }}\n                            >\n                                <Box pr={3}>\n                                    <KeyManager api={apiConfig} configDispatcher={configDispatcher} />\n                                </Box>\n                                <Box pr={3}>\n                                    <APILevelRateLimitingPolicies api={apiConfig} configDispatcher={configDispatcher} />\n                                </Box>\n                            </Paper>\n                            <ArrowForwardIcon className={classes.arrowForwardIcon} />\n                        </div>\n                    </Grid>\n                    <Grid item xs={12} md={4}>\n                        <Typography className={classes.heading} variant='h6'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.RuntimeConfigurationWebSocket.section.backend.websocket'\n                                defaultMessage='Backend Websocket'\n                            />\n                        </Typography>\n                        <Paper className={classes.paper} style={{ height: 'calc(100% - 75px)' }} elevation={0}>\n                            {!api.isAPIProduct() && (\n                                <>\n                                    <Endpoints api={api} />\n                                </>\n                            )}\n                        </Paper>\n                    </Grid>\n                </Grid>\n                <Grid container>\n                    <Grid container direction='row' alignItems='center' spacing={1} style={{ marginTop: 20 }}>\n                        <Grid item>\n                            <Button\n                                disabled={isUpdating\n                                || ((apiConfig.visibility === 'RESTRICTED' && apiConfig.visibleRoles.length === 0)\n                                    || isRestricted(['apim:api_create'], api))}\n                                type='submit'\n                                variant='contained'\n                                color='primary'\n                                onClick={handleSave}\n                            >\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.Configuration.save'\n                                    defaultMessage='Save'\n                                />\n                                {isUpdating && <CircularProgress size={15} />}\n                            </Button>\n                        </Grid>\n                        <Grid item>\n                            <Link to={'/apis/' + api.id + '/overview'}>\n                                <Button>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.Configuration.cancel'\n                                        defaultMessage='Cancel'\n                                    />\n                                </Button>\n                            </Link>\n                        </Grid>\n                        {isRestricted(['apim:api_create'], api) && (\n                            <Grid item>\n                                <Typography variant='body2' color='primary'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.Configuration.update.not.allowed'\n                                        defaultMessage={\n                                            '* You are not authorized to update particular fields of'\n                                            + ' the API due to insufficient permissions'\n                                        }\n                                    />\n                                </Typography>\n                            </Grid>\n                        )}\n                    </Grid>\n                </Grid>\n            </div>\n        </>\n    );\n}\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/*\n `max-len` es-lint rule has been disabled for the entire file due to the generated svg elements in the file.\n it's impossible to get them under 120 columns rule\n  */\n/* eslint-disable max-len */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = () => ({\n    root: {\n        marginTop: 30,\n    },\n});\n\n/**\n *\n *\n * @class LifeCycleImage\n * @extends {React.Component}\n */\nclass LifeCycleImage extends React.Component {\n    /**\n     *\n     *\n     * @param {*} element\n     * @returns\n     * @memberof LifeCycleImage\n     */\n    highLightMe(element) {\n        const style = {};\n        if (!element.startsWith(this.props.lifeCycleStatus.toLowerCase())) {\n            style.opacity = 0.2;\n        }\n        return style;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof LifeCycleImage\n     */\n    render() {\n        const { classes } = this.props;\n\n        return (\n            <svg\n                xmlns='http://www.w3.org/2000/svg'\n                width='633'\n                height='244'\n                viewBox='0 0 743.09858 287.34519'\n                id='svg5953'\n                className={classes.root}\n            >\n                <defs id='defs5955'>\n                    <path\n                        transform='scale(.26458)'\n                        id='path5588'\n                        d='m 1738.3694,290.45336 a 290.37688,290.37688 0 0 1 268.3994,-179.55952 290.37688,290.37688 0 0 1 5.8758,0.0595'\n                        style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                        color='#000'\n                        overflow='visible'\n                        fill='none'\n                        strokeWidth='6.633'\n                        strokeLinejoin='round'\n                    />\n                    <path\n                        transform='scale(.26458)'\n                        id='path5578'\n                        d='m 2103.6746,127.54094 a 290.37688,290.37688 0 0 1 193.3409,265.03704'\n                        style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                        color='#000'\n                        overflow='visible'\n                        fill='none'\n                        strokeWidth='6.633'\n                        strokeLinejoin='round'\n                    />\n                    <path\n                        transform='scale(.26458)'\n                        id='path5547'\n                        d='m 1748.9295,534.82816 a 290.37688,290.37688 0 0 0 257.8393,156.81941 290.37688,290.37688 0 0 0 5.8709,-0.0593'\n                        style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                        color='#000'\n                        overflow='visible'\n                        fill='none'\n                        strokeWidth='6.633'\n                        strokeLinejoin='round'\n                    />\n                    <path\n                        transform='scale(.26458)'\n                        id='path4189'\n                        d='m 1748.9295,534.82816 a 290.37688,290.37688 0 0 0 257.8393,156.81941 290.37688,290.37688 0 0 0 5.8709,-0.0593'\n                        style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                        color='#000'\n                        overflow='visible'\n                        fill='none'\n                        strokeWidth='6.633'\n                        strokeLinejoin='round'\n                    />\n                </defs>\n                <g id='layer1' transform='translate(51.512 4.77)'>\n                    <path d='m 99,13.3622 24,0 0,24 -24,0 z' id='path6746' fill='none' />\n                    <g id='prototyped' style={this.highLightMe('prototyped')}>\n                        <text\n                            id='text6729'\n                            y='6.362'\n                            x='61'\n                            style={{ lineHeight: '125%' }}\n                            fontWeight='400'\n                            fontSize='15'\n                            fontFamily='sans-serif'\n                            letterSpacing='0'\n                            wordSpacing='0'\n                            fill='#2b2b2b'\n                        >\n                            <tspan y='6.362' x='61' id='tspan6731'>\n                                PROTOTYPED\n                            </tspan>\n                        </text>\n                        <path\n                            id='path6748'\n                            d='m 118,16.3622 -4.18,0 c -0.42,-1.16 -1.52,-2 -2.82,-2 -1.3,0 -2.4,0.84 -2.82,2 l -4.18,0 c -1.1,0 -2,0.9 -2,2 l 0,14 c 0,1.1 0.9,2 2,2 l 14,0 c 1.1,0 2,-0.9 2,-2 l 0,-14 c 0,-1.1 -0.9,-2 -2,-2 z m -7,0 c 0.55,0 1,0.45 1,1 0,0.55 -0.45,1 -1,1 -0.55,0 -1,-0.45 -1,-1 0,-0.55 0.45,-1 1,-1 z m -2,14 -4,-4 1.41,-1.41 2.59,2.58 6.59,-6.59 1.41,1.42 -8,8 z'\n                        />\n                    </g>\n                    <path d='m 224.5,133.8622 24,0 0,24 -24,0 z' id='path6762' fill='none' />\n                    <g id='published' style={this.highLightMe('published')}>\n                        <text\n                            id='text6524'\n                            y='125.476'\n                            x='207'\n                            style={{ lineHeight: '125%' }}\n                            fontWeight='400'\n                            fontSize='15'\n                            fontFamily='sans-serif'\n                            letterSpacing='0'\n                            wordSpacing='0'\n                        >\n                            <tspan y='125.476' x='207' id='tspan6526'>\n                                PUBLISHED\n                            </tspan>\n                        </text>\n                        <path\n                            id='path6764'\n                            d='m 240.5,144.8622 c 1.66,0 2.99,-1.34 2.99,-3 0,-1.66 -1.33,-3 -2.99,-3 -1.66,0 -3,1.34 -3,3 0,1.66 1.34,3 3,3 z m -8,0 c 1.66,0 2.99,-1.34 2.99,-3 0,-1.66 -1.33,-3 -2.99,-3 -1.66,0 -3,1.34 -3,3 0,1.66 1.34,3 3,3 z m 0,2 c -2.33,0 -7,1.17 -7,3.5 l 0,2.5 14,0 0,-2.5 c 0,-2.33 -4.67,-3.5 -7,-3.5 z m 8,0 c -0.29,0 -0.62,0.02 -0.97,0.05 1.16,0.84 1.97,1.97 1.97,3.45 l 0,2.5 6,0 0,-2.5 c 0,-2.33 -4.67,-3.5 -7,-3.5 z'\n                        />\n                    </g>\n                    <g id='created' style={this.highLightMe('created')}>\n                        <text\n                            id='text6520'\n                            y='282.362'\n                            x='68'\n                            style={{ lineHeight: '125%' }}\n                            fontWeight='400'\n                            fontSize='15'\n                            fontFamily='sans-serif'\n                            letterSpacing='0'\n                            wordSpacing='0'\n                        >\n                            <tspan y='282.362' x='68' id='tspan6522'>\n                                CREATED\n                            </tspan>\n                        </text>\n                        <path\n                            id='path6778'\n                            d='m 97,238.8622 c -1.1,0 -1.99,0.9 -1.99,2 l -0.01,16 c 0,1.1 0.89,2 1.99,2 l 12.01,0 c 1.1,0 2,-0.9 2,-2 l 0,-12 -6,-6 -8,0 z m 7,7 0,-5.5 5.5,5.5 -5.5,0 z'\n                        />\n                    </g>\n                    <path d='m 91,236.8622 24,0 0,24 -24,0 z' id='path6780' fill='none' />\n                    <g id='deprecated' style={this.highLightMe('deprecated')}>\n                        <text\n                            id='text6536'\n                            y='125.476'\n                            x='397.858'\n                            style={{ lineHeight: '125%' }}\n                            fontWeight='400'\n                            fontSize='15'\n                            fontFamily='sans-serif'\n                            letterSpacing='0'\n                            wordSpacing='0'\n                        >\n                            <tspan y='125.476' x='397.858' id='tspan6538'>\n                                DEPRECATED\n                            </tspan>\n                        </text>\n                        <path\n                            id='path6794'\n                            d='m 433.52944,97.811947 c 0,1.1 0.9,2 2,2 l 8,0 c 1.1,0 2,-0.9 2,-2 l 0,-12 -12,0 0,12 z m 13,-15 -3.5,0 -1,-1 -5,0 -1,1 -3.5,0 0,2 14,0 0,-2 z'\n                        />\n                        <path id='path6796' d='m 427.52944,78.811947 24,0 0,24.000003 -24,0 z' fill='none' />\n                    </g>\n                    <path d='m 427.52944,236.8622 24,0 0,24 -24,0 z' id='path6810' clipRule='evenodd' fill='none' />\n                    <g id='blocked' style={this.highLightMe('blocked')}>\n                        <text\n                            id='text6532'\n                            y='282.362'\n                            x='386.858'\n                            style={{ lineHeight: '125%' }}\n                            fontWeight='400'\n                            fontSize='15'\n                            fontFamily='sans-serif'\n                            letterSpacing='0'\n                            wordSpacing='0'\n                        >\n                            <tspan y='282.362' x='386.858' id='tspan6534'>\n                                BLOCKED\n                            </tspan>\n                        </text>\n                        <path\n                            id='path6812'\n                            d='m 450.22944,255.8622 -9.1,-9.1 c 0.9,-2.3 0.4,-5 -1.5,-6.9 -2,-2 -5,-2.4 -7.4,-1.3 l 4.3,4.3 -3,3 -4.4,-4.3 c -1.2,2.4 -0.7,5.4 1.3,7.4 1.9,1.9 4.6,2.4 6.9,1.5 l 9.1,9.1 c 0.4,0.4 1,0.4 1.4,0 l 2.3,-2.3 c 0.5,-0.4 0.5,-1.1 0.1,-1.4 z'\n                        />\n                    </g>\n                    <g id='retired' style={this.highLightMe('retired')}>\n                        <text\n                            id='text6540'\n                            y='125.483'\n                            x='627.485'\n                            style={{ lineHeight: '125%' }}\n                            fontWeight='400'\n                            fontSize='15'\n                            fontFamily='sans-serif'\n                            letterSpacing='0'\n                            wordSpacing='0'\n                        >\n                            <tspan y='125.483' x='627.485' id='tspan6542'>\n                                RETIRED\n                            </tspan>\n                        </text>\n                        <path\n                            id='path6826'\n                            d='m 663.36667,89.811947 0,2 -13,0 0,-6 9,0 c 2.21,0 4,1.79 4,4 z m -20,3 0,2 6,0 0,2 8,0 0,-2 6,0 0,-2 -20,0 z m 5.14,-1.9 c 1.16,-1.19 1.14,-3.08 -0.04,-4.24 -1.19,-1.16 -3.08,-1.14 -4.24,0.04 -1.16,1.19 -1.14,3.08 0.04,4.24 1.19,1.16 3.08,1.14 4.24,-0.04 z'\n                        />\n                        <path id='path6828' d='m 641.36667,78.811947 24,0 0,24.000003 -24,0 z' fill='none' />\n                    </g>\n                    <g id='published_to_created' style={this.highLightMe('published_to_created')}>\n                        <path\n                            id='path6872'\n                            d='m 235.84375,184.86133 c -11.86654,31.99459 -35.12697,58.48216 -65.32031,74.38281 l -5.4624,15.71344 14.85695,3.63617 c 35.16928,-17.95415 62.42125,-48.3249 76.47461,-85.22656 l -15.28708,7.18109 z'\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            color='#000'\n                            overflow='visible'\n                            fill='#065381'\n                        />\n                        <path\n                            id='path6985'\n                            d='m 178.61585,255.22337 -4.875,15.375 14.5,3.625'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                        <path\n                            d='m 187.11585,249.22337 -4.875,15.375 14.5,3.625'\n                            id='path6987'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                    </g>\n                    <g id='created_to_published' style={this.highLightMe('created_to_published')}>\n                        <path\n                            id='path6850'\n                            d='m 202.80469,171.18359 c -8.60566,23.79669 -25.78994,43.52064 -48.1836,55.30469 l 15.33148,4.4495 -5.74163,15.30245 c 27.19915,-14.16065 48.15744,-37.93366 58.79687,-66.69335 l -4.08764,-14.98782 z'\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            color='#000'\n                            overflow='visible'\n                            fill='#34b2e4'\n                        />\n                        <path\n                            d='m 200.07828,178.47337 15.66836,-6.25318 3.78013,13.89858'\n                            id='path6979'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                        <path\n                            id='path6991'\n                            d='m 195.3937,187.48898 15.66836,-6.25318 3.78013,13.89858'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                    </g>\n                    <g id='prototyped_to_published' style={this.highLightMe('prototyped_to_published')}>\n                        <path\n                            id='path6874'\n                            d='m 181.42383,-4.0683594 5.18392,15.3553234 -15.14681,3.480614 c 26.97521,14.497097 48.38501,37.525806 60.88086,65.484375 l 16.41911,5.795641 4.09261,-14.231188 C 238.22018,39.231643 213.06477,12.507292 181.42383,-4.0683594 Z'\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            color='#000'\n                            overflow='visible'\n                            fill='#fe912a'\n                        />\n                        <path\n                            id='path6993'\n                            d='m 228.26421,71.982698 16.39604,5.833631 3.93328,-14.097941'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                        <path\n                            d='m 224.76421,65.357698 16.39604,5.833631 3.93328,-14.097941'\n                            id='path6995'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                    </g>\n                    <g id='published_to_prototyped' style={this.highLightMe('published_to_prototyped')}>\n                        <path\n                            id='path6855'\n                            d='m 164.61328,27.712891 -16.76273,3.798407 6.57718,15.455499 c 19.64736,10.327117 35.3679,26.809879 44.75391,46.923828 l 6.94786,-12.105746 13.33339,3.763949 C 208.07457,60.73778 188.78631,40.399355 164.61328,27.712891 Z'\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            color='#000'\n                            overflow='visible'\n                            fill='#ffc95c'\n                        />\n                        <path\n                            id='path6997'\n                            d='m 163.43006,52.336437 -6.45235,-15.202795 16.61701,-3.535534'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                        <path\n                            d='M 171.82695,57.993291 165.3746,42.790496 181.99161,39.254962'\n                            id='path6999'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                    </g>\n                    <g id='created_to_prototyped' style={this.highLightMe('created_to_prototyped')}>\n                        <path\n                            id='path6870'\n                            d='M 35.433594,-4.7226562 C -17.800688,22.43674 -51.366944,77.095386 -51.511719,136.85742 c 0.08726,60.42038 34.333636,115.59607 88.439453,142.48828 l -5.963174,-14.43529 14.818643,-3.6858 C -1.8626488,238.10436 -32.152993,189.83798 -32.251953,136.87891 -32.191581,84.271252 -2.3316563,36.239603 44.818359,12.90625 l 7.576833,-14.3582512 z'\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            color='#000'\n                            overflow='visible'\n                            fill='#8b103e'\n                        />\n                        <path\n                            id='path7001'\n                            d='m 25.625,1.1122031 16.25,3 -7.125,13.7499999'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                        <path\n                            d='m 16.375,7.1122031 16.25,2.9999999 -7.125,13.75'\n                            id='path7003'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                    </g>\n                    <g id='prototyped_to_created' style={this.highLightMe('prototyped_to_created')}>\n                        <path\n                            id='path6840'\n                            d='M 52.171875,26.720703 C 10.473112,47.61586 -15.897048,90.22032 -16,136.86133 c 0.06835,46.84095 26.630186,89.61173 68.585938,110.43945 l 18.169686,-5.17409 -8.489999,-14.63841 C 27.868397,210.36444 6.0894455,175.28511 6,136.86133 6.0597413,98.328986 27.932967,63.153267 62.464844,46.056641 l -14.466177,-4.2932 z'\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            color='#000'\n                            overflow='visible'\n                            fill='#e34856'\n                        />\n                        <path\n                            id='path7005'\n                            d='m 39.421204,240.07329 17.677669,-4.94975 -7.778174,-14.49569'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                        <path\n                            d='m 27.930719,230.8809 17.677669,-4.94975 -7.778174,-14.49569'\n                            id='path7007'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                        />\n                    </g>\n                    <g id='deprecated_to_retired' style={this.highLightMe('deprecated_to_retired')}>\n                        <path\n                            id='rect7009'\n                            d='m 530.25049,110.51652 68.24164,0 9.89949,9.52539 -9.89949,9.40863 -68.24164,0 9.54594,-9.76218 z'\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            color='#000'\n                            overflow='visible'\n                            fill='#5c5c5c'\n                            strokeWidth='6.016'\n                            strokeLinecap='round'\n                            strokeLinejoin='round'\n                        />\n                        <path\n                            id='path7016'\n                            d='m 589.97554,111.03345 9.31051,8.95242 -9.42988,8.89273'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                            strokeWidth='.955'\n                        />\n                        <path\n                            d='m 581.28804,111.03345 9.31051,8.95242 -9.42988,8.89273'\n                            id='path7018'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                            strokeWidth='.955'\n                        />\n                    </g>\n                    <g id='published_to_deprecated' style={this.highLightMe('published_to_deprecated')}>\n                        <path\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            d='m 306.25049,110.51652 68.24164,0 9.89949,9.52539 -9.89949,9.40863 -68.24164,0 9.54594,-9.76218 z'\n                            id='path7020'\n                            color='#000'\n                            overflow='visible'\n                            fill='#5c5c5c'\n                            strokeWidth='6.016'\n                            strokeLinecap='round'\n                            strokeLinejoin='round'\n                        />\n                        <path\n                            d='m 365.97554,111.03345 9.31051,8.95242 -9.42988,8.89273'\n                            id='path7022'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                            strokeWidth='.955'\n                        />\n                        <path\n                            id='path7024'\n                            d='m 357.28804,111.03345 9.31051,8.95242 -9.42988,8.89273'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                            strokeWidth='.955'\n                        />\n                    </g>\n                    <g id='published_to_blocked' style={this.highLightMe('published_to_blocked')}>\n                        <path\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            d='m 306.92162,149.0749 92.7941,75.49823 1.41692,13.66474 -13.63383,0.80053 -92.79411,-75.49822 13.59185,-1.29876 z'\n                            id='path7026'\n                            color='#000'\n                            overflow='visible'\n                            fill='#65daad'\n                            strokeWidth='6.016'\n                            strokeLinecap='round'\n                            strokeLinejoin='round'\n                        />\n                        <path\n                            d='m 392.87565,219.47284 1.33665,12.84698 -12.94218,0.70939'\n                            id='path7028'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                            strokeWidth='.955'\n                        />\n                        <path\n                            id='path7030'\n                            d='m 386.23855,213.86735 1.33664,12.84698 -12.94218,0.70939'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                            strokeWidth='.955'\n                        />\n                    </g>\n                    <g\n                        id='blocked_to_published'\n                        transform='rotate(180 338.919 207.057)'\n                        style={this.highLightMe('blocked_to_published')}\n                    >\n                        <path\n                            id='path7039'\n                            d='m 306.92162,149.0749 92.7941,75.49823 1.41692,13.66474 -13.63383,0.80053 -92.79411,-75.49822 13.59185,-1.29876 z'\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            color='#000'\n                            overflow='visible'\n                            fill='#64d0da'\n                            strokeWidth='6.016'\n                            strokeLinecap='round'\n                            strokeLinejoin='round'\n                        />\n                        <path\n                            id='path7041'\n                            d='m 392.87565,219.47284 1.33665,12.84698 -12.94218,0.70939'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                            strokeWidth='.955'\n                        />\n                        <path\n                            d='m 386.23855,213.86735 1.33664,12.84698 -12.94218,0.70939'\n                            id='path7043'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                            strokeWidth='.955'\n                        />\n                    </g>\n                    <g id='blocked_to_deprecated' style={this.highLightMe('blocked_to_deprecated')}>\n                        <path\n                            style={{ isolation: 'auto', mixBlendMode: 'normal' }}\n                            d='m 427.85405,225.05409 0,-68.24164 9.52539,-9.89949 9.40863,9.89949 0,68.24164 -9.76218,-9.54594 z'\n                            id='path7045'\n                            color='#000'\n                            overflow='visible'\n                            fill='#5c5c5c'\n                            strokeWidth='6.016'\n                            strokeLinecap='round'\n                            strokeLinejoin='round'\n                        />\n                        <path\n                            d='m 428.37098,165.32904 8.95242,-9.31051 8.89273,9.42988'\n                            id='path7047'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                            strokeWidth='.955'\n                        />\n                        <path\n                            id='path7049'\n                            d='m 428.37098,174.01654 8.95242,-9.31051 8.89273,9.42988'\n                            fill='none'\n                            fillRule='evenodd'\n                            stroke='#fff'\n                            strokeWidth='.955'\n                        />\n                    </g>\n                </g>\n            </svg>\n        );\n    }\n}\nLifeCycleImage.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    lifeCycleStatus: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(LifeCycleImage);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport Paper from '@material-ui/core/Paper';\nimport CloseIcon from '@material-ui/icons/Close';\nimport CheckIcon from '@material-ui/icons/Check';\nimport green from '@material-ui/core/colors/green';\nimport yellow from '@material-ui/core/colors/yellow';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport WarningRoundedIcon from '@material-ui/icons/WarningRounded';\n\nconst useStyles = makeStyles((theme) => ({\n    stateButton: {\n        marginRight: theme.spacing(),\n    },\n    paperCenter: {\n        padding: theme.spacing(2),\n        display: 'block',\n        alignItems: 'left',\n        justifyContent: 'center',\n    },\n    iconTrue: {\n        color: green[500],\n        marginRight: theme.spacing(1),\n        display: 'block',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    iconFalse: {\n        color: theme.palette.grey[500],\n        marginRight: theme.spacing(1),\n        display: 'block',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    iconWarn: {\n        color: yellow[700],\n        marginRight: theme.spacing(1),\n        display: 'block',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n    },\n    grid: {\n        marginTop: theme.spacing(2),\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'left',\n        alignItems: 'left',\n    },\n    labelsGrid: {\n        fontWeight: 600,\n        marginTop: theme.spacing(3),\n    },\n}));\n/**\n * This component renders the requirements list\n * @param {*} props\n */\nexport default function CheckboxLabels(props) {\n    const classes = useStyles();\n    const {\n        api, isMutualSSLEnabled, isCertAvailable, isAppLayerSecurityMandatory, isBusinessPlanAvailable,\n    } = props;\n    const isEndpointAvailable = api.endpointConfig !== null && !api.endpointConfig.implementation_status;\n    const isEnvironmentAvailable = api.gatewayEnvironments.length !== 0;\n    const isContainerMngEnvironmentAvailable = api.deploymentEnvironments\n        && api.deploymentEnvironments.some((env) => env.clusterName.length > 0);\n    const isPrototypedAvailable = (api.endpointConfig !== null\n        && api.endpointConfig.implementation_status === 'prototyped')\n        || api.endpointImplementationType === 'INLINE';\n\n    return (\n        <Paper className={classes.paperCenter}>\n            <Grid xs={12}>\n                <Typography variant='h6'>\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.Configuration.requirements'\n                        defaultMessage='Requirements'\n                    />\n                </Typography>\n                <Typography variant='caption'>\n                    <FormattedMessage\n                        id='Apis.Details.Configuration.Configuration.requirements.state.transition'\n                        defaultMessage='Requirements for next state transition'\n                    />\n                </Typography>\n            </Grid>\n            {(api.lifeCycleStatus === 'CREATED' || api.lifeCycleStatus === 'PROTOTYPED') && (\n                <>\n                    <Grid xs={12} className={classes.labelsGrid}>\n                        <Typography variant='subtitle2'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Configuration.publisher'\n                                defaultMessage='Publish'\n                            />\n                        </Typography>\n                    </Grid>\n                    <Grid xs={12}>\n                        <Grid xs={12} className={classes.grid}>\n                            {isEndpointAvailable ? (\n                                <CheckIcon className={classes.iconTrue} />\n                            ) : (\n                                <CloseIcon className={classes.iconFalse} />\n                            )}\n                            <Typography>\n                                <FormattedMessage\n                                    id='Apis.Details.LifeCycle.CheckboxLabels.endpoints.provided'\n                                    defaultMessage='Endpoint provided'\n                                />\n                            </Typography>\n                            <Link to={'/apis/' + api.id + '/endpoints'}>\n                                <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n                            </Link>\n                        </Grid>\n                        <>\n                            {isAppLayerSecurityMandatory && (\n                                <Grid xs={12} className={classes.grid}>\n                                    {isBusinessPlanAvailable ? (\n                                        <CheckIcon className={classes.iconTrue} />\n                                    ) : (\n                                        <CloseIcon className={classes.iconFalse} />\n                                    )}\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.LifeCycle.CheckboxLabels.business.plans.selected'\n                                            defaultMessage='Business Plan(s) selected'\n                                        />\n                                    </Typography>\n                                    <Link to={'/apis/' + api.id + '/subscriptions'}>\n                                        <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n                                    </Link>\n                                </Grid>\n                            )}\n                            {isMutualSSLEnabled && (\n                                <Grid xs={12} className={classes.grid}>\n                                    {isCertAvailable ? (\n                                        <CheckIcon className={classes.iconTrue} />\n                                    ) : (\n                                        <CloseIcon className={classes.iconFalse} />\n                                    )}\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.LifeCycle.CheckboxLabels.cert.provided'\n                                            defaultMessage='Certificate provided'\n                                        />\n                                    </Typography>\n                                    <Link to={'/apis/' + api.id + '/runtime-configuration'}>\n                                        <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n                                    </Link>\n                                </Grid>\n                            ) }\n                        </>\n                        <Grid xs={12} className={classes.grid}>\n                            {isEnvironmentAvailable || isContainerMngEnvironmentAvailable ? (\n                                <CheckIcon className={classes.iconTrue} />\n                            ) : (\n                                <WarningRoundedIcon className={classes.iconWarn} />\n                            )}\n                            <Typography>\n                                <FormattedMessage\n                                    id='Apis.Details.LifeCycle.CheckboxLabels.gateway.environments.selected'\n                                    defaultMessage='Gateway Environment(s) selected'\n                                />\n                            </Typography>\n                            <Link to={'/apis/' + api.id + '/environments'}>\n                                <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n                            </Link>\n                        </Grid>\n                    </Grid>\n                    { api.type !== 'GRAPHQL' && (\n                        <>\n                            <Grid xs={12} className={classes.labelsGrid}>\n                                <Typography variant='subtitle2'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Configuration.Configuration.prototype'\n                                        defaultMessage='Deploy as a Prototype'\n                                    />\n                                </Typography>\n                            </Grid>\n                            <Grid xs={12}>\n                                <Grid xs={12} className={classes.grid}>\n                                    {isPrototypedAvailable ? (\n                                        <CheckIcon className={classes.iconTrue} />\n                                    ) : (\n                                        <CloseIcon className={classes.iconFalse} />\n                                    )}\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.Configuration.Configuration.prototype.endpoints.provided'\n                                            defaultMessage='Prototype Endpoint provided'\n                                        />\n                                    </Typography>\n                                    <Link to={'/apis/' + api.id + '/endpoints'}>\n                                        <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n                                    </Link>\n                                </Grid>\n                                <Grid xs={12} className={classes.grid}>\n                                    {isEnvironmentAvailable || isContainerMngEnvironmentAvailable ? (\n                                        <CheckIcon className={classes.iconTrue} />\n                                    ) : (\n                                        <WarningRoundedIcon className={classes.iconWarn} />\n                                    )}\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.LifeCycle.CheckboxLabels.gateway.environments.selected'\n                                            defaultMessage='Gateway Environment(s) selected'\n                                        />\n                                    </Typography>\n                                    <Link to={'/apis/' + api.id + '/environments'}>\n                                        <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n                                    </Link>\n                                </Grid>\n                            </Grid>\n                        </>\n                    )}\n                </>\n            )}\n            {api.lifeCycleStatus === 'PUBLISHED' && (\n                <>\n                    <Grid xs={12} className={classes.labelsGrid}>\n                        <Typography variant='subtitle2'>\n                            <FormattedMessage\n                                id='Apis.Details.Configuration.Configuration.prototype'\n                                defaultMessage='Deploy as a Prototype'\n                            />\n                        </Typography>\n                    </Grid>\n                    <Grid xs={12}>\n                        <Grid xs={12} className={classes.grid}>\n                            {isPrototypedAvailable ? (\n                                <CheckIcon className={classes.iconTrue} />\n                            ) : (\n                                <CloseIcon className={classes.iconFalse} />\n                            )}\n                            <Typography>\n                                <FormattedMessage\n                                    id='Apis.Details.Configuration.Configuration.prototype.endpoints.provided'\n                                    defaultMessage='Prototype Endpoint provided'\n                                />\n                            </Typography>\n                            <Link to={'/apis/' + api.id + '/endpoints'}>\n                                <LaunchIcon style={{ marginLeft: '2px' }} color='primary' fontSize='small' />\n                            </Link>\n                        </Grid>\n                    </Grid>\n                </>\n            )}\n        </Paper>\n    );\n}\n\nCheckboxLabels.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport Box from '@material-ui/core/Box';\nimport PropTypes from 'prop-types';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport Alert from 'AppComponents/Shared/Alert';\nimport {\n    Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle,\n} from '@material-ui/core/';\nimport Slide from '@material-ui/core/Slide';\n\nconst lifecyclePending = (props) => {\n    const { currentState } = props;\n    const intl = useIntl();\n    const [isOpen, setOpen] = useState(false);\n    const [api, updateAPI] = useAPI();\n    const deleteTask = () => {\n        const { id } = api;\n        api.cleanupPendingTask(id)\n            .then(() => {\n                Alert.info(intl.formatMessage({\n                    id: 'Apis.Details.LifeCycle.LifeCycleUpdate.LifecyclePending.success',\n                    defaultMessage: 'Lifecycle task deleted successfully',\n                }));\n                updateAPI();\n            })\n            .catch((errorResponse) => {\n                console.error(errorResponse);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.LifeCycle.LifeCycleUpdate.LifecyclePending.error',\n                    defaultMessage: 'Error while deleting task',\n                }));\n            });\n    };\n    return (\n        <Paper>\n            <Box display='block' p={2} mt={2}>\n                <Box display='block'>\n                    <Typography variant='h6'>\n                        <FormattedMessage\n                            id='Apis.Details.LifeCycle.LifeCycleUpdate.LifecyclePending.pending'\n                            defaultMessage='Pending lifecycle state change.'\n                        />\n                    </Typography>\n                </Box>\n                <Box display='block' mt={0.5}>\n                    <Typography variant='subtitle2'>\n                        <FormattedMessage\n                            id='Apis.Details.LifeCycle.LifeCycleUpdate.LifecyclePending.current.state'\n                            defaultMessage='Current state is'\n                        />\n                        {' '}\n                        {currentState}\n                    </Typography>\n                </Box>\n                <Box display='flex' mt={2}>\n                    <Button\n                        size='small'\n                        variant='contained'\n                        color='primary'\n                        onClick={() => setOpen(true)}\n                    >\n                        <FormattedMessage\n                            id='Apis.Details.LifeCycle.LifeCycleUpdate.LifecyclePending.delete.task'\n                            defaultMessage='Delete Task'\n                        />\n                    </Button>\n\n                </Box>\n            </Box>\n            <Dialog open={isOpen} transition={Slide}>\n                <DialogTitle>\n                    <FormattedMessage\n                        id='Apis.Details.LifeCycle.LifeCycleUpdate.LifecyclePending.dialog.title'\n                        defaultMessage='Delete Task'\n                    />\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        <FormattedMessage\n                            id='Apis.Details.LifeCycle.LifeCycleUpdate.LifecyclePending.dialog.text.description'\n                            defaultMessage='The life cycle task will be removed'\n                        />\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button dense onClick={() => setOpen(false)}>\n                        <FormattedMessage\n                            id='Apis.Details.LifeCycle.LifeCycleUpdate.LifecyclePending.dialog.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </Button>\n                    <Button\n                        size='small'\n                        variant='text'\n                        color='primary'\n                        onClick={deleteTask}\n                    >\n                        <FormattedMessage\n                            id='Apis.Details.LifeCycle.LifeCycleUpdate.LifecyclePending.dialog,delete'\n                            defaultMessage='Delete'\n                        />\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Paper>\n    );\n};\nlifecyclePending.propTypes = {\n    currentState: PropTypes.string.isRequired,\n};\nexport default lifecyclePending;\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport ApiContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport { injectIntl } from 'react-intl';\nimport API from 'AppData/api';\nimport { CircularProgress } from '@material-ui/core';\nimport { ScopeValidation, resourceMethod, resourcePath } from 'AppData/ScopeValidation';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Banner from 'AppComponents/Shared/Banner';\n\nimport LifeCycleImage from './LifeCycleImage';\nimport CheckboxLabels from './CheckboxLabels';\nimport LifecyclePending from './LifecyclePending';\nimport { API_SECURITY_MUTUAL_SSL_MANDATORY, API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY }\n    from '../Configuration/components/APISecurity/components/apiSecurityConstants';\n\nconst styles = (theme) => ({\n    buttonsWrapper: {\n        marginTop: 40,\n    },\n    stateButton: {\n        marginRight: theme.spacing(),\n    },\n    paperCenter: {\n        padding: theme.spacing(2),\n        display: 'flex',\n        alignItems: 'left',\n        justifyContent: 'left',\n    },\n    subHeading: {\n        fontSize: '1rem',\n        fontWeight: 400,\n        margin: 0,\n        display: 'inline-flex',\n        lineHeight: '38px',\n    },\n});\n\n/**\n *\n *\n * @class LifeCycleUpdate\n * @extends {Component}\n */\nclass LifeCycleUpdate extends Component {\n    /**\n     * @param {*} props @inheritdoc\n     */\n    constructor(props) {\n        super(props);\n        this.updateLifeCycleState = this.updateLifeCycleState.bind(this);\n        this.api = new API();\n        this.WORKFLOW_STATUS = {\n            CREATED: 'CREATED',\n            APPROVED: 'APPROVED',\n        };\n        this.state = {\n            newState: null,\n            isUpdating: null,\n            pageError: null,\n        };\n    }\n\n    /**\n     * @param {*} apiUUID api UUID\n     * @param {*} action life cycle action\n     * @memberof LifeCycleUpdate\n     */\n    updateLCStateOfAPI(apiUUID, action) {\n        this.setState({ isUpdating: action });\n        let promisedUpdate;\n        const lifecycleChecklist = this.props.checkList.map((item) => item.value + ':' + item.checked);\n        if (lifecycleChecklist.length > 0) {\n            promisedUpdate = this.api.updateLcState(apiUUID, action, lifecycleChecklist);\n        } else {\n            promisedUpdate = this.api.updateLcState(apiUUID, action);\n        }\n        promisedUpdate\n            .then((response) => {\n            /* TODO: Handle IO erros ~tmkb */\n                this.props.handleUpdate(true);\n                const newState = response.body.lifecycleState.state;\n                const { workflowStatus } = response.body;\n                this.context.updateAPI({ enableStore: true });\n                this.setState({ newState });\n                const { intl } = this.props;\n\n                if (workflowStatus === this.WORKFLOW_STATUS.CREATED) {\n                    Alert.info(intl.formatMessage({\n                        id: 'Apis.Details.LifeCycle.LifeCycleUpdate.success.createStatus',\n                        defaultMessage: 'Lifecycle state change request has been sent',\n                    }));\n                } else {\n                    Alert.info(intl.formatMessage({\n                        id: 'Apis.Details.LifeCycle.LifeCycleUpdate.success.otherStatus',\n                        defaultMessage: 'Lifecycle state updated successfully',\n                    }));\n                }\n            })\n            .catch((error) => {\n                if (error.response) {\n                    Alert.error(error.response.body.description);\n                    this.setState({ pageError: error.response.body });\n                } else {\n                    // TODO add i18n ~tmkb\n                    const message = 'Something went wrong while updating the lifecycle';\n                    Alert.error(message);\n                    this.setState({ pageError: error.response.body });\n                }\n                console.error(error);\n            })\n            .finally(() => {\n                this.setState({ isUpdating: null });\n            });\n    }\n\n    /**\n     *\n     *\n     * @param {*} event event\n     * @memberof LifeCycleUpdate\n     */\n    updateLifeCycleState(event) {\n        event.preventDefault();\n        let action = event.currentTarget.getAttribute('data-value');\n        if (action === 'Deploy To Test') {\n            action = 'Deploy as a Prototype';\n        }\n        const {\n            api: { id: apiUUID },\n        } = this.props;\n        this.updateLCStateOfAPI(apiUUID, action);\n    }\n\n    /**\n     * @inheritdoc\n     * @memberof LifeCycleUpdate\n     */\n    render() {\n        const {\n            api, lcState, classes, theme, handleChangeCheckList, checkList, certList,\n        } = this.props;\n        const lifecycleStates = [...lcState.availableTransitions];\n        const { newState, pageError } = this.state;\n        const isWorkflowPending = api.workflowStatus && api.workflowStatus === this.WORKFLOW_STATUS.CREATED;\n        const lcMap = new Map();\n        lcMap.set('Published', 'Publish');\n        lcMap.set('Prototyped', 'Deploy as a prototype');\n        lcMap.set('Deprecated', 'Deprecate');\n        lcMap.set('Blocked', 'Block');\n        lcMap.set('Created', 'Create');\n        lcMap.set('Retired', 'Retire');\n        const isPrototype = api.endpointConfig && api.endpointConfig.implementation_status === 'prototyped';\n        const isMutualSSLEnabled = api.securityScheme.includes(API_SECURITY_MUTUAL_SSL_MANDATORY);\n        const isAppLayerSecurityMandatory = api.securityScheme.includes(\n            API_SECURITY_OAUTH_BASIC_AUTH_API_KEY_MANDATORY,\n        );\n        const isCertAvailable = certList.length !== 0;\n        const isBusinessPlanAvailable = api.policies.length !== 0;\n        const lifecycleButtons = lifecycleStates.map((item) => {\n            const state = { ...item, displayName: item.event };\n            if (state.event === 'Deploy as a Prototype') {\n                let { displayName } = state;\n                if (lcState.state === 'Prototyped') {\n                    displayName = 'Redeploy';\n                }\n                return {\n                    ...state,\n                    displayName,\n                    disabled: !isPrototype || api.endpointConfig == null,\n                };\n            }\n            if (state.event === 'Publish') {\n                let { displayName } = state;\n                if (lcState.state === 'Published') {\n                    displayName = 'Redeploy';\n                }\n                return {\n                    ...state,\n                    displayName,\n                    disabled:\n                        api.endpointConfig === null\n                        || (isMutualSSLEnabled && !isCertAvailable)\n                        || (isAppLayerSecurityMandatory && !isBusinessPlanAvailable)\n                        || api.endpointConfig.implementation_status === 'prototyped',\n                };\n            }\n            return {\n                ...state,\n                disabled: false,\n            };\n        });\n        return (\n            <Grid container>\n                {isWorkflowPending ? (\n                    <Grid item xs={12}>\n                        <LifecyclePending currentState={lcState.state} />\n                    </Grid>\n                ) : (\n                    <Grid item xs={12}>\n                        {theme.custom.lifeCycleImage ? (\n                            <img src={theme.custom.lifeCycleImage} alt='life cycles' />\n                        ) : (\n                            <Grid container spacing={3}>\n                                <Grid item xs={8}>\n                                    <LifeCycleImage lifeCycleStatus={newState || api.lifeCycleStatus} />\n                                </Grid>\n                                {(api.lifeCycleStatus === 'CREATED'\n                                    || api.lifeCycleStatus === 'PROTOTYPED') && (\n                                    <Grid item xs={3}>\n                                        <CheckboxLabels\n                                            api={api}\n                                            isMutualSSLEnabled={isMutualSSLEnabled}\n                                            isAppLayerSecurityMandatory={isAppLayerSecurityMandatory}\n                                            isCertAvailable={isCertAvailable}\n                                            isBusinessPlanAvailable={isBusinessPlanAvailable}\n                                        />\n                                    </Grid>\n                                )}\n                            </Grid>\n                        )}\n                    </Grid>\n                )}\n                <Grid item xs={12}>\n                    {!isWorkflowPending && (\n                        <FormGroup row>\n                            {checkList.map((checkItem, index) => (\n                                <FormControlLabel\n                                    key={checkList[index].value}\n                                    control={(\n                                        <Checkbox\n                                            checked={checkList[index].checked}\n                                            onChange={handleChangeCheckList(index)}\n                                            value={checkList[index].value}\n                                            color='primary'\n                                        />\n                                    )}\n                                    label={checkList[index].label}\n                                />\n                            ))}\n                        </FormGroup>\n                    )}\n                    <ScopeValidation resourcePath={resourcePath.API_CHANGE_LC} resourceMethod={resourceMethod.POST}>\n                        <div className={classes.buttonsWrapper}>\n                            {!isWorkflowPending\n                                && lifecycleButtons.map((transitionState) => {\n                                    /* Skip when transitions available for current state ,\n                            this occurs in states where have allowed re-publishing in prototype and published sates */\n                                    return (\n                                        <Button\n                                            disabled={transitionState.disabled || this.state.isUpdating}\n                                            variant='contained'\n                                            color='primary'\n                                            className={classes.stateButton}\n                                            key={transitionState.event}\n                                            data-value={transitionState.event}\n                                            onClick={this.updateLifeCycleState}\n                                        >\n                                            {transitionState.displayName}\n                                            {this.state.isUpdating === transitionState.event && (\n                                                <CircularProgress size={18} />\n                                            )}\n                                        </Button>\n                                    );\n                                })}\n                        </div>\n                    </ScopeValidation>\n                </Grid>\n                {/* Page error banner */}\n                {pageError && (\n                    <Grid item xs={11}>\n                        <Banner\n                            onClose={() => this.setState({ pageError: null })}\n                            disableActions\n                            dense\n                            paperProps={{ elevation: 1 }}\n                            type='error'\n                            message={pageError}\n                        />\n                    </Grid>\n                )}\n                {/* end of Page error banner */}\n            </Grid>\n        );\n    }\n}\n\nLifeCycleUpdate.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({}).isRequired,\n    checkList: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    lcState: PropTypes.shape({}).isRequired,\n    handleChangeCheckList: PropTypes.func.isRequired,\n    handleUpdate: PropTypes.func.isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n};\n\nLifeCycleUpdate.contextType = ApiContext;\n\nexport default withStyles(styles, { withTheme: true })(injectIntl(LifeCycleUpdate));\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Person from '@material-ui/icons/Person';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { FormattedMessage } from 'react-intl';\n\nconst styles = (theme) => ({\n    firstCol: {\n        width: 100,\n    },\n    personIcon: {\n        fontSize: theme.typography.fontSize,\n    },\n    avatar: {\n        width: 25,\n        height: 25,\n    },\n});\nconst LifeCycleHistory = (props) => {\n    const { classes } = props;\n    return (\n        <Paper>\n            <Table className={classes.table}>\n                <TableHead>\n                    <TableRow>\n                        <TableCell className={classes.firstCol}>\n                            <FormattedMessage id='Apis.Details.LifeCycle.LifeCycleHistory.user' defaultMessage='User' />\n                        </TableCell>\n                        <TableCell>\n                            <FormattedMessage\n                                id='Apis.Details.LifeCycle.LifeCycleHistory.action'\n                                defaultMessage='Action'\n                            />\n                        </TableCell>\n                        <TableCell>\n                            <FormattedMessage id='Apis.Details.LifeCycle.LifeCycleHistory.time' defaultMessage='Time' />\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {props.lcHistory.reverse().map((entry) => entry.previousState && (\n                        <TableRow key={entry.postState}>\n                            <TableCell component='th' scope='row'>\n                                <Avatar className={classes.avatar}>\n                                    <Person className={classes.personIcon} />\n                                </Avatar>\n                                <div>{entry.user}</div>\n                            </TableCell>\n                            <TableCell>\n                                <FormattedMessage\n                                    id='Apis.Details.LifeCycle.LifeCycleHistory.lifecycle.state.history'\n                                    defaultMessage='LC has changed from {previous} to {post}'\n                                    values={{ previous: entry.previousState, post: entry.postState }}\n                                />\n                            </TableCell>\n                            <TableCell>{moment(entry.updatedTime).fromNow()}</TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    );\n};\nLifeCycleHistory.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    lcHistory: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n};\nexport default withStyles(styles)(LifeCycleHistory);\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport PropTypes from 'prop-types';\nimport Api from 'AppData/api';\nimport { Progress } from 'AppComponents/Shared';\nimport { withStyles } from '@material-ui/core/styles';\nimport { FormattedMessage } from 'react-intl';\nimport { isRestricted } from 'AppData/AuthManager';\nimport ApiContext from 'AppComponents/Apis/Details/components/ApiContext';\n\nimport LifeCycleUpdate from './LifeCycleUpdate';\nimport LifeCycleHistory from './LifeCycleHistory';\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1,\n        marginTop: 10,\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    historyHead: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n});\n/**\n *\n *\n * @class LifeCycle\n * @extends {Component}\n */\nclass LifeCycle extends Component {\n    /**\n     * Creates an instance of LifeCycle.\n     * @param {Object} props\n     * @memberof LifeCycle\n     */\n    constructor(props) {\n        super(props);\n        this.api = new Api();\n        this.state = {\n            lcHistory: null,\n            checkList: [],\n            certList: [],\n        };\n        this.updateData = this.updateData.bind(this);\n        this.handleChangeCheckList = this.handleChangeCheckList.bind(this);\n    }\n\n    /**\n     *\n     * @inheritdoc\n     * @memberof LifeCycle\n     */\n    componentDidMount() {\n        this.updateData();\n    }\n\n    handleChangeCheckList = (index) => (event, checked) => {\n        const { checkList } = this.state;\n        checkList[index].checked = checked;\n        this.setState({ checkList });\n    };\n\n    /**\n     *\n     *\n     * @memberof LifeCycle\n     */\n    updateData() {\n        const { api: { id } } = this.props;\n        const promisedAPI = Api.get(id);\n        const promisedLcState = this.api.getLcState(id);\n        const privateJetModeEnabled = false;\n        const promisedLcHistory = this.api.getLcHistory(id);\n        const promisedClientCerts = Api.getAllClientCertificates(id);\n        Promise.all([promisedAPI, promisedLcState, promisedLcHistory, promisedClientCerts])\n            .then((response) => {\n                const api = response[0];\n                const lcState = response[1].body;\n                const lcHistory = response[2].body.list;\n                const clientCerts = response[3].body;\n\n                if (privateJetModeEnabled) {\n                    if (!api.hasOwnGateway) {\n                        const transitions = lcState.availableTransitionBeanList;\n                        const PUBLISHED = 'Published';\n\n                        for (const transition of transitions) {\n                            if (transition.targetState === PUBLISHED && lcState.state !== PUBLISHED) {\n                                const publishInPrivateJetMode = {\n                                    event: 'Publish In Private Jet Mode',\n                                    targetState: 'Published In Private Jet Mode',\n                                };\n                                lcState.availableTransitionBeanList.push(publishInPrivateJetMode);\n                            }\n                        }\n                    }\n                }\n                // Creating checklist\n                const checkList = [];\n                let index = 0;\n                for (const item of lcState.checkItems) {\n                    checkList.push({\n                        index,\n                        label: item.name,\n                        value: item.name,\n                        checked: false,\n                    });\n                    index++;\n                }\n                this.setState({\n                    api,\n                    lcState,\n                    lcHistory,\n                    privateJetModeEnabled,\n                    checkList,\n                    certList: [...clientCerts.certificates],\n                });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n            });\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof LifeCycle\n     */\n    render() {\n        const { classes } = this.props;\n        const {\n            api, lcState, privateJetModeEnabled, checkList, lcHistory, certList,\n        } = this.state;\n        const apiFromContext = this.context.api;\n        if (apiFromContext && isRestricted(['apim:api_publish'], apiFromContext)) {\n            return (\n                <Grid container direction='row' alignItems='center' spacing={4} style={{ marginTop: 20 }}>\n                    <Grid item>\n                        <Typography variant='body2' color='primary'>\n                            <FormattedMessage\n                                id='Apis.Details.LifeCycle.LifeCycle.change.not.allowed'\n                                defaultMessage={\n                                    '* You are not authorized to change the life cycle state of the API'\n                                    + ' due to insufficient permissions'\n                                }\n                            />\n                        </Typography>\n                    </Grid>\n                </Grid>\n            );\n        }\n        if (!lcState) {\n            return <Progress />;\n        }\n        return (\n            <>\n                <Typography variant='h4' gutterBottom>\n                    <FormattedMessage id='Apis.Details.LifeCycle.LifeCycle.lifecycle' defaultMessage='Lifecycle' />\n                </Typography>\n                <div className={classes.contentWrapper}>\n                    <Grid container>\n                        <Grid item xs={12}>\n                            <LifeCycleUpdate\n                                handleUpdate={this.updateData}\n                                lcState={lcState}\n                                checkList={checkList}\n                                handleChangeCheckList={this.handleChangeCheckList}\n                                api={api}\n                                privateJetModeEnabled={privateJetModeEnabled}\n                                certList={certList}\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            {lcHistory.length > 1 && (\n                                <div>\n                                    <Typography variant='h6' gutterBottom className={classes.historyHead}>\n                                        <FormattedMessage\n                                            id='Apis.Details.LifeCycle.LifeCycle.history'\n                                            defaultMessage='History'\n                                        />\n                                    </Typography>\n                                    <LifeCycleHistory lcHistory={lcHistory} />\n                                </div>\n                            )}\n                        </Grid>\n                    </Grid>\n                </div>\n            </>\n        );\n    }\n}\n\nLifeCycle.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({}).isRequired,\n};\n\nLifeCycle.contextType = ApiContext;\n\nexport default withStyles(styles)(LifeCycle);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport green from '@material-ui/core/colors/green';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Icon from '@material-ui/core/Icon';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Dropzone from 'react-dropzone';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport Api from 'AppData/api';\nimport APIProduct from 'AppData/APIProduct';\nimport APIValidation from 'AppData/APIValidation';\nimport AppContext from 'AppComponents/Shared/AppContext';\nimport Alert from 'AppComponents/Shared/Alert';\n\nconst styles = theme => ({\n    button: {\n        marginLeft: theme.spacing(2),\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    addNewOther: {\n        padding: theme.spacing(2),\n    },\n    radioGroup: {\n        display: 'flex',\n        flexDirection: 'row',\n        width: 300,\n    },\n    expansionPanel: {\n        marginBottom: theme.spacing(1),\n    },\n    group: {\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    formControlFirst: {\n        display: 'block',\n    },\n    formControl: {\n        display: 'block',\n        marginTop: 20,\n    },\n    formControlLabel: {\n        background: '#efefef',\n        borderRadius: 5,\n        paddingRight: 10,\n        marginLeft: 0,\n        marginTop: 10,\n    },\n    typeTextWrapper: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n    },\n    FormControlOdd: {\n        padding: 0,\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        marginTop: 0,\n    },\n    acceptDrop: {\n        backgroundColor: green[50],\n    },\n    dropzone: {\n        border: '1px dashed ' + theme.palette.primary.main,\n        borderRadius: '5px',\n        cursor: 'pointer',\n        height: 75,\n        padding: `${theme.spacing(2)}px 0px`,\n        position: 'relative',\n        textAlign: 'center',\n        width: '100%',\n        margin: '10px 0',\n    },\n    dropZoneWrapper: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        '& span.material-icons': {\n            color: theme.palette.primary.main,\n        },\n    },\n    uploadedFile: {\n        fontSize: 11,\n    },\n});\n\nclass CreateEditForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            type: 'HOWTO',\n            sourceType: 'INLINE',\n            name: '',\n            summary: '',\n            sourceUrl: '',\n            file: null,\n            disableName: false,\n            otherTypeName: null,\n            nameNotDuplicate: true,\n            nameMaxLengthExceeds: false,\n            invalidUrl: true,\n            nameEmpty: false,\n            summeryEmpty: false,\n            urlEmpty: false,\n            visibility: 'API_LEVEL'\n        };\n    }\n\n    changeType = (e) => {\n        const { value } = e.target;\n        if (value === 'PUBLIC_FORUM' || value === 'SUPPORT_FORUM') {\n            this.setState({ type: 'URL' });\n        }\n        this.setState({ type: value });\n    };\n    changeSource = (e) => {\n        const { value } = e.target;\n        this.validate();\n        this.setState({ sourceType: value });\n    };\n    setDisable = (item) => {\n        const { type } = this.state;\n        if (item === 'INLINE' || item === 'MARKDOWN' || item === 'FILE') {\n            if (type === 'PUBLIC_FORUM' || type === 'SUPPORT_FORUM') {\n                return true;\n            }\n        }\n    };\n    handleChange = name => (e) => {\n        const { value } = e.target;\n        if (name === 'name') {\n            this.setState({ name: value });\n        } else if (name === 'summary') {\n            this.setState({ summary: value });\n        } else if (name === 'sourceUrl') {\n            this.setState({ sourceUrl: value });\n        } else if (name === 'otherTypeName') {\n            this.setState({ otherTypeName: value });\n        }else if (name === 'visibility') {\n            this.setState({ visibility: value });\n        }\n    };\n\n    onDrop = (acceptedFile) => {\n        this.setState({ file: acceptedFile });\n    };\n\n    addDocument = (apiId) => {\n        const { apiType } = this.props;\n        const restAPI = apiType === Api.CONSTS.APIProduct ? new APIProduct() : new Api();\n        const {\n            name, type, summary, sourceType, sourceUrl, file, otherTypeName, visibility,\n        } = this.state;\n        const docPromise = restAPI.addDocument(apiId, {\n            name,\n            type,\n            summary,\n            sourceType,\n            visibility,\n            sourceUrl,\n            otherTypeName,\n            inlineContent: '',\n        });\n        return { docPromise, file };\n    };\n    updateDocument = (apiId) => {\n        const { apiType } = this.props;\n        const restAPI = apiType === Api.CONSTS.APIProduct ? new APIProduct() : new Api();\n        const {\n            name, type, summary, sourceType, sourceUrl, file, otherTypeName, visibility,\n        } = this.state;\n        const { docId } = this.props;\n        const docPromise = restAPI.updateDocument(apiId, docId, {\n            name,\n            type,\n            summary,\n            sourceType,\n            visibility,\n            sourceUrl,\n            otherTypeName,\n            inlineContent: '',\n        });\n        return { docPromise, file };\n    };\n    getDocument() {\n        const { apiId, docId, apiType } = this.props;\n        const restAPI = apiType === Api.CONSTS.APIProduct ? new APIProduct() : new Api();\n        if (docId && apiId) {\n            const docPromise = restAPI.getDocument(apiId, docId);\n            docPromise\n                .then((doc) => {\n                    const {\n                        name, type, summary, sourceType, sourceUrl, otherTypeName, visibility,\n                    } = doc.body;\n                    this.setState({\n                        name,\n                        type,\n                        summary,\n                        sourceType,\n                        sourceUrl,\n                        otherTypeName,\n                        visibility,\n                    });\n                })\n                .catch((error) => {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.log(error);\n                    }\n                    const { status } = error;\n                    if (status === 404) {\n                        this.setState({ apiNotFound: true });\n                    }\n                });\n        }\n    }\n    validate(field=null, value=null) {\n        let invalidUrl = false;\n        if (field === 'url') {\n            invalidUrl = value ? APIValidation.url.validate(value).error : false;\n            this.setState({ invalidUrl });\n            if (value === '') {\n                this.setState({ urlEmpty: true });\n            } else {\n                this.setState({ urlEmpty: false });\n            }\n        } else if (field === 'name') {\n            if (value) {\n                const promise = APIValidation.apiDocument.validate({ id: this.props.apiId, name: value });\n                promise\n                    .then((isDocumentPresent) => {\n                        this.setState({ nameNotDuplicate: !isDocumentPresent });\n                    })\n                    .catch((error) => {\n                        if (error.status === 404) {\n                            this.setState({ nameNotDuplicate: true });\n                        } else {\n                            Alert.error('Error when validating document name');\n                        }\n                    });\n            } else {\n                this.setState({ nameNotDuplicate: true });\n            }\n\n            if (value === '') {\n                this.setState({ nameEmpty: true, nameMaxLengthExceeds: false });\n            } else if (value && value.length > 60) {\n                this.setState({ nameEmpty: false, nameMaxLengthExceeds: true });\n            } else {\n                this.setState({ nameEmpty: false, nameMaxLengthExceeds: false });\n            }\n        } else if (field === 'summary') {\n            if (value === '') {\n                this.setState({ summeryEmpty: true });\n            } else {\n                this.setState({ summeryEmpty: false });\n            }\n        }\n    }\n    componentDidMount() {\n        this.getDocument();\n        const { apiId, docId } = this.props;\n        if (apiId && docId) {\n            this.setState({ disableName: true });\n        }\n    }\n    showNameHelper() {\n        const { nameEmpty, nameNotDuplicate, nameMaxLengthExceeds } = this.state;\n        if (nameMaxLengthExceeds) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Documents.CreateEditForm.exceeds.document.name.length.helper.text'\n                    defaultMessage='Document name exceeds the maximum length of 60 characters'\n                />\n            );\n        } else if (nameNotDuplicate && !nameEmpty) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Documents.CreateEditForm.document.name.helper.text'\n                    defaultMessage='Provide the name for the document'\n                />\n            );\n        } else if (nameEmpty) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Documents.CreateEditForm.empty.document.name.helper.text'\n                    defaultMessage='Document name cannot be empty'\n                />\n            );\n        } else {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Documents.CreateEditForm.duplicate.document.name.helper.text'\n                    defaultMessage='Duplicate document name'\n                />\n            );\n        }\n    }\n    getUrlHelperText() {\n        const { invalidUrl, urlEmpty} = this.state;\n\n        if (invalidUrl) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Documents.CreateEditForm.source.url.helper.text.error.invalid'\n                    defaultMessage='Enter a valid URL to the source'\n                />\n            );\n        } else if (urlEmpty) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Documents.CreateEditForm.source.url.helper.text.error.empty'\n                    defaultMessage='URL Field cannot be empty'\n                />\n            );\n        } else {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Documents.CreateEditForm.source.url.helper.text'\n                    defaultMessage='Provide the URL to the source'\n                />\n            );\n        }\n    }\n    render() {\n        const {\n            name,\n            type,\n            summary,\n            sourceType,\n            sourceUrl,\n            file,\n            disableName,\n            otherTypeName,\n            invalidUrl,\n            nameNotDuplicate,\n            nameMaxLengthExceeds,\n            nameEmpty,\n            summeryEmpty,\n            urlEmpty,\n            visibility\n        } = this.state;\n        const { classes, setSaveDisabled } = this.props;\n        const { settings: settingsContext } = this.context;\n        if (\n            name !== '' &&\n            summary !== '' &&\n            nameNotDuplicate &&\n            !nameMaxLengthExceeds &&\n            ((!invalidUrl && sourceUrl !== '') || sourceType !== 'URL')\n        ) {\n            setSaveDisabled(false);\n        } else {\n            setSaveDisabled(true);\n        }\n        return (\n            <div className={classes.addNewOther}>\n                <FormControl margin='normal' className={classes.FormControlOdd}>\n                    <TextField\n                        fullWidth\n                        InputProps={{\n                            onBlur: ({ target: { value } }) => {\n                                this.validate('name', value);\n                            },\n                        }}\n                        label={\n                            <FormattedMessage\n                                id='Apis.Details.Documents.CreateEditForm.document.name'\n                                defaultMessage='Name *'\n                            />\n                        }\n                        helperText={this.showNameHelper()}\n                        type='text'\n                        variant='outlined'\n                        name='name'\n                        margin='normal'\n                        value={name}\n                        onChange={this.handleChange('name')}\n                        InputLabelProps={{\n                            shrink: true,\n                        }}\n                        autoFocus\n                        disabled={disableName}\n                        error={!nameNotDuplicate || nameEmpty || nameMaxLengthExceeds}\n                    />\n                </FormControl>\n                <FormControl margin='normal' className={classes.FormControlOdd}>\n                    <TextField\n                        fullWidth\n                        multiline\n                        InputProps={{\n                            onBlur: ({ target: { value } }) => {\n                                this.validate('summary', value);\n                            },\n                            onKeyUp: ({ target: { value } }) => {\n                                this.validate('summary', value);\n                            },\n                        }}\n                        margin='normal'\n                        variant='outlined'\n                        label={\n                            <FormattedMessage\n                                id='Apis.Details.Documents.CreateEditForm.document.summary'\n                                defaultMessage='Summary *'\n                            />\n                        }\n                        helperText={\n                            summeryEmpty ? (\n                                <FormattedMessage\n                                    id='Apis.Details.Documents.CreateEditForm.document.summary.error.empty'\n                                    defaultMessage='Document summary can not be empty'\n                                />\n                            ) : (\n                                <FormattedMessage\n                                    id='Apis.Details.Documents.CreateEditForm.document.summary.helper.text'\n                                    defaultMessage='Provide a brief description for the document'\n                                />\n                            )\n                        }\n                        type='text'\n                        name='summary'\n                        margin='normal'\n                        value={summary}\n                        onChange={this.handleChange('summary')}\n                        InputLabelProps={{\n                            shrink: true,\n                        }}\n                        error={summeryEmpty}\n                    />\n                </FormControl>\n                {settingsContext.docVisibilityEnabled && \n                <FormControl margin='normal' className={classes.FormControlOdd}>\n                <TextField\n                    fullWidth\n                    id='docVisibility-selector'\n                    select\n                    variant='outlined'\n                    label={\n                        <FormattedMessage\n                            id='Apis.Details.Documents.CreateEditForm.document.docVisibility'\n                            defaultMessage='Document Visibility'\n                        />\n                    }\n                    helperText={\n                        summeryEmpty ? (\n                            <FormattedMessage\n                                id='Apis.Details.Documents.CreateEditForm.document.summary.error.empty'\n                                defaultMessage='Document summary can not be empty'\n                            />\n                        ) : (\n                            <FormattedMessage\n                                id='Apis.Details.Documents.CreateEditForm.document.summary.helper.text'\n                                defaultMessage='Provide a brief description for the document'\n                            />\n                        )\n                    }\n                    type='text'\n                    name='visibility'\n                    margin='normal'\n                    value={visibility}\n                    onChange={this.handleChange('visibility')}\n                    error={summeryEmpty}\n                >\n                    <MenuItem value='API_LEVEL'>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.CreateEditForm.document.docVisibility.dropdown.public'\n                            defaultMessage='Same as API Visibility'\n                        />\n                    </MenuItem>\n                    <MenuItem value='PRIVATE'>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.CreateEditForm.document.docVisibility.dropdown.private'\n                            defaultMessage='Private'\n                        />\n                    </MenuItem>\n                    <MenuItem value='OWNER_ONLY'>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.CreateEditForm.document.docVisibility.dropdown.ownerOnly'\n                            defaultMessage='Owner Only'\n                        />\n                    </MenuItem>\n                </TextField>\n            </FormControl>}\n                <FormControl component='fieldset' className={classes.formControlFirst}>\n                    <FormLabel component='legend'>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.CreateEditForm.document.create.type'\n                            defaultMessage='Type'\n                        />\n                    </FormLabel>\n                    <RadioGroup\n                        aria-label='Type'\n                        name='type'\n                        className={classes.group}\n                        value={type}\n                        onChange={this.changeType}\n                    >\n                        <FormControlLabel\n                            className={classes.formControlLabel}\n                            value='HOWTO'\n                            control={<Radio />}\n                            label={\n                                <div className={classes.typeTextWrapper}>\n                                    <Icon>help_outline</Icon>\n                                    <div>\n                                        <FormattedMessage\n                                            id='Apis.Details.Documents.CreateEditForm.document.create.type.how.to'\n                                            defaultMessage='How To'\n                                        />\n                                    </div>\n                                </div>\n                            }\n                        />\n                        <FormControlLabel\n                            className={classes.formControlLabel}\n                            value='SAMPLES'\n                            control={<Radio />}\n                            label={\n                                <div className={classes.typeTextWrapper}>\n                                    <Icon>code</Icon>\n                                    <div>\n                                        <FormattedMessage\n                                            id='Apis.Details.Documents.CreateEditForm.document.create.type.sample'\n                                            defaultMessage='Sample &amp; SDK'\n                                        />\n                                    </div>\n                                </div>\n                            }\n                        />\n                        <FormControlLabel\n                            className={classes.formControlLabel}\n                            value='PUBLIC_FORUM'\n                            control={<Radio />}\n                            label={\n                                <div className={classes.typeTextWrapper}>\n                                    <Icon>forum</Icon>\n                                    <div>\n                                        <FormattedMessage\n                                            id='Apis.Details.Documents.CreateEditForm.document.create.type.public.forum'\n                                            defaultMessage='Public Forum'\n                                        />\n                                    </div>\n                                </div>\n                            }\n                        />\n                        <FormControlLabel\n                            className={classes.formControlLabel}\n                            value='SUPPORT_FORUM'\n                            control={<Radio />}\n                            label={\n                                <div className={classes.typeTextWrapper}>\n                                    <Icon>forum</Icon>\n                                    <div>\n                                        <FormattedMessage\n                                            id={\n                                                'Apis.Details.Documents.CreateEditForm.document.create.type.support.' +\n                                                'forum'\n                                            }\n                                            defaultMessage='Support Forum'\n                                        />\n                                    </div>\n                                </div>\n                            }\n                        />\n                        <FormControlLabel\n                            className={classes.formControlLabel}\n                            value='OTHER'\n                            control={<Radio />}\n                            label={\n                                <div className={classes.typeTextWrapper}>\n                                    <Icon>video_label</Icon>\n                                    <div>\n                                        <FormattedMessage\n                                            id='Apis.Details.Documents.CreateEditForm.document.create.type.other'\n                                            defaultMessage='Other'\n                                        />\n                                    </div>\n                                </div>\n                            }\n                        />\n                    </RadioGroup>\n                </FormControl>\n                {type === 'OTHER' && (\n                    <FormControl margin='normal' className={classes.FormControlOdd}>\n                        <TextField\n                            fullWidth\n                            label={\n                                <FormattedMessage\n                                    id={\n                                        'Apis.Details.Documents.CreateEditForm.document.create.type.other.document.' +\n                                        'category'\n                                    }\n                                    defaultMessage='Other Document Type *'\n                                />\n                            }\n                            helperText={\n                                <FormattedMessage\n                                    id={\n                                        'Apis.Details.Documents.CreateEditForm.document.create.type.other.document.' +\n                                        'category.helper.text'\n                                    }\n                                    defaultMessage='Provide the document type'\n                                />\n                            }\n                            type='text'\n                            name='otherTypeName'\n                            margin='normal'\n                            value={otherTypeName}\n                            variant='outlined'\n                            onChange={this.handleChange('otherTypeName')}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                        />\n                    </FormControl>\n                )}\n                <FormControl component='fieldset' className={classes.formControl}>\n                    <FormLabel component='legend'>\n                        <FormattedMessage id='Apis.Details.Documents.CreateEditForm.source' defaultMessage='Source' />\n                    </FormLabel>\n                    <RadioGroup\n                        aria-label='Source'\n                        name='sourceType'\n                        className={classes.group}\n                        value={sourceType}\n                        onChange={this.changeSource}\n                    >\n                        <FormControlLabel\n                            disabled={this.setDisable('INLINE')}\n                            value='INLINE'\n                            control={<Radio />}\n                            label={\n                                <FormattedMessage\n                                    id='Apis.Details.Documents.CreateEditForm.source.inline'\n                                    defaultMessage='Inline'\n                                />\n                            }\n                        />\n                        <FormControlLabel\n                            disabled={this.setDisable('MARKDOWN')}\n                            value='MARKDOWN'\n                            control={<Radio />}\n                            label={\n                                <FormattedMessage\n                                    id='Apis.Details.Documents.CreateEditForm.source.markdown'\n                                    defaultMessage='Markdown'\n                                />\n                            }\n                        />\n                        <FormControlLabel\n                            disabled={this.setDisable('URL')}\n                            value='URL'\n                            control={<Radio />}\n                            label={\n                                <FormattedMessage\n                                    id='Apis.Details.Documents.CreateEditForm.source.url'\n                                    defaultMessage='URL'\n                                />\n                            }\n                        />\n                        <FormControlLabel\n                            disabled={this.setDisable('FILE')}\n                            value='FILE'\n                            control={<Radio />}\n                            label={\n                                <FormattedMessage\n                                    id='Apis.Details.Documents.CreateEditForm.source.file'\n                                    defaultMessage='File'\n                                />\n                            }\n                        />\n                    </RadioGroup>\n                </FormControl>\n                {sourceType === 'URL' && (\n                    <FormControl margin='normal' className={classes.FormControlOdd}>\n                        <TextField\n                            fullWidth\n                            InputProps={{\n                                onBlur: ({ target: { value } }) => {\n                                    this.validate('url', value);\n                                },\n                                onKeyUp: ({ target: { value } }) => {\n                                    this.validate('url', value);\n                                },\n                            }}\n                            margin='normal'\n                            label={\n                                <FormattedMessage\n                                    id='Apis.Details.Documents.CreateEditForm.source.url.url'\n                                    defaultMessage='URL'\n                                />\n                            }\n                            helperText={this.getUrlHelperText()}\n                            type='text'\n                            name='sourceUrl'\n                            margin='normal'\n                            value={sourceUrl}\n                            onChange={this.handleChange('sourceUrl')}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            error={invalidUrl || urlEmpty}\n                            variant='outlined'\n                        />\n                    </FormControl>\n                )}\n                {sourceType === 'FILE' && (\n                    <Dropzone\n                        multiple={false}\n                        accept='application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/pdf, text/plain'\n                        className={classes.dropzone}\n                        activeClassName={classes.acceptDrop}\n                        rejectClassName={classes.rejectDrop}\n                        onDrop={(dropFile) => {\n                            this.onDrop(dropFile);\n                        }}\n                    >\n                        {({ getRootProps, getInputProps }) => (\n                            <div {...getRootProps()}>\n                                <input {...getInputProps()} />\n                                <div className={classes.dropZoneWrapper}>\n                                    <Icon className={classes.dropIcon} style={{ fontSize: 56 }}>\n                                        cloud_upload\n                                    </Icon>\n                                    {file && file.length > 0 && (\n                                        <div className={classes.uploadedFile}>\n                                            <Icon>file</Icon> {file[0].name}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        )}\n                    </Dropzone>\n                )}\n                {(sourceType === 'INLINE' || sourceType === 'MARKDOWN') && (\n                    <InlineMessage type='info' height={60}>\n                        <div className={classes.contentWrapper}>\n                            <Typography component='p' className={classes.content}>\n                                <FormattedMessage\n                                    id='Apis.Details.Documents.CreateEditForm.document.content.info'\n                                    defaultMessage={\n                                        'Please save the document. The content can be edited in the next ' + 'step.'\n                                    }\n                                />\n                            </Typography>\n                        </div>\n                    </InlineMessage>\n                )}\n            </div>\n        );\n    }\n}\nCreateEditForm.contextType = AppContext;\nCreateEditForm.defaultProps = {\n    apiId: null,\n    docId: null,\n};\nCreateEditForm.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n    docId: PropTypes.shape({}),\n    apiId: PropTypes.shape({}),\n    saveDisabled: PropTypes.bool.isRequired,\n    setSaveDisabled: PropTypes.func.isRequired,\n    apiType: PropTypes.oneOf([Api.CONSTS.API, Api.CONSTS.APIProduct]).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(CreateEditForm));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { FormattedMessage } from 'react-intl';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\n\nfunction GoToEdit(props) {\n    const { doc } = props;\n    const [open, setOpen] = React.useState(true);\n    const { api, isAPIProduct } = useContext(APIContext);\n    const urlPrefix = isAPIProduct ? 'api-products' : 'apis';\n    const listingPath = `/${urlPrefix}/${api.id}/documents`;\n    let docContentEditPath = null;\n    if (doc && doc.body && doc.body.documentId) {\n        docContentEditPath = `/${urlPrefix}/${api.id}/documents/${doc.body.documentId}/edit-content`;\n    }\n\n    let displayAddContent;\n    if (doc.body.sourceType === 'INLINE'  || doc.body.sourceType === 'MARKDOWN') {\n        displayAddContent = true;\n    } else {\n        displayAddContent= false;\n    }\n\n    console.info('printing doc', doc);\n    function handleClose() {\n        setOpen(false);\n    }\n\n    return (\n        <Dialog\n            open={open}\n            onClose={handleClose}\n            aria-labelledby='alert-dialog-title'\n            aria-describedby='alert-dialog-description'\n        >\n            <DialogTitle id='alert-dialog-title'>\n                {' '}\n                <FormattedMessage\n                    id='Apis.Details.Documents.GoToEdit.title'\n                    defaultMessage='Document Created Successfully'\n                />\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id='alert-dialog-description'>\n                    {displayAddContent ? (\n                    <FormattedMessage\n                        id='Apis.Details.Documents.GoToEdit.description.content'\n                        defaultMessage= 'You can add content to the document or go back to the document listing page.'\n                    />\n                    ) : (\n                    <FormattedMessage\n                        id='Apis.Details.Documents.GoToEdit.description.file'\n                        defaultMessage= {'You can go back to the document listing page and upload' + \n                        ' the file by editing the document.'}\n                    />\n                    )}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                {displayAddContent && (<Link\n                    to={{\n                        pathname: docContentEditPath,\n                        state: { doc: doc.body },\n                    }}\n                >\n                    <Button color='primary'>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.GoToEdit.add.content'\n                            defaultMessage='Add Content'\n                        />\n                    </Button>\n                </Link>)}\n                <Link to={listingPath}>\n                    <Button color='primary' autoFocus>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.GoToEdit.back.to.listing'\n                            defaultMessage='Back to Listing'\n                        />\n                    </Button>\n                </Link>\n            </DialogActions>\n        </Dialog>\n    );\n}\nGoToEdit.propTypes = {\n    doc: PropTypes.shape({}).isRequired,\n};\nexport default GoToEdit;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useRef, useContext, useState } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Api from 'AppData/api';\nimport APIProduct from 'AppData/APIProduct';\nimport CreateEditForm from './CreateEditForm';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport GoToEdit from './GoToEdit';\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        marginTop: 10,\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    titleLink: {\n        color: theme.palette.primary.main,\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    addNewWrapper: {\n        backgroundColor: theme.palette.background.paper,\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n        border: 'solid 1px ' + theme.palette.grey['300'],\n        borderRadius: theme.shape.borderRadius,\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(3),\n    },\n    addNewHeader: {\n        padding: theme.spacing(2),\n        backgroundColor: theme.palette.grey['300'],\n        fontSize: theme.typography.h6.fontSize,\n        color: theme.typography.h6.color,\n        fontWeight: theme.typography.h6.fontWeight,\n    },\n    addNewOther: {\n        padding: theme.spacing(2),\n    },\n    button: {\n        marginLeft: theme.spacing(2),\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n    },\n});\n\nfunction Create(props) {\n    const { api, isAPIProduct } = useContext(APIContext);\n    const [newDoc, setNewDoc] = useState(null);\n    const [saveDisabled, setSaveDisabled] = useState(true);\n    const { classes, intl, history } = props;\n    const urlPrefix = isAPIProduct ? 'api-products' : 'apis';\n    const listingPath = `/${urlPrefix}/${api.id}/documents`;\n    const restAPI = api.apiType === Api.CONSTS.APIProduct ? new APIProduct() : new Api();\n    let createEditForm = useRef(null);\n\n    const addDocument = (apiId) => {\n        const promiseWrapper = createEditForm.addDocument(apiId);\n        promiseWrapper.docPromise\n            .then((doc) => {\n                const { documentId, name } = doc.body;\n                if (promiseWrapper.file && documentId) {\n                    const filePromise = restAPI.addFileToDocument(apiId, documentId, promiseWrapper.file[0]);\n                    filePromise\n                        .then((doc) => {\n                            Alert.info(`${name} ${intl.formatMessage({\n                                id: 'Apis.Details.Documents.Create.successful.file.upload.message',\n                                defaultMessage: 'File uploaded successfully.',\n                            })}`);\n                            history.push(listingPath);\n                        })\n                        .catch((error) => {\n                            if (process.env.NODE_ENV !== 'production') {\n                                console.log(error);\n                                Alert.error(intl.formatMessage({\n                                    id: 'Apis.Details.Documents.Create.markdown.editor.upload.error',\n                                    defaultMessage: 'Error uploading the file',\n                                }));\n                            }\n                        });\n                } else {\n                    Alert.info(`${doc.body.name} ${intl.formatMessage({\n                        id: 'Apis.Details.Documents.Create.markdown.editor.success',\n                        defaultMessage: ' added successfully.',\n                    })}`);\n                    setNewDoc(doc);\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.Documents.Create.markdown.editor.add.error',\n                        defaultMessage: 'Error adding the document',\n                    }));\n                }\n            });\n    };\n    return (\n        <React.Fragment>\n            <Grid container spacing={3}>\n                <Grid item sm={12} md={12} />\n                {/*\n            Following two grids control the placement of whole create page\n            For centering the content better use `container` props, but instead used an empty grid item for flexibility\n             */}\n                <Grid item sm={0} md={0} lg={2} />\n                <Grid item sm={12} md={12} lg={8}>\n                    <Grid container spacing={5}>\n                        <Grid item md={12}>\n                            <div className={classes.titleWrapper}>\n                                <Link to={listingPath} className={classes.titleLink}>\n                                    <Typography variant='h5' align='left' className={classes.mainTitle}>\n                                        <FormattedMessage\n                                            id='Apis.Details.Documents.Create.heading'\n                                            defaultMessage='Documents'\n                                        />\n                                    </Typography>\n                                </Link>\n                                <Icon>keyboard_arrow_right</Icon>\n                                <Typography variant='h5'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Documents.Create.title'\n                                        defaultMessage='Add New Document'\n                                    />\n                                </Typography>\n                            </div>\n                        </Grid>\n                        <Grid item md={12}>\n                            <Paper elevation={0}>\n                                <CreateEditForm\n                                    innerRef={(node) => {\n                                        createEditForm = node;\n                                    }}\n                                    apiType={api.apiType}\n                                    apiId={api.id}\n                                    saveDisabled={saveDisabled}\n                                    setSaveDisabled={setSaveDisabled}\n                                />\n                                <Divider />\n\n                                <div className={classes.addNewOther}>\n                                    <Button\n                                        variant='contained'\n                                        color='primary'\n                                        onClick={() => addDocument(api.id)}\n                                        disabled={saveDisabled}\n                                    >\n                                        <FormattedMessage\n                                            id='Apis.Details.Documents.Create.markdown.editor.add.document.button'\n                                            defaultMessage='Add Document'\n                                        />\n                                    </Button>\n                                    <Button className={classes.button} onClick={() => history.push(listingPath)}>\n                                        <FormattedMessage\n                                            id='Apis.Details.Documents.Create.markdown.editor.add.document.cancel.button'\n                                            defaultMessage='Cancel'\n                                        />\n                                    </Button>\n                                </div>\n                            </Paper>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Grid>\n            {newDoc && <GoToEdit doc={newDoc} />}\n        </React.Fragment>\n    );\n}\n\nCreate.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.func.isRequired,\n    apiType: PropTypes.oneOf([Api.CONSTS.API, Api.CONSTS.APIProduct]).isRequired,\n};\n\nexport default injectIntl(withRouter(withStyles(styles)(Create)));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useContext, Suspense, lazy } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Slide from '@material-ui/core/Slide';\nimport Icon from '@material-ui/core/Icon';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport Api from 'AppData/api';\nimport Alert from 'AppComponents/Shared/Alert';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst MonacoEditor = lazy(() => import('react-monaco-editor' /* webpackChunkName: \"MDMonacoEditor\" */));\nconst ReactMarkdown = lazy(() => import('react-markdown' /* webpackChunkName: \"MDReactMarkdown\" */));\n\nconst styles = {\n    appBar: {\n        position: 'relative',\n    },\n    flex: {\n        flex: 1,\n    },\n    popupHeader: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    splitWrapper: {\n        padding: 0,\n    },\n    docName: {\n        alignItems: 'center',\n        display: 'flex',\n    },\n    markdownViewWrapper: {\n        height: '100vh',\n        overflowY: 'auto',\n    },\n    button: {\n        height: 30,\n        marginLeft: 30,\n    },\n};\n\nfunction Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n}\n\nfunction MarkdownEditor(props) {\n    const { intl, showAtOnce, history } = props;\n    const { api, isAPIProduct } = useContext(APIContext);\n    const [isUpdating, setIsUpdating] = useState(false);\n    const [open, setOpen] = useState(showAtOnce);\n    const [code, setCode] = useState(\n        intl.formatMessage({\n            id: 'documents.markdown.editor.default',\n            defaultMessage: '#Enter your markdown content',\n        }),\n    );\n    const toggleOpen = () => {\n        if (!open) updateDoc();\n        if (open && showAtOnce) {\n            const urlPrefix = isAPIProduct ? 'api-products' : 'apis';\n            const listingPath = `/${urlPrefix}/${api.id}/documents`;\n            history.push(listingPath);\n        }\n        setOpen(!open);\n    };\n    const updateCode = newCode => {\n        setCode(newCode);\n    };\n    const editorDidMount = (editor, monaco) => {\n        editor.focus();\n    };\n    const addContentToDoc = () => {\n        const restAPI = new Api();\n        setIsUpdating(true);\n        const docPromise = restAPI.addInlineContentToDocument(api.id, props.docId, 'MARKDOWN', code);\n        docPromise\n            .then(doc => {\n                Alert.info(\n                    `${doc.obj.name} ${intl.formatMessage({\n                        id: 'Apis.Details.Documents.MarkdownEditor.update.success.message',\n                        defaultMessage: 'updated successfully.',\n                    })}`,\n                );\n                toggleOpen();\n                setIsUpdating(false);\n            })\n            .catch(error => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ apiNotFound: true });\n                }\n                setIsUpdating(false);\n            });\n    };\n    const updateDoc = () => {\n        const restAPI = new Api();\n\n        const docPromise = restAPI.getInlineContentOfDocument(api.id, props.docId);\n        docPromise\n            .then(doc => {\n                setCode(doc.text);\n            })\n            .catch(error => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ apiNotFound: true });\n                }\n            });\n    };\n\n    const { classes } = props;\n    return (\n        <div>\n            <Button onClick={toggleOpen}>\n                <Icon>code</Icon>\n                <FormattedMessage\n                    id=\"Apis.Details.Documents.MarkdownEditor.edit.content\"\n                    defaultMessage=\"Edit Content\"\n                />\n            </Button>\n            <Dialog fullScreen open={open} onClose={toggleOpen} TransitionComponent={Transition}>\n                <Paper square className={classes.popupHeader}>\n                    <IconButton color=\"inherit\" onClick={toggleOpen} aria-label=\"Close\">\n                        <Icon>close</Icon>\n                    </IconButton>\n                    <Typography variant=\"h4\" className={classes.docName}>\n                        <FormattedMessage\n                            id=\"Apis.Details.Documents.MarkdownEditor.edit.content.of\"\n                            defaultMessage=\"Edit Content of\"\n                        />{' '}\n                        \"{props.docName}\"\n                    </Typography>\n                    <Button className={classes.button} variant=\"contained\" disabled={isUpdating} color=\"primary\" onClick={addContentToDoc}>\n                        <FormattedMessage\n                            id=\"Apis.Details.Documents.MarkdownEditor.update.content.button\"\n                            defaultMessage=\"Update Content\"\n                        />\n                        {isUpdating && <CircularProgress size={24} />}\n                    </Button>\n                    <Button className={classes.button} onClick={toggleOpen}>\n                        <FormattedMessage\n                            id=\"Apis.Details.Documents.MarkdownEditor.cancel.button\"\n                            defaultMessage=\"Cancel\"\n                        />\n                    </Button>\n                </Paper>\n                <div className={classes.splitWrapper}>\n                    <Grid container spacing={7}>\n                        <Grid item xs={6}>\n                            <Suspense fallback={<CircularProgress />}>\n                                <MonacoEditor\n                                    width=\"100%\"\n                                    height=\"100vh\"\n                                    language=\"markdown\"\n                                    theme=\"vs-dark\"\n                                    value={code}\n                                    options={{ selectOnLineNumbers: true }}\n                                    onChange={updateCode}\n                                    editorDidMount={editorDidMount}\n                                />\n                            </Suspense>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <div className={classes.markdownViewWrapper}>\n                                <Suspense fallback={<CircularProgress />}>\n                                    <ReactMarkdown escapeHtml={false} source={code} />\n                                </Suspense>\n                            </div>\n                        </Grid>\n                    </Grid>\n                </div>\n            </Dialog>\n        </div>\n    );\n}\n\nMarkdownEditor.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(withRouter(withStyles(styles)(MarkdownEditor)));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, {useState, useRef, useContext} from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Slide from '@material-ui/core/Slide';\nimport Icon from '@material-ui/core/Icon';\nimport Paper from '@material-ui/core/Paper';\nimport Alert from 'AppComponents/Shared/Alert';\nimport CreateEditForm from './CreateEditForm';\nimport Api from 'AppData/api';\nimport { isRestricted } from 'AppData/AuthManager';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst styles = {\n    appBar: {\n        position: 'relative',\n    },\n    flex: {\n        flex: 1,\n    },\n    popupHeader: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    splitWrapper: {\n        padding: 0,\n    },\n    docName: {\n        alignItems: 'center',\n        display: 'flex',\n    },\n    button: {\n        height: 30,\n        marginLeft: 30,\n    },\n};\n\nfunction Transition(props) {\n    return <Slide direction='up' {...props} />;\n}\n\nfunction Edit(props) {\n    const restAPI = new Api();\n\n    const { intl, apiType } = props;\n    const [open, setOpen] = useState(false);\n    const [saveDisabled, setSaveDisabled] = useState(false);\n    let createEditForm = useRef(null);\n    const { api } = useContext(APIContext);\n\n    const toggleOpen = () => {\n        setOpen(!open);\n    };\n\n    const updateDoc = () => {\n        const { apiId } = props;\n        const promiseWrapper = createEditForm.updateDocument(apiId);\n        promiseWrapper.docPromise\n            .then((doc) => {\n                const { documentId, name } = doc.body;\n                if (promiseWrapper.file && documentId) {\n                    const filePromise = restAPI.addFileToDocument(apiId, documentId, promiseWrapper.file[0]);\n                    filePromise\n                        .then((doc) => {\n                            Alert.info(`${name} ${intl.formatMessage({\n                                id: 'Apis.Details.Documents.Edit.markdown.editor.upload.success.message',\n                                defaultMessage: 'File uploaded successfully.',\n                            })}`);\n                            props.getDocumentsList();\n                            toggleOpen();\n                        })\n                        .catch((error) => {\n                            if (process.env.NODE_ENV !== 'production') {\n                                console.log(error);\n                                Alert.error(intl.formatMessage({\n                                    id: 'Apis.Details.Documents.Edit.markdown.editor.upload.error.message',\n                                    defaultMessage: 'Error uploading the file.',\n                                }));\n                            }\n                        });\n                } else {\n                    Alert.info(`${name} ${intl.formatMessage({\n                        id: 'Apis.Details.Documents.Edit.markdown.editor.update.success.message',\n                        defaultMessage: 'Updated successfully.',\n                    })}`);\n                    props.getDocumentsList();\n                    toggleOpen();\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.Documents.Edit.markdown.editor.update.error.message',\n                        defaultMessage: 'Error adding the document',\n                    }));\n                }\n            });\n    };\n\n    const { classes, docId, apiId } = props;\n    return (\n        <div>\n            <Button onClick={toggleOpen} disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}>\n                <Icon>edit</Icon>\n                <FormattedMessage\n                    id='Apis.Details.Documents.Edit.documents.text.editor.edit'\n                    defaultMessage='Edit Meta Data'\n                />\n            </Button>\n            <Dialog open={open} onClose={toggleOpen} TransitionComponent={Transition} fullScreen>\n                <Paper square className={classes.popupHeader}>\n                    <IconButton color='inherit' onClick={toggleOpen} aria-label='Close'>\n                        <Icon>close</Icon>\n                    </IconButton>\n                    <Typography variant='h4' className={classes.docName}>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.Edit.documents.text.editor.edit.content'\n                            defaultMessage='Edit '\n                        />\n                        \"{props.docName}\"\n                    </Typography>\n                    <Button className={classes.button} variant='contained' color='primary' onClick={updateDoc} disabled={saveDisabled}>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.Edit.documents.text.editor.update.content'\n                            defaultMessage='Save'\n                        />\n                    </Button>\n                    <Button className={classes.button} onClick={toggleOpen}>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.Edit.documents.text.editor.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </Button>\n                </Paper>\n                <div className={classes.splitWrapper}>\n                    <CreateEditForm\n                        innerRef={(node) => {\n                            createEditForm = node;\n                        }}\n                        docId={docId}\n                        apiId={apiId}\n                        apiType={apiType}\n                        saveDisabled={saveDisabled}\n                        setSaveDisabled={setSaveDisabled}\n                    />\n                </div>\n            </Dialog>\n        </div>\n    );\n}\nEdit.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    apiId: PropTypes.shape({}).isRequired,\n    docId: PropTypes.shape({}).isRequired,\n    getDocumentsList: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({\n        id: PropTypes.string,\n        apiType: PropTypes.oneOf([Api.CONSTS.API, Api.CONSTS.APIProduct]),\n    }).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(Edit));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useContext, useState } from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport API from 'AppData/api.js';\nimport APIProduct from 'AppData/APIProduct';\nimport Icon from '@material-ui/core/Icon';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { isRestricted } from 'AppData/AuthManager';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\n\nfunction Delete(props) {\n    const { intl } = props;\n    const [open, setOpen] = useState(false);\n    const { api } = useContext(APIContext);\n\n    const runAction = (action) => {\n        if (action === 'yes') {\n            deleteDoc();\n        } else {\n            setOpen(!open);\n        }\n    };\n    const toggleOpen = () => {\n        setOpen(!open);\n    };\n    const deleteDoc = () => {\n        const {\n            apiId, docId, getDocumentsList, apiType,\n        } = props;\n        const restApi = apiType === API.CONSTS.APIProduct ? new APIProduct() : new API();\n        const docPromise = restApi.deleteDocument(apiId, docId);\n        docPromise\n            .then(() => {\n                Alert.info(`${intl.formatMessage({\n                    id: 'Apis.Details.Documents.Delete.document.delete.successfully',\n                    defaultMessage: 'deleted successfully.',\n                })}`);\n                setOpen(!open);\n                getDocumentsList();\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ apiNotFound: true });\n                }\n            });\n    };\n\n    const { apiName } = props;\n    return (\n        <div>\n            <Button onClick={toggleOpen} disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}>\n                <Icon>delete_forever</Icon>\n                <FormattedMessage id='Apis.Details.Documents.Delete.document.delete' defaultMessage='Delete' />\n            </Button>\n            <Dialog\n                open={open}\n                onClose={toggleOpen}\n                aria-labelledby='alert-dialog-title'\n                aria-describedby='alert-dialog-description'\n            >\n                <DialogTitle id='alert-dialog-title'>\n                    <FormattedMessage\n                        id='Apis.Details.Documents.Delete.document.listing.delete.confirm.title'\n                        defaultMessage='Delete Document'\n                    />\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText id='alert-dialog-description'>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.Delete.document.listing.delete.confirm.body'\n                            defaultMessage={\n                                'Selected document will be deleted from the API.' +\n                                'You will not be able to undo this action.'\n                            }\n                        />\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => runAction('no')} color='default'>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.Delete.document.listing.delete.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </Button>\n                    <Button onClick={() => runAction('yes')} color='primary' autoFocus>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.Delete.document.listing.delete.yes'\n                            defaultMessage='Yes. Delete'\n                        />\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\nDelete.propTypes = {\n    apiId: PropTypes.shape({}).isRequired,\n    apiType: PropTypes.string.isRequired,\n    docId: PropTypes.shape({}).isRequired,\n    getDocumentsList: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({\n        id: PropTypes.string,\n        apiType: PropTypes.oneOf([API.CONSTS.API, API.CONSTS.APIProduct]),\n    }).isRequired,\n};\n\nexport default injectIntl(Delete);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport API from 'AppData/api.js';\nimport APIProduct from 'AppData/APIProduct';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport Alert from 'AppComponents/Shared/Alert';\n\nfunction DeleteMultiple(props) {\n    const {\n        intl, docsToDelete, docs, getDocumentsList,\n    } = props;\n    const { api, isAPIProduct } = useContext(APIContext);\n    const restApi = isAPIProduct ? new APIProduct() : new API();\n\n    const [open, setOpen] = useState(true);\n\n    const runAction = (action) => {\n        if (action === 'yes') {\n            deleteDocs();\n        } else {\n            setOpen(!open);\n        }\n    };\n    const toggleOpen = () => {\n        setOpen(!open);\n    };\n    const deleteDocs = () => {\n        const docPromises = [];\n\n        docsToDelete.data.map((docIndexObj) => {\n            const doc = docs[docIndexObj.index];\n            docPromises.push(restApi.deleteDocument(api.id, doc.documentId));\n        });\n        Promise.all(docPromises)\n            .then((values) => {\n                console.log(values);\n                Alert.info(`${intl.formatMessage({\n                    id: 'Apis.Details.Documents.Delete.document.delete.successfully',\n                    defaultMessage: 'deleted successfully.',\n                })}`);\n                setOpen(!open);\n                getDocumentsList();\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                    Alert.error(`${intl.formatMessage({\n                        id: 'Apis.Details.Documents.Delete.document.delete.error',\n                        defaultMessage: 'Error while deleting documents!',\n                    })}`);\n                }\n            });\n    };\n    useEffect(() => {\n        setOpen(true);\n    }, [docsToDelete]);\n\n    return (\n        <Dialog\n            open={open}\n            onClose={toggleOpen}\n            aria-labelledby='alert-dialog-title'\n            aria-describedby='alert-dialog-description'\n        >\n            <DialogTitle id='alert-dialog-title'>\n                <FormattedMessage\n                    id='Apis.Details.Documents.Delete.document.listing.delete.confirm.title'\n                    defaultMessage='Delete Selected Documents'\n                />\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id='alert-dialog-description'>\n                    <strong>{api.name}</strong>\n                    <FormattedMessage\n                        id='Apis.Details.Documents.Delete.document.listing.delete.confirm.body'\n                        defaultMessage={\n                            'Selected documents will be deleted from the API.' +\n                            ' You will not be able to undo this action.'\n                        }\n                    />\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={() => runAction('no')} color='default'>\n                    <FormattedMessage\n                        id='Apis.Details.Documents.Delete.document.listing.delete.cancel'\n                        defaultMessage='Cancel'\n                    />\n                </Button>\n                <Button onClick={() => runAction('yes')} color='primary' autoFocus>\n                    <FormattedMessage\n                        id='Apis.Details.Documents.Delete.document.listing.delete.yes'\n                        defaultMessage='Delete'\n                    />\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\nDeleteMultiple.propTypes = {\n    docs: PropTypes.instanceOf(Array).isRequired,\n    getDocumentsList: PropTypes.func.isRequired,\n    docsToDelete: PropTypes.instanceOf(Array).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(DeleteMultiple);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, {useState, useEffect} from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Api from 'AppData/api';\nimport Utils from 'AppData/Utils';\n\nfunction Download(props) {\n    const { intl } = props;\n\n    const { docId, apiId } = props;\n    const [isFileAvailable, setIsFileAvailable] = useState(false);\n    const [isSuccessful, setIsSuccessful] = useState(false);\n\n    useEffect(() => {\n        const api = new Api();\n        const promised_get_content = api.getFileForDocument(apiId, docId);\n        promised_get_content\n            .then((done) => {\n                setIsSuccessful(true);\n                setIsFileAvailable(true);\n            })\n            .catch((error) => {\n                setIsSuccessful(true);\n                setIsFileAvailable(false);\n            });\n    }, []);\n    const handleDownload = () => {\n        const api = new Api();\n        const promised_get_content = api.getFileForDocument(apiId, docId);\n        promised_get_content\n            .then((response) => {\n                Utils.forceDownload(response);\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                    Alert.error(intl.formatMessage({\n                        id:'Apis.Details.Documents.Download.documents.markdown.editor.download.error',\n                        defaultMessage: 'Error downloading the file',\n                    }));\n                }\n            });\n    };\n\n    return (\n        isSuccessful &&\n        <Button onClick={handleDownload} disabled={!isFileAvailable}>\n            <Icon>arrow_downward</Icon>\n            <FormattedMessage\n                id='Apis.Details.Documents.Download.documents.listing.download'\n                defaultMessage='Download'\n            />\n        </Button>\n    );\n}\nDownload.propTypes = {\n    apiId: PropTypes.shape({}).isRequired,\n    docId: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(Download);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { Suspense, lazy } from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport MUIDataTable from 'mui-datatables';\nimport API from 'AppData/api.js';\nimport APIProduct from 'AppData/APIProduct';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport AddCircle from '@material-ui/icons/AddCircle';\nimport Icon from '@material-ui/core/Icon';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { ScopeValidation, resourceMethod, resourcePath } from 'AppData/ScopeValidation';\nimport Create from './Create';\nimport MarkdownEditor from './MarkdownEditor';\nimport Edit from './Edit';\nimport Delete from './Delete';\nimport DeleteMultiple from './DeleteMultiple';\nimport Download from './Download';\n\nconst TextEditor = lazy(() => import('./TextEditor' /* webpackChunkName: \"ListingTextEditor\" */));\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        marginTop: 10,\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    addNewWrapper: {\n        backgroundColor: theme.palette.background.paper,\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n        border: 'solid 1px ' + theme.palette.grey['300'],\n        borderRadius: theme.shape.borderRadius,\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n    addNewHeader: {\n        padding: theme.spacing(2),\n        backgroundColor: theme.palette.grey['300'],\n        fontSize: theme.typography.h6.fontSize,\n        color: theme.typography.h6.color,\n        fontWeight: theme.typography.h6.fontWeight,\n    },\n    addNewOther: {\n        padding: theme.spacing(2),\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: theme.spacing(2),\n    },\n    mainTitle: {\n        paddingRight: 10,\n    },\n    actionTable: {\n        '& td': {\n            width: 50,\n        },\n        '& td:first-child': {\n            width: 130,\n        },\n    },\n    messageBox: {\n        marginTop: 20,\n    },\n    actions: {\n        padding: '20px 0',\n        '& button': {\n            marginLeft: 0,\n        },\n    },\n    head: {\n        fontWeight: 200,\n        marginBottom: 20,\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n});\nfunction LinkGenerator(props) {\n    return props.apiType === 'APIProduct' ? (\n        <Link to={'/api-products/' + props.apiId + '/documents/' + props.docId + '/details'}>{props.docName}</Link>\n    ) : (\n        <Link to={'/apis/' + props.apiId + '/documents/' + props.docId + '/details'}>{props.docName}</Link>\n    );\n}\nclass Listing extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            docs: null,\n            showAddDocs: false,\n            docsToDelete: null,\n        };\n        this.apiId = props.api.id;\n        this.toggleAddDocs = this.toggleAddDocs.bind(this);\n        this.getDocumentsList = this.getDocumentsList.bind(this);\n    }\n    /**\n     * @inheritDoc\n     * @memberof Listing\n     */\n    componentDidMount() {\n        this.getDocumentsList();\n    }\n\n    /*\n     Get the document list attached to current API and set it to the state\n     */\n    getDocumentsList() {\n        const { api, intl } = this.props;\n        if (api.apiType === API.CONSTS.APIProduct) {\n            const apiProduct = new APIProduct();\n            const docs = apiProduct.getDocuments(api.id);\n            docs.then((response) => {\n                this.setState({ docs: response.obj.list });\n            }).catch((errorResponse) => {\n                const errorData = JSON.parse(errorResponse.message);\n                const messageTxt =\n                    'Error[' + errorData.code + ']: ' + errorData.description + ' | ' + errorData.message + '.';\n                console.error(messageTxt);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.Documents.Listing.documents.listing.fetching.error.message.api.product',\n                    defaultMessage: 'Error in fetching documents list of the API Product',\n                }));\n            });\n        } else {\n            const newApi = new API();\n            const docs = newApi.getDocuments(this.props.api.id);\n            docs.then((response) => {\n                this.setState({ docs: response.obj.list });\n            }).catch((errorResponse) => {\n                const errorData = JSON.parse(errorResponse.message);\n                const messageTxt =\n                    'Error[' + errorData.code + ']: ' + errorData.description + ' | ' + errorData.message + '.';\n                console.error(messageTxt);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.Documents.Listing.documents.listing.fetching.error.message',\n                    defaultMessage: 'Error in fetching documents list of the API',\n                }));\n            });\n        }\n    }\n    toggleAddDocs() {\n        this.setState((oldState) => {\n            return { showAddDocs: !oldState.showAddDocs };\n        });\n    }\n    setFoo() {\n        this.setState({ foo: 'test' });\n    }\n    render() {\n        const { classes, api, isAPIProduct } = this.props;\n        const { docs, showAddDocs, docsToDelete } = this.state;\n        const urlPrefix = isAPIProduct ? 'api-products' : 'apis';\n        const url = `/${urlPrefix}/${api.id}/documents/create`;\n        const showActionsColumn = isRestricted(['apim:api_publish', 'apim:api_create'], api) ? 'excluded' : true;\n        const options = {\n            title: false,\n            filter: false,\n            print: false,\n            download: false,\n            viewColumns: false,\n            customToolbar: false,\n            search: false,\n            onRowsDelete: (rowData, rowMeta, that = this) => {\n                that.setState({ docsToDelete: rowData });\n                return false;\n            },\n        };\n        const columns = [\n            {\n                name: 'documentId',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                },\n            },\n            {\n                name: 'name',\n                options: {\n                    customBodyRender: (value, tableMeta) => {\n                        if (tableMeta.rowData) {\n                            const docName = tableMeta.rowData[1];\n                            const docId = tableMeta.rowData[0];\n                            return (\n                                <LinkGenerator\n                                    docName={docName}\n                                    docId={docId}\n                                    apiId={this.apiId}\n                                    apiType={api.apiType}\n                                />\n                            );\n                        }\n                        return null;\n                    },\n                    filter: false,\n                    label: (\n                        <FormattedMessage\n                            id='Apis.Details.Documents.Listing.column.header.name'\n                            defaultMessage='name'\n                        />\n                    ),\n                },\n            },\n            {\n                name: 'sourceType',\n                label: (\n                    <FormattedMessage\n                        id='Apis.Details.Documents.Listing.column.header.source.type'\n                        defaultMessage='sourceType'\n                    />\n                ),\n            },\n            {\n                name: 'type',\n                label: (\n                    <FormattedMessage id='Apis.Details.Documents.Listing.column.header.type' defaultMessage='type' />\n                ),\n            },\n            {\n                name: 'sourceUrl',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                },\n            },\n            {\n                name: 'action',\n                label: (\n                    <FormattedMessage\n                        id='Apis.Details.Documents.Listing.column.header.action'\n                        defaultMessage='action'\n                    />\n                ),\n                options: {\n                    display: showActionsColumn,\n                    customBodyRender: (value, tableMeta) => {\n                        if (tableMeta.rowData) {\n                            const docName = tableMeta.rowData[1];\n                            const docId = tableMeta.rowData[0];\n                            const sourceType = tableMeta.rowData[2];\n                            const sourceUrl = tableMeta.rowData[4];\n                            if (sourceType === 'MARKDOWN') {\n                                return (\n                                    <table className={classes.actionTable}>\n                                        <tr>\n                                            <td>\n                                                <MarkdownEditor docName={docName} docId={docId} apiId={this.apiId} />\n                                            </td>\n                                            <td>\n                                                <Edit\n                                                    apiType={api.apiType}\n                                                    docName={docName}\n                                                    docId={docId}\n                                                    apiId={this.apiId}\n                                                    getDocumentsList={this.getDocumentsList}\n                                                    api\n                                                />\n                                            </td>\n                                            <td>\n                                                <Delete\n                                                    docName={docName}\n                                                    docId={docId}\n                                                    apiId={this.apiId}\n                                                    getDocumentsList={this.getDocumentsList}\n                                                    apiType={api.apiType}\n                                                    api\n                                                />\n                                            </td>\n                                        </tr>\n                                    </table>\n                                );\n                            } else if (sourceType === 'INLINE') {\n                                return (\n                                    <table className={classes.actionTable}>\n                                        <tr>\n                                            <td>\n                                                <Suspense\n                                                    fallback={\n                                                        <FormattedMessage\n                                                            id='Apis.Details.Documents.Listing.loading'\n                                                            defaultMessage='Loading...'\n                                                        />\n                                                    }\n                                                >\n                                                    <TextEditor\n                                                        docName={docName}\n                                                        docId={docId}\n                                                        apiId={this.apiId}\n                                                        apiType={api.apiType}\n                                                    />\n                                                </Suspense>\n                                            </td>\n                                            <td>\n                                                <Edit\n                                                    apiType={api.apiType}\n                                                    docName={docName}\n                                                    docId={docId}\n                                                    apiId={this.apiId}\n                                                    getDocumentsList={this.getDocumentsList}\n                                                    api\n                                                />\n                                            </td>\n                                            <td>\n                                                <Delete\n                                                    docName={docName}\n                                                    docId={docId}\n                                                    apiId={this.apiId}\n                                                    getDocumentsList={this.getDocumentsList}\n                                                    apiType={api.apiType}\n                                                    api\n                                                />\n                                            </td>\n                                        </tr>\n                                    </table>\n                                );\n                            } else if (sourceType === 'URL') {\n                                return (\n                                    <table className={classes.actionTable}>\n                                        <tr>\n                                            <td>\n                                                <a href={sourceUrl}>\n                                                <Button>\n                                                    <Icon>open_in_new</Icon>\n                                                    <FormattedMessage\n                                                        id='Apis.Details.Documents.Listing.documents.open'\n                                                        defaultMessage='Open'\n                                                    />\n                                                </Button>\n                                               </a>  \n                                            </td>\n                                            <td>\n                                                <Edit\n                                                    apiType={api.apiType}\n                                                    docName={docName}\n                                                    docId={docId}\n                                                    apiId={this.apiId}\n                                                    getDocumentsList={this.getDocumentsList}\n                                                    api\n                                                />\n                                            </td>\n                                            <td>\n                                                <Delete\n                                                    docName={docName}\n                                                    docId={docId}\n                                                    apiId={this.apiId}\n                                                    getDocumentsList={this.getDocumentsList}\n                                                    apiType={api.apiType}\n                                                    api\n                                                />\n                                            </td>\n                                        </tr>\n                                    </table>\n                                );\n                            } else if (sourceType === 'FILE') {\n                                return (\n                                    <table className={classes.actionTable}>\n                                        <tr>\n                                            <td>\n                                                <Download docId={docId} apiId={this.apiId} />\n                                            </td>\n                                            <td>\n                                                <Edit\n                                                    apiType={api.apiType}\n                                                    docName={docName}\n                                                    docId={docId}\n                                                    apiId={this.apiId}\n                                                    getDocumentsList={this.getDocumentsList}\n                                                    api\n                                                />\n                                            </td>\n                                            <td>\n                                                <Delete\n                                                    docName={docName}\n                                                    docId={docId}\n                                                    apiId={this.apiId}\n                                                    getDocumentsList={this.getDocumentsList}\n                                                    apiType={api.apiType}\n                                                    api\n                                                />\n                                            </td>\n                                        </tr>\n                                    </table>\n                                );\n                            } else {\n                                return <span />;\n                            }\n                        }\n                        return null;\n                    },\n                    filter: false,\n                },\n            },\n        ];\n\n        return (\n            <React.Fragment>\n                {docsToDelete && (\n                    <DeleteMultiple getDocumentsList={this.getDocumentsList} docsToDelete={docsToDelete} docs={docs} />\n                )}\n                <div className={classes.titleWrapper}>\n                    <Typography variant='h4' className={classes.mainTitle}>\n                        <FormattedMessage\n                            id='Apis.Details.Documents.Listing.documents.listing.title'\n                            defaultMessage='Documents'\n                        />\n                    </Typography>\n                    {docs && docs.length > 0 && (\n                        <Link to={!isRestricted(['apim:api_create', 'apim:api_publish'], api) && url}>\n                            <Button\n                                size='small'\n                                className={classes.button}\n                                disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                            >\n                                <AddCircle className={classes.buttonIcon} />\n                                <FormattedMessage\n                                    id='Apis.Details.Documents.Listing.add.new.document.button'\n                                    defaultMessage='Add New Document'\n                                />\n                            </Button>\n                        </Link>\n                    )}\n                </div>\n                <div>\n                    {showAddDocs && (\n                        <Create\n                            toggleAddDocs={this.toggleAddDocs}\n                            getDocumentsList={this.getDocumentsList}\n                            apiType={api.apiType}\n                        />\n                    )}\n\n                    {docs && docs.length > 0 ? (\n                        <MUIDataTable title='' data={docs} columns={columns} options={options} />\n                    ) : (\n                        <InlineMessage type='info' height={140}>\n                            <div className={classes.contentWrapper}>\n                                <Typography variant='h5' component='h3' className={classes.head}>\n                                    <FormattedMessage\n                                        id='Apis.Details.Documents.Listing.add.new.msg.title'\n                                        defaultMessage='Create Documents'\n                                    />\n                                </Typography>\n                                {api.apiType === API.CONSTS.APIProduct\n                                    ? \n                                <Typography component='p' className={classes.content}>\n                                    <FormattedMessage\n                                        id='Apis.Details.Documents.Listing.APIProduct.add.new.msg.content'\n                                        defaultMessage={\n                                            'You can add different types of documents to an API.' +\n                                            ' Proper documentation helps API publishers to market their ' +\n                                            ' APIs better and sustain competition. '\n                                        }\n                                    />\n                                </Typography>\n                                    : \n                                <Typography component='p' className={classes.content}>\n                                    <FormattedMessage\n                                        id='Apis.Details.Documents.Listing.add.new.msg.content'\n                                        defaultMessage={\n                                            'You can add different types of documents to an API.' +\n                                            ' Proper documentation helps API publishers to market their ' +\n                                            ' APIs better and sustain competition. '\n                                        }\n                                    />\n                                </Typography>\n                                }\n                                <div className={classes.actions}>\n                                    <Link to={!isRestricted(['apim:api_create', 'apim:api_publish'], api) && url}>\n                                        <Button\n                                            variant='contained'\n                                            color='primary'\n                                            className={classes.button}\n                                            disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                                        >\n                                            <FormattedMessage\n                                                id='Apis.Details.Documents.Listing.add.new.msg.button'\n                                                defaultMessage='Add New Document'\n                                            />\n                                        </Button>\n                                    </Link>\n                                </div>\n                            </div>\n                        </InlineMessage>\n                    )}\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nListing.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({\n        id: PropTypes.string,\n        apiType: PropTypes.oneOf([API.CONSTS.API, API.CONSTS.APIProduct]),\n    }).isRequired,\n};\n\nexport default injectIntl(withAPI(withStyles(styles)(Listing)));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect, useContext, Suspense, lazy } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Icon from '@material-ui/core/Icon';\nimport Button from '@material-ui/core/Button';\nimport ReactSafeHtml from 'react-safe-html';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport TableRow from '@material-ui/core/TableRow';\nimport Alert from 'AppComponents/Shared/Alert';\nimport API from 'AppData/api';\nimport APIProduct from 'AppData/APIProduct';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport Utils from 'AppData/Utils';\n\nconst ReactMarkdown = lazy(() => import('react-markdown' /* webpackChunkName: \"ViewReactMD\" */));\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        marginTop: 10,\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    titleLink: {\n        color: theme.palette.primary.main,\n    },\n    docTitle: {\n        fontWeight: 100,\n        fontSize: 50,\n        color: theme.palette.grey[500],\n    },\n    docBadge: {\n        padding: theme.spacing(1),\n        background: theme.palette.primary.main,\n        position: 'absolute',\n        top: 0,\n        marginTop: -22,\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n    },\n    button: {\n        padding: theme.spacing(2),\n        marginTop: theme.spacing(2),\n    },\n    displayURL: {\n        padding: theme.spacing(2),\n        marginTop: theme.spacing(2),\n        background: theme.palette.grey[200],\n        color: theme.palette.getContrastText(theme.palette.grey[200]),\n        display: 'flex',\n    },\n    displayURLLink: {\n        paddingLeft: theme.spacing(2),\n    },\n    paper: {\n        marginTop: 20,\n        padding: theme.spacing(2),\n        height: '100%',\n    },\n    leftCell: {\n        width: 150,\n    },\n});\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nfunction View(props) {\n    const {\n        classes,\n        fullScreen,\n        intl,\n        match: {\n            params: { documentId },\n        },\n    } = props;\n    const { api, isAPIProduct } = useContext(APIContext);\n\n    const [code, setCode] = useState('');\n    const [doc, setDoc] = useState(null);\n    const restAPI = isAPIProduct ? new APIProduct() : new API();\n\n    useEffect(() => {\n        const docPromise = restAPI.getDocument(api.id, documentId);\n        docPromise\n            .then(doc => {\n                const { body } = doc;\n                setDoc(body);\n                if (body.sourceType === 'MARKDOWN' || body.sourceType === 'INLINE') loadContentForDoc();\n            })\n            .catch(error => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n            });\n    }, [documentId]);\n\n    const loadContentForDoc = () => {\n        const docPromise = restAPI.getInlineContentOfDocument(api.id, documentId);\n        docPromise\n            .then(doc => {\n                setCode(doc.text);\n            })\n            .catch(error => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n            });\n    };\n\n    const handleDownload = () => {\n        const promised_get_content = restAPI.getFileForDocument(api.id, documentId);\n        promised_get_content\n            .then(response => {\n                Utils.forceDownload(response);\n            })\n            .catch(error => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                    Alert.error(\n                        intl.formatMessage({\n                            id: 'Apis.Details.Documents.View.error.downloading',\n                            defaultMessage: 'Error downloading the file',\n                        }),\n                    );\n                }\n            });\n    };\n    const urlPrefix = isAPIProduct ? 'api-products' : 'apis';\n    const listingPath = `/${urlPrefix}/${api.id}/documents`;\n    return (\n        doc && (\n            <React.Fragment>\n                <div className={classes.root}>\n                    <div className={classes.titleWrapper}>\n                        <Link to={listingPath} className={classes.titleLink}>\n                            <Typography variant=\"h5\" align=\"left\" className={classes.mainTitle}>\n                                <FormattedMessage id=\"Apis.Details.Documents.View.heading\" defaultMessage=\"Documents\" />\n                            </Typography>\n                        </Link>\n                        <Icon>keyboard_arrow_right</Icon>\n                        <Typography variant=\"h5\">{doc.name}</Typography>\n                    </div>\n                    <Paper className={classes.paper}>\n                        <Table className={classes.table}>\n                            <TableBody>\n                                <TableRow>\n                                    <TableCell className={classes.leftCell}>\n                                        <Typography variant=\"body1\">\n                                            <FormattedMessage\n                                                id=\"Apis.Details.Documents.View.meta.name\"\n                                                defaultMessage=\"Name\"\n                                            />\n                                        </Typography>\n                                    </TableCell>\n                                    <TableCell>\n                                        <Typography variant=\"body1\">{doc.name}</Typography>\n                                    </TableCell>\n                                </TableRow>\n                                <TableRow>\n                                    <TableCell>\n                                        <Typography variant=\"body1\">\n                                            <FormattedMessage\n                                                id=\"Apis.Details.Documents.View.meta.summary\"\n                                                defaultMessage=\"Summary\"\n                                            />\n                                        </Typography>\n                                    </TableCell>\n                                    <TableCell>\n                                        <Typography variant=\"body1\">{doc.summary}</Typography>\n                                    </TableCell>\n                                </TableRow>\n                                <TableRow>\n                                    <TableCell>\n                                        <Typography variant=\"body1\">\n                                            <FormattedMessage\n                                                id=\"Apis.Details.Documents.View.meta.catogery\"\n                                                defaultMessage=\"Categorized as\"\n                                            />\n                                        </Typography>\n                                    </TableCell>\n                                    <TableCell>\n                                        <Typography variant=\"body1\">\n                                            {doc.type === 'OTHER' ? doc.otherTypeName : doc.type}\n                                        </Typography>{' '}\n                                    </TableCell>\n                                </TableRow>\n                                <TableRow>\n                                    <TableCell>\n                                        <Typography variant=\"body1\">\n                                            <FormattedMessage\n                                                id=\"Apis.Details.Documents.View.meta.source\"\n                                                defaultMessage=\"Source Type\"\n                                            />\n                                        </Typography>\n                                    </TableCell>\n                                    <TableCell>\n                                        <Typography variant=\"body1\">{doc.sourceType}</Typography>{' '}\n                                    </TableCell>\n                                </TableRow>\n                            </TableBody>\n                        </Table>\n                    </Paper>\n\n                    <Paper className={classes.paper}>\n                        {doc.sourceType === 'MARKDOWN' && (\n                            <Suspense fallback={<CircularProgress />}>\n                                <ReactMarkdown escapeHtml={false} source={code} />\n                            </Suspense>\n                        )}\n                        {doc.sourceType === 'INLINE' && <ReactSafeHtml html={code} />}\n                        {doc.sourceType === 'URL' && (\n                            <a className={classes.displayURL} href={doc.sourceUrl} target=\"_blank\">\n                                {doc.sourceUrl}\n                                <Icon className={classes.displayURLLink}>open_in_new</Icon>\n                            </a>\n                        )}\n                        {doc.sourceType === 'FILE' && (\n                            <Button\n                                variant=\"contained\"\n                                color=\"default\"\n                                className={classes.button}\n                                onClick={handleDownload}\n                            >\n                                <FormattedMessage\n                                    id=\"Apis.Details.Documents.View.btn.download\"\n                                    defaultMessage=\"Download\"\n                                />\n\n                                <Icon>arrow_downward</Icon>\n                            </Button>\n                        )}\n                    </Paper>\n                </div>\n            </React.Fragment>\n        )\n    );\n}\n\nView.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    doc: PropTypes.shape({}).isRequired,\n    apiId: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n    fullScreen: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(View));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useEffect, useState, Suspense, lazy } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport isEmpty from 'lodash.isempty';\nimport MarkdownEditor from './MarkdownEditor';\nimport { FormattedMessage } from 'react-intl';\nimport { Progress } from 'AppComponents/Shared';\n\nconst TextEditor = lazy(() => import('./TextEditor' /* webpackChunkName: \"EditContentTextEditor\" */));\n\nfunction EditContent(props) {\n    const [doc, setDoc] = useState(null);\n    const {\n        history: {\n            location: { state, pathname },\n            replace,\n        },\n    } = props;\n    useEffect(() => {\n        // Check if we want to show the add content screen in the case of coming from GoToEdit.jsx with history -> state props\n\n        if (!isEmpty(state)) {\n            const { doc } = state;\n            if (doc) {\n                setDoc(doc);\n            }\n        }\n    }, []);\n    return (\n        <React.Fragment>\n            {doc && doc.sourceType === 'MARKDOWN' && (\n                <MarkdownEditor docName={doc.name} docId={doc.documentId} showAtOnce />\n            )}\n            {doc && doc.sourceType === 'INLINE' && (\n                <Suspense\n                    fallback={<Progress />}\n                >\n                    <TextEditor docName={doc.name} docId={doc.documentId} showAtOnce />\n                </Suspense>\n            )}\n        </React.Fragment>\n    );\n}\nexport default withRouter(EditContent);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Switch } from 'react-router-dom';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport Listing from './Listing';\nimport View from './View';\nimport Edit from './Edit';\nimport EditContent from './EditContent';\nimport DocCreate from './Create';\n\nconst Documents = (props) => {\n    const { isAPIProduct } = useContext(APIContext);\n    const urlPrefix = isAPIProduct ? 'api-products' : 'apis';\n    return (\n        <div>\n            <Switch>\n                <Route exact path={'/' + urlPrefix + '/:apiUUID/documents'} component={Listing} />} />\n                <Route exact path={'/' + urlPrefix + '/:apiUUID/documents/:documentId/details'} component={View} />} />\n                <Route exact path={'/' + urlPrefix + '/:apiUUID/documents/:documentId/edit'} component={Edit} />} />\n                <Route\n                    exact\n                    path={'/' + urlPrefix + '/:apiUUID/documents/:documentId/edit-content'}\n                    component={EditContent}\n                />\n                } />\n                <Route exact path={'/' + urlPrefix + '/:apiUUID/documents/create'} component={DocCreate} />\n                <Route component={ResourceNotFound} />\n            </Switch>\n        </div>\n    );\n};\n\nDocuments.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n};\n\nexport default Documents;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Radio from '@material-ui/core/Radio';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst RateLimitingLevels = {\n    API: 'api',\n    RESOURCE: 'resource',\n};\n\n/**\n *\n * Handles the resource level and API level throttling UI switch\n * @export\n * @param {*} props\n * @returns\n */\nfunction APIRateLimiting(props) {\n    const {\n        updateAPI, operationRateLimits, onChange, value: currentApiThrottlingPolicy, isAPIProduct,\n    } = props;\n    const [apiThrottlingPolicy, setApiThrottlingPolicy] = useState(currentApiThrottlingPolicy);\n    const [isSaving, setIsSaving] = useState(false);\n\n    const isResourceLevel = apiThrottlingPolicy === null;\n    const rateLimitingLevel = isResourceLevel ? RateLimitingLevels.RESOURCE : RateLimitingLevels.API;\n    const [apiFromContext] = useAPI();\n\n    // Following effect is used to handle the controlled component case, If user provide onChange handler to\n    // control this component, Then we accept the props as the valid input and update the current state value from props\n    useEffect(() => {\n        if (onChange) {\n            if (currentApiThrottlingPolicy === '' && apiFromContext.apiThrottlingPolicy) {\n                setApiThrottlingPolicy(apiFromContext.apiThrottlingPolicy);\n            } else {\n                setApiThrottlingPolicy(currentApiThrottlingPolicy);\n            }\n        }\n    }, [onChange, currentApiThrottlingPolicy]); // Do not expect to change the onChange during the runtime\n\n    /**\n     *\n     *\n     * @param {*} event\n     */\n    function updateRateLimitingPolicy(event) {\n        // If the selected option is resource, we set the api level rate limiting to null\n        const userSelection = event.target.value === RateLimitingLevels.RESOURCE\n            ? null : '';\n        if (onChange) {\n            // Assumed controlled component\n            onChange(userSelection);\n        } else {\n            setApiThrottlingPolicy(userSelection);\n        }\n    }\n    /**\n     *\n     *\n     */\n    function saveChanges() {\n        setIsSaving(true);\n        updateAPI({ apiThrottlingPolicy }).finally(() => setIsSaving(false));\n    }\n\n    /**\n     *\n     *\n     */\n    function resetChanges() {\n        setApiThrottlingPolicy(currentApiThrottlingPolicy);\n    }\n\n    let operationRateLimitMessage = (\n        <Typography variant='body1' gutterBottom>\n            You may change the rate limiting policies per operation\n            <Typography variant='caption' display='block' gutterBottom>\n                Expand an operation below to select a rate limiting policy for an operation\n            </Typography>\n        </Typography>\n    );\n    if (isAPIProduct) {\n        operationRateLimitMessage = (\n            <Typography variant='body1' gutterBottom>\n                Rate limiting polices of the source operation will be applied\n                <Typography variant='caption' display='block' gutterBottom>\n                    Rate limiting policy of an individual operation will be govern by the policy specified in the source\n                    operation\n                </Typography>\n            </Typography>\n        );\n    }\n    return (\n        <Paper>\n            <Grid container direction='row' spacing={3} justify='flex-start' alignItems='flex-start'>\n                <Grid item md={12} xs={12}>\n                    <Box ml={1}>\n                        <Typography variant='subtitle1' gutterBottom>\n                            Operations Configuration\n                            <Tooltip\n                                fontSize='small'\n                                title='Configurations that affects on all the resources'\n                                aria-label='common configurations'\n                                placement='right-end'\n                                interactive\n                            >\n                                <HelpOutline />\n                            </Tooltip>\n                        </Typography>\n                    </Box>\n                    <Divider light variant='middle' />\n                </Grid>\n                <Grid item md={1} xs={1} />\n                <Grid item md={5} xs={11}>\n                    <FormControl component='fieldset'>\n                        <FormLabel component='legend'>Rate limiting level</FormLabel>\n                        <RadioGroup\n                            aria-label='Apply rate limiting in'\n                            value={rateLimitingLevel}\n                            onChange={updateRateLimitingPolicy}\n                            row\n                        >\n                            <FormControlLabel\n                                value={RateLimitingLevels.API}\n                                control={(\n                                    <Radio\n                                        color='primary'\n                                        disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                    />\n                                )}\n                                label='API Level'\n                                labelPlacement='end'\n                            />\n                            <FormControlLabel\n                                value={RateLimitingLevels.RESOURCE}\n                                control={(\n                                    <Radio\n                                        color='primary'\n                                        disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                    />\n                                )}\n                                label='Operation Level'\n                                labelPlacement='end'\n                            />\n                        </RadioGroup>\n                    </FormControl>\n                </Grid>\n                <Grid item md={6} xs={12}>\n                    <Box minHeight={70} borderLeft={1} pl={10}>\n                        {isResourceLevel ? (\n                            operationRateLimitMessage\n                        ) : (\n                            <TextField\n                                disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                id='operation_throttling_policy'\n                                select\n                                label='Rate limiting policies'\n                                value={apiThrottlingPolicy}\n                                onChange={({ target: { value } }) => (\n                                    onChange ? onChange(value) : setApiThrottlingPolicy(value))}\n                                helperText='Selected rate limiting policy will be applied to whole API'\n                                margin='dense'\n                                variant='outlined'\n                            >\n                                {operationRateLimits.map((rateLimit) => (\n                                    <MenuItem key={rateLimit.name} value={rateLimit.name}>\n                                        {rateLimit.displayName}\n                                    </MenuItem>\n                                ))}\n                            </TextField>\n                        )}\n                    </Box>\n                </Grid>\n                {/* If onChange handler is provided we assume that component is getting controlled by its parent\n                so that, hide the save cancel action */}\n                {!onChange && (\n                    <>\n                        <Grid item md={12}>\n                            <Divider />\n                        </Grid>\n                        <Grid item>\n                            <Box ml={1}>\n                                <Button\n                                    onClick={saveChanges}\n                                    disabled={false}\n                                    variant='outlined'\n                                    size='small'\n                                    color='primary'\n                                >\n                                    Save\n                                    {isSaving && <CircularProgress size={24} />}\n                                </Button>\n                                <Box display='inline' ml={1}>\n                                    <Button size='small' onClick={resetChanges}>\n                                        Reset\n                                    </Button>\n                                </Box>\n                            </Box>\n                        </Grid>\n                    </>\n                )}\n            </Grid>\n        </Paper>\n    );\n}\nAPIRateLimiting.defaultProps = {\n    onChange: null,\n    isAPIProduct: false,\n};\nAPIRateLimiting.propTypes = {\n    updateAPI: PropTypes.func.isRequired,\n    onChange: PropTypes.oneOf([null, PropTypes.func]),\n    operationRateLimits: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    disabledAction: PropTypes.shape({}).isRequired,\n    value: PropTypes.string.isRequired,\n    isAPIProduct: PropTypes.bool,\n};\n\nexport default React.memo(APIRateLimiting);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport Select from '@material-ui/core/Select';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Chip from '@material-ui/core/Chip';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport TextField from '@material-ui/core/TextField';\nimport { Typography } from '@material-ui/core';\nimport Switch from '@material-ui/core/Switch';\n\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1,\n        marginTop: 10,\n    },\n    container: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    textField: {\n        marginLeft: theme.spacing(),\n        marginRight: theme.spacing(),\n        width: 400,\n    },\n    mainTitle: {\n        paddingLeft: 20,\n    },\n    scopes: {\n        width: 400,\n    },\n    dropDown: {\n        width: theme.spacing(11.25),\n    },\n    divider: {\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    chip: {\n        margin: theme.spacing(),\n        color: theme.palette.text.secondary,\n        minWidth: 100,\n    },\n    chipActive: {\n        margin: theme.spacing(),\n        color: theme.palette.text.secondary,\n        background: theme.palette.background.active,\n        minWidth: 100,\n        borderRadius: theme.shape.borderRadius,\n    },\n    paper: {\n        padding: 20,\n    },\n    link: {\n        cursor: 'pointer',\n    },\n    listItem: {\n        paddingLeft: 0,\n        display: 'flex',\n        alignItems: 'center',\n    },\n    formControl: {\n        paddingRight: 0,\n        marginRight: 0,\n    },\n    resourceRoot: {\n        background: theme.palette.grey['100'],\n        paddingLeft: theme.spacing(),\n        paddingRight: theme.spacing(),\n        borderRadius: theme.shape.borderRadius,\n        marginBottom: theme.spacing(),\n    },\n    deleteButton: {\n        marginLeft: 'auto',\n    },\n    pathDisplay: {\n        marginRight: theme.spacing(2),\n        marginLeft: theme.spacing(2),\n    },\n    descriptionWrapper: {\n        paddingTop: theme.spacing(),\n        paddingBottom: theme.spacing(),\n    },\n    scopeSelect: {\n        width: '100%',\n    },\n    descriptionWrapperUp: {\n        paddingBottom: '0 !important',\n    },\n    addParamRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    propsForm: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    deleteLink: {\n        cursor: 'pointer',\n    },\n    row: {\n        '& td': {\n            borderBottom: 'none',\n            verticalAlign: 'bottom',\n            width: '33%',\n            paddingLeft: 0,\n        },\n    },\n});\n\n/**\n *\n */\nclass Operation extends React.Component {\n    /**\n     *\n     * @param {any} props @inheritdoc\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            isSecurity: false,\n        };\n        this.handleScopeChange = this.handleScopeChange.bind(this);\n        this.handlePolicyChange = this.handlePolicyChange.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    /**\n     *\n     * @param {*} operationAction event triggered for handle  Scope Change\n     */\n    handleScopeChange(operationAction) {\n        const { operation } = this.props;\n        const { data } = operationAction;\n        const { value } = data || {};\n        const defValue = value[0];\n        const newoperation = {\n            ...operation,\n            scopes: [...operation.scopes],\n        };\n        newoperation.scopes = defValue;\n        this.props.handleUpdateList(newoperation);\n    }\n\n    /**\n     *\n     * @param {*} e event triggered for handle  policy Change\n     */\n    handlePolicyChange(e) {\n        const { operation } = this.props;\n        const newoperation = { ...operation };\n        newoperation.throttlingPolicy = e.target.value;\n        this.props.handleUpdateList(newoperation);\n    }\n\n    /**\n     * @param {*} event event triggered for handle  policy Change\n     */\n    handleChange(event) {\n        const { operation } = this.props;\n        const newoperation = { ...operation };\n        const { checked } = event.target;\n        if (checked) {\n            newoperation.authType = 'Any';\n        } else {\n            newoperation.authType = 'None';\n        }\n        this.setState({\n            isSecurity: checked,\n        });\n        this.props.handleUpdateList(newoperation);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    render() {\n        const {\n            operation, theme, classes, apiPolicies, scopes, isOperationRateLimiting, sharedScopes, intl,\n        } = this.props;\n        const dropdownScopes = [...scopes];\n        const { isSecurity } = this.state;\n        const filteredApiScopes = dropdownScopes.filter((sharedScope) => !sharedScope.shared);\n        let chipColor = theme.custom.operationChipColor\n            ? theme.custom.operationChipColor[operation.verb.toLowerCase()]\n            : null;\n        let chipTextColor = '#000000';\n        if (!chipColor) {\n            console.log('Check the theme settings. The resourceChipColors is not populated properlly');\n            chipColor = '#cccccc';\n        } else {\n            chipTextColor = theme.palette.getContrastText(\n                theme.custom.operationChipColor[operation.verb.toLowerCase()],\n            );\n        }\n        return (\n            <TableRow style={{ borderStyle: 'hidden' }}>\n                <TableCell>\n                    <Typography variant='body1'>\n                        {operation.target}\n                    </Typography>\n                </TableCell>\n                <TableCell>\n                    <Chip\n                        label={operation.verb}\n                        style={{\n                            backgroundColor: chipColor, color: chipTextColor, height: 20, width: 40, fontSize: 9,\n                        }}\n                        className={classes.chipActive}\n                    />\n                </TableCell>\n                <TableCell>\n                    <Select\n                        className={classes.dropDown}\n                        value={isOperationRateLimiting ? operation.throttlingPolicy : ''}\n                        disabled={!isOperationRateLimiting}\n                        onChange={this.handlePolicyChange}\n                        fieldName='Throttling Policy'\n                    >\n                        {apiPolicies.map((policy) => (\n                            <MenuItem\n                                key={policy.name}\n                                value={policy.name}\n                            >\n                                {policy.displayName}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </TableCell>\n                <TableCell>\n                    <TextField\n                        id='operation_scope'\n                        select\n                        SelectProps={{\n                            multiple: true,\n                            renderValue: (selected) => (Array.isArray(selected) ? selected.join(', ') : selected),\n                        }}\n                        fullWidth\n                        label={dropdownScopes.length !== 0 || sharedScopes ? intl.formatMessage({\n                            id: 'Apis.Details.Operations.Operation.operation.scope.label.default',\n                            defaultMessage: 'Operation scope',\n                        }) : intl.formatMessage({\n                            id: 'Apis.Details.Operations.Operation.operation.scope.label.notAvailable',\n                            defaultMessage: 'No scope available',\n                        })}\n                        value={operation.scopes}\n                        onChange={({ target: { value } }) => this.handleScopeChange({\n                            data: { value: value ? [value] : [] },\n                        })}\n                        helperText={(\n                            <FormattedMessage\n                                id='Apis.Details.Operations.Operation.operation.scope.helperText'\n                                defaultMessage='Select a scope to control permissions to this operation'\n                            />\n                        )}\n                        margin='dense'\n                        variant='outlined'\n                    >\n                        <ListSubheader>\n                            <FormattedMessage\n                                id='Apis.Details.Operations.Operation.operation.scope.select.local'\n                                defaultMessage='API Scopes'\n                            />\n                        </ListSubheader>\n                        {filteredApiScopes.length !== 0 ? filteredApiScopes.map((apiScope) => (\n                            <MenuItem\n                                key={apiScope.scope.name}\n                                value={apiScope.scope.name}\n                                dense\n                            >\n                                <Checkbox checked={operation.scopes.includes(apiScope.scope.name)} color='primary' />\n                                {apiScope.scope.name}\n                            </MenuItem>\n                        )) : (\n                            <MenuItem\n                                value=''\n                                disabled\n                            >\n                                <em>\n                                    <FormattedMessage\n                                        id='Apis.Details.Operations.Operation.operation.no.api.scope.available'\n                                        defaultMessage='No API scopes available'\n                                    />\n                                </em>\n                            </MenuItem>\n                        )}\n                        <ListSubheader>\n                            <FormattedMessage\n                                id='Apis.Details.Operations.Operation.operation.scope.select.shared'\n                                defaultMessage='Shared Scopes'\n                            />\n                        </ListSubheader>\n                        {sharedScopes && sharedScopes.length !== 0 ? sharedScopes.map((sharedScope) => (\n                            <MenuItem\n                                key={sharedScope.scope.name}\n                                value={sharedScope.scope.name}\n                                dense\n                            >\n                                <Checkbox checked={operation.scopes.includes(sharedScope.scope.name)} color='primary' />\n                                {sharedScope.scope.name}\n                            </MenuItem>\n                        )) : (\n                            <MenuItem\n                                value=''\n                                disabled\n                            >\n                                <em>\n                                    <FormattedMessage\n                                        id='Apis.Details.Operations.Operation.operation.no.sharedpi.scope.available'\n                                        defaultMessage='No shared scopes available'\n                                    />\n                                </em>\n                            </MenuItem>\n                        )}\n                    </TextField>\n                </TableCell>\n                <TableCell>\n                    <Switch\n                        checked={(() => {\n                            if (operation.authType === 'None') {\n                                return false;\n                            }\n                            return true;\n                        })()}\n                        onChange={this.handleChange}\n                        value={isSecurity}\n                        color='primary'\n                    />\n                </TableCell>\n            </TableRow>\n        );\n    }\n}\n\nOperation.propTypes = {\n    classes: PropTypes.shape({\n    }).isRequired,\n    operation: PropTypes.shape({\n        target: PropTypes.string,\n        verb: PropTypes.string,\n        throttlingPolicy: PropTypes.string,\n        auth: PropTypes.string,\n    }).isRequired,\n    apiPolicies: PropTypes.shape({\n    }).isRequired,\n    isOperationRateLimiting: PropTypes.shape({\n    }).isRequired,\n    scopes: PropTypes.shape({\n    }).isRequired,\n    handleUpdateList: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n    sharedScopes: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n};\n\nexport default injectIntl(withStyles(styles, { withTheme: true })(Operation));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport Api from 'AppData/api';\nimport { Progress } from 'AppComponents/Shared';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { doRedirectToLogin } from 'AppComponents/Shared/RedirectToLogin';\nimport Grid from '@material-ui/core/Grid';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport APIRateLimiting from '../Resources/components/APIRateLimiting';\nimport Operation from './Operation';\n\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1,\n        marginTop: 10,\n    },\n    container: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    textField: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        width: 400,\n    },\n    mainTitle: {\n        paddingLeft: 0,\n    },\n    scopes: {\n        width: 400,\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    button: {\n        marginLeft: theme.spacing(2),\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n    },\n    buttonMain: {\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n        marginRight: theme.spacing(1),\n    },\n    addNewWrapper: {\n        backgroundColor: theme.palette.background.paper,\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n        border: 'solid 1px ' + theme.palette.grey['300'],\n        borderRadius: theme.shape.borderRadius,\n        marginTop: theme.spacing(2),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    addNewHeader: {\n        padding: theme.spacing(2),\n        backgroundColor: theme.palette.grey['300'],\n        fontSize: theme.typography.h6.fontSize,\n        color: theme.typography.h6.color,\n        fontWeight: theme.typography.h6.fontWeight,\n    },\n    addNewOther: {\n        padding: theme.spacing(2),\n    },\n    radioGroup: {\n        display: 'flex',\n        flexDirection: 'row',\n        width: 300,\n    },\n    addResource: {\n        width: 600,\n        marginTop: 0,\n    },\n    buttonIcon: {\n        marginRight: 10,\n    },\n    expansionPanel: {\n        marginBottom: theme.spacing(1),\n    },\n    expansionPanelDetails: {\n        flexDirection: 'column',\n    },\n});\n\n/**\n * This class defined for operation List\n */\nclass Operations extends React.Component {\n    /**\n     *\n     * @param {*} props the props parameters\n     */\n    constructor(props) {\n        super(props);\n        const { api } = props;\n        const { operations } = api;\n        const operationCopy = [...operations];\n        operationCopy.sort((a, b) => ((a.target + a.verb > b.target + b.verb) ? 1 : -1));\n        this.state = {\n            notFound: false,\n            apiPolicies: [],\n            operations: operationCopy,\n            apiThrottlingPolicy: api.apiThrottlingPolicy,\n            filterKeyWord: '',\n            isSaving: false,\n            sharedScopes: [],\n            apiScopesByName: {},\n            sharedScopesByName: {},\n        };\n\n        this.newApi = new Api();\n        this.handleUpdateList = this.handleUpdateList.bind(this);\n        this.handleApiThrottlePolicy = this.handleApiThrottlePolicy.bind(this);\n        this.updateOperations = this.updateOperations.bind(this);\n    }\n\n    /**\n     *\n     */\n    componentDidMount() {\n        const { api } = this.props;\n        const apiScopesByNameList = {};\n        const promisedResPolicies = Api.policies('api');\n        promisedResPolicies\n            .then((policies) => {\n                this.setState({ apiPolicies: policies.obj.list });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                const { status } = error.status;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n\n        for (const scopeObject of api.scopes) {\n            const modifiedScope = {};\n            modifiedScope.scope = scopeObject.scope;\n            modifiedScope.shared = scopeObject.shared;\n            apiScopesByNameList[scopeObject.scope.name] = modifiedScope;\n        }\n        this.setState({ apiScopesByName: apiScopesByNameList });\n        this.getAllSharedScopes();\n    }\n\n    /**\n     *\n     * @param {*} event\n     */\n    setFilterByKeyWord(event) {\n        this.setState({ filterKeyWord: event.target.value.toLowerCase() });\n    }\n\n    /**\n     * @memberof Operations\n     */\n    getAllSharedScopes() {\n        Api.getAllScopes()\n            .then((response) => {\n                if (response.body && response.body.list) {\n                    const sharedScopesList = [];\n                    const sharedScopesByNameList = {};\n                    const shared = true;\n                    for (const scope of response.body.list) {\n                        const modifiedScope = {};\n                        modifiedScope.scope = scope;\n                        modifiedScope.shared = shared;\n                        sharedScopesList.push(modifiedScope);\n                        sharedScopesByNameList[scope.name] = modifiedScope;\n                    }\n                    this.setState({ sharedScopesByName: sharedScopesByNameList });\n                    this.setState({ sharedScopes: sharedScopesList });\n                }\n            });\n    }\n\n    /**\n     *\n     *\n     * @param {*} throttlePolicy\n     * @memberof Operations\n     */\n    handleApiThrottlePolicy(apiThrottlingPolicy) {\n        this.setState({ apiThrottlingPolicy });\n    }\n\n    /**\n     *\n     * @param {*} newOperation\n     */\n    handleUpdateList(newOperation) {\n        const { operations, sharedScopesByName, apiScopesByName } = this.state;\n        const updatedList = operations.map(\n            (operation) => ((operation.target === newOperation.target && operation.verb === newOperation.verb)\n                ? newOperation : operation),\n        );\n\n        for (const selectedScope of newOperation.scopes) {\n            if (selectedScope\n                && !apiScopesByName[selectedScope]\n                && apiScopesByName[selectedScope] !== '') {\n                if (selectedScope in sharedScopesByName) {\n                    apiScopesByName[selectedScope] = sharedScopesByName[selectedScope];\n                }\n            }\n        }\n        this.setState({ apiScopesByName });\n        this.setState({ operations: updatedList });\n    }\n\n    /**\n     *\n     */\n    updateOperations() {\n        const { operations, apiThrottlingPolicy, apiScopesByName } = this.state;\n        const { updateAPI } = this.props;\n        this.setState({ isSaving: true });\n        this.updateApiScopes(operations);\n        const scopes = Object.keys(apiScopesByName).map((key) => { return apiScopesByName[key]; });\n        updateAPI({ operations, apiThrottlingPolicy, scopes }).finally(() => this.setState({ isSaving: false }));\n    }\n\n    /**\n     *\n     * This method modifies the security definition scopes by removing the scopes which are not present\n     * in operations and which are shared scopes\n     * @param {Array} apiOperations Operations list\n     */\n    updateApiScopes(apiOperations) {\n        const { apiScopesByName, sharedScopesByName } = this.state;\n        Object.keys(apiScopesByName).forEach((key) => {\n            let isScopeExistsInOperation = false;\n            for (const operation of apiOperations) {\n                // Checking if the scope resides in the operation\n                if (operation.scopes.includes(key)) {\n                    isScopeExistsInOperation = true;\n                    break;\n                }\n            }\n            // Checking if the scope exists in operation and is a shared scope\n            if (!isScopeExistsInOperation && (key in sharedScopesByName)) {\n                delete apiScopesByName[key];\n            }\n        });\n        this.setState({ apiScopesByName });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    render() {\n        const { api, resourceNotFoundMessage } = this.props;\n        const {\n            operations, apiPolicies, apiThrottlingPolicy, isSaving, filterKeyWord, notFound, sharedScopes,\n        } = this.state;\n        if (notFound) {\n            return <ResourceNotFound message={resourceNotFoundMessage} />;\n        }\n        if (!operations && apiPolicies.length === 0) {\n            return <Progress />;\n        }\n        const { classes } = this.props;\n        return (\n            <>\n                <Box pb={3}>\n                    <Typography variant='h5'>\n                        <FormattedMessage\n                            id='Apis.Details.Operations.Operations.title'\n                            defaultMessage='Operations'\n                        />\n                    </Typography>\n                </Box>\n\n                <Grid container spacing={2}>\n                    <Grid item md={12}>\n                        <APIRateLimiting\n                            operationRateLimits={apiPolicies}\n                            api={api}\n                            value={apiThrottlingPolicy}\n                            onChange={this.handleApiThrottlePolicy}\n                        />\n                    </Grid>\n                    <Grid item md={2}>\n                        <Box mt={4} pb={2}>\n                            <div className={classes.searchWrapper}>\n                                <TextField\n                                    id='outlined-full-width'\n                                    label='Operation'\n                                    placeholder='Filter Operations'\n                                    onChange={(e) => this.setFilterByKeyWord(e, api.operations)}\n                                    fullWidth\n                                    variant='outlined'\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                />\n                            </div>\n                        </Box>\n                    </Grid>\n                    <Grid item md={12}>\n                        <Table>\n                            <TableRow>\n                                <TableCell>\n                                    <Typography variant='subtitle2'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Operations.operation.operationName'\n                                            defaultMessage='Operation'\n                                        />\n                                    </Typography>\n                                </TableCell>\n                                <TableCell>\n                                    <Typography variant='subtitle2'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Operations.Operation.OperationType'\n                                            defaultMessage='Operation Type'\n                                        />\n                                    </Typography>\n                                </TableCell>\n                                <TableCell>\n                                    <Typography variant='subtitle2'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Operations.Operation.throttling.policy'\n                                            defaultMessage='Rate Limiting'\n                                        />\n                                    </Typography>\n                                </TableCell>\n                                <TableCell>\n                                    <Typography variant='subtitle2'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Operations.Operation.scopes'\n                                            defaultMessage='Scope'\n                                        />\n                                    </Typography>\n                                </TableCell>\n                                <TableCell>\n                                    <Typography variant='subtitle2'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Operations.Operation.authType'\n                                            defaultMessage='Security Enabled'\n                                        />\n                                    </Typography>\n                                </TableCell>\n                            </TableRow>\n                            {operations.filter(\n                                (operation) => operation.target.toLowerCase().includes(filterKeyWord),\n                            ).map((item) => {\n                                return (\n                                    <Operation\n                                        operation={item}\n                                        handleUpdateList={this.handleUpdateList}\n                                        scopes={api.scopes}\n                                        sharedScopes={sharedScopes}\n                                        isOperationRateLimiting={!apiThrottlingPolicy}\n                                        apiPolicies={apiPolicies}\n                                    />\n                                );\n                            })}\n                        </Table>\n                    </Grid>\n                    <Grid item>\n                        <Button\n                            variant='contained'\n                            color='primary'\n                            disabled={isSaving}\n                            className={classes.buttonMain}\n                            onClick={this.updateOperations}\n                        >\n                            {isSaving && <CircularProgress size={20} />}\n                            <FormattedMessage\n                                id='Apis.Details.Operations.Operation.save'\n                                defaultMessage='Save'\n                            />\n                        </Button>\n                        <Link to={'/apis/' + api.id + '/overview'}>\n                            <Button>\n                                <FormattedMessage\n                                    id='Apis.Details.Operations.Operation.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </Button>\n                        </Link>\n                    </Grid>\n                </Grid>\n            </>\n        );\n    }\n}\n\nOperations.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({\n        operations: PropTypes.array,\n        scopes: PropTypes.array,\n        updateOperations: PropTypes.func,\n        policies: PropTypes.func,\n        id: PropTypes.string,\n    }).isRequired,\n    resourceNotFoundMessage: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n    updateAPI: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(Operations));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\n/**\n *\n * Renders the operation summary and description sections\n * @export\n * @param {*} props\n * @returns\n */\nexport default function DescriptionAndSummary(props) {\n    const {\n        operation, operationsDispatcher, disableUpdate, target, verb,\n    } = props;\n    return (\n        <>\n            <Grid item xs={12} md={12}>\n                <Typography variant='subtitle1'>\n                    Summary\n                    {' '}\n                    {'&'}\n                    {' '}\nDescription\n                    <Divider variant='middle' />\n                </Typography>\n            </Grid>\n            <Grid item md={1} />\n            <Grid item md={5}>\n                <TextField\n                    margin='dense'\n                    fullWidth\n                    label='Description'\n                    multiline\n                    disabled={disableUpdate}\n                    rows='4'\n                    value={operation.description}\n                    variant='outlined'\n                    onChange={\n                        ({ target: { value } }) => operationsDispatcher(\n                            { action: 'description', data: { target, verb, value } },\n                        )\n                    }\n                />\n            </Grid>\n            <Grid item md={5}>\n                <TextField\n                    id='operation_summary'\n                    label='Summary'\n                    margin='dense'\n                    variant='outlined'\n                    fullWidth\n                    disabled={disableUpdate}\n                    multiline\n                    rows='4'\n                    value={operation.summary}\n                    onChange={({ target: { value } }) => operationsDispatcher(\n                        { action: 'summary', data: { target, verb, value } },\n                    )}\n                />\n            </Grid>\n            <Grid item md={1} />\n        </>\n    );\n}\n\nDescriptionAndSummary.propTypes = {\n    disableUpdate: PropTypes.bool,\n    operation: PropTypes.shape({\n        target: PropTypes.string.isRequired,\n        verb: PropTypes.string.isRequired,\n        spec: PropTypes.shape({}).isRequired,\n    }).isRequired,\n    operationsDispatcher: PropTypes.func.isRequired,\n    target: PropTypes.string.isRequired,\n    verb: PropTypes.string.isRequired,\n};\n\nDescriptionAndSummary.defaultProps = {\n    disableUpdate: false,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nconst VERSIONS = {\n    V3: ['3.0.0', '3.0.1', '3.0.2'],\n    V2: ['2.0'],\n};\n/**\n *\n *\n * @param {*} apiProduct\n */\nfunction getAPIProductTaggedOperations(apiProduct, openAPI) {\n    const taggedOperations = { Default: [] };\n    apiProduct.apis.map((apiOperations) => {\n        return apiOperations.operations.map((operation) => {\n            const { target, verb } = operation;\n            // TODO: WARN! `toLowerCase` could cause a case sensitive issues\n            // in `verb` if definition has mixed case verbs\n            const openAPIOperation = openAPI.paths[target] && openAPI.paths[target][verb.toLowerCase()];\n            if (!openAPIOperation) {\n                console.warn(`Could not find target = ${target} `\n                        + `verb (lower cased) = ${verb.toLowerCase()} operation in OpenAPI definition`);\n                // Skipping not found operations\n                return null;\n            }\n            const operationInfo = { spec: openAPIOperation, ...operation };\n\n            if (!taggedOperations[apiOperations.name]) {\n                taggedOperations[apiOperations.name] = [];\n            }\n            taggedOperations[apiOperations.name].push(operationInfo);\n            return operationInfo;\n        });\n    });\n    return taggedOperations;\n}\n\n/**\n *\n *\n */\nfunction getTaggedOperations(api, openAPI) {\n    const taggedOperations = { Default: [] };\n    if (api.isAPIProduct()) {\n        return getAPIProductTaggedOperations(api, openAPI);\n    } else {\n        api.operations.map((apiOperation) => {\n            const { target, verb } = apiOperation;\n            // TODO: WARN! `toLowerCase` could cause a case sensitive\n            // issues in `verb` if definition has mixed case verbs\n            const openAPIOperation = openAPI.paths[target] && openAPI.paths[target][verb.toLowerCase()];\n            if (!openAPIOperation) {\n                console.warn(`Could not find target = ${target} `\n                        + `verb (lower cased) = ${verb.toLowerCase()} operation in OpenAPI definition`);\n                // Skipping not found operations\n                return null;\n            }\n            const operationInfo = { spec: openAPIOperation, ...apiOperation };\n            if (openAPIOperation.tags) {\n                openAPIOperation.tags.map((tag) => {\n                    if (!taggedOperations[tag]) {\n                        taggedOperations[tag] = [];\n                    }\n                    taggedOperations[tag].push(operationInfo);\n                    return operationInfo; // Just to satisfy an es-lint rule or could use `for ... of ...`\n                });\n            } else {\n                taggedOperations.Default.push(operationInfo);\n            }\n            return operationInfo; // Just to satisfy an es-lint rule or could use `for ... of ...`\n        });\n        return taggedOperations;\n    }\n}\n\n/**\n * Return the definition version given the parsed spec object\n *\n * @param {SwaggerObject} spec\n * @returns {String} version\n */\nfunction getVersion(spec) {\n    return spec.openapi || spec.swagger;\n}\n/**\n *Extract the path parameters from URI template. User has to give the Open API spec version as well\n * https://github.com/OAI/OpenAPI-Specification/tree/master/versions\n * @param {String} target URI template\n * @param {String} openAPIVersion Should be a valid Open API specification version (i:e \"2.0\", \"3.0.0\")\n * @returns {Array} List of parameter objects according to the given spec version\n */\nfunction extractPathParameters(target, spec) {\n    const regEx = /[^{}]+(?=})/g;\n    const params = target.match(regEx) || [];\n    let parameters = [];\n    const openAPIVersion = getVersion(spec);\n    if (VERSIONS.V3.includes(openAPIVersion)) {\n        parameters = params.map((para) => {\n            const paraObj = {};\n            paraObj.name = para;\n            paraObj.in = 'path';\n            paraObj.required = true;\n            paraObj.schema = {\n                type: 'string',\n                format: 'string',\n            };\n            return paraObj;\n        });\n    } else if (VERSIONS.V2.includes(openAPIVersion)) {\n        parameters = params.map((para) => {\n            const paraObj = {};\n            paraObj.name = para;\n            paraObj.in = 'path';\n            paraObj.required = true;\n            paraObj.type = 'string';\n            paraObj.format = 'string';\n            return paraObj;\n        });\n    }\n\n    return parameters;\n}\n\n/**\n *\n * Return the WSO2 specific scopes array (currently only use the first element of the array)\n * @param {*} operation\n * @param {*} openAPIVersion\n * @returns {Array} Scopes of the `default` security scheme\n */\nfunction getOperationScopes(operation, spec) {\n    const openAPIVersion = getVersion(spec);\n    let scopes = [];\n    if (VERSIONS.V3.includes(openAPIVersion)) {\n        if (Array.isArray(operation.security) && operation.security.find((item) => item.default)) {\n            scopes = operation.security.find((item) => item.default).default;\n        } else if (operation['x-scope']) {\n            scopes = [operation['x-scope']];\n        }\n    } else if (VERSIONS.V2.includes(openAPIVersion)) {\n        if (Array.isArray(operation.security) && operation.security.find((item) => item.default)) {\n            scopes = operation.security.find((item) => item.default).default;\n        } else if (operation['x-scope']) {\n            scopes = [operation['x-scope']];\n        }\n    }\n    return scopes;\n}\n\n/**\n * Map the api.operations array to swagger paths like object\n * @param {Array} operations Operations in API DTO\n * @returns {Object} Mapped operations object\n */\nfunction mapAPIOperations(operations) {\n    const temp = {};\n    for (const operation of operations) {\n        const { target, verb, ...rest } = operation;\n        if (!temp[target]) {\n            temp[target] = {\n                [verb]: rest,\n            };\n        } else {\n            temp[target][verb] = rest;\n        }\n    }\n    return temp;\n}\n\n/**\n *\n *\n * @param {*} selectedOperations\n * @param {*} operations\n * @returns\n */\nfunction isSelectAll(selectedOperations, operations) {\n    for (const path in operations) {\n        if (Object.prototype.hasOwnProperty.call(operations, path)) {\n            const verbs = operations[path];\n            if (\n                !selectedOperations[path]\n                || Object.keys(selectedOperations[path]).length !== Object.keys(verbs).length\n            ) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\n/**\n * Check whether the provided object is a Ref object.\n *\n * @param {object} content : The object that needs to be checked.\n * @return {boolean} true if Ref, false otherwise.\n * */\nfunction isRef(content) {\n    let isReference = false;\n    if (typeof content === 'object') {\n        Object.keys(content).map((name) => {\n            isReference = name === '$ref';\n            return name;\n        });\n    }\n    return isReference;\n}\n\nexport {\n    mapAPIOperations,\n    getTaggedOperations,\n    getAPIProductTaggedOperations,\n    extractPathParameters,\n    getOperationScopes,\n    isSelectAll,\n    getVersion,\n    VERSIONS,\n    isRef,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport { Link } from 'react-router-dom';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { useIntl, FormattedMessage } from 'react-intl';\nimport { getOperationScopes } from '../../operationUtils';\n\n\n/**\n *\n * Renders the security , throttling policies and scopes selection section in the operation collapsed page\n * @export\n * @param {*} props\n * @returns\n */\nexport default function OperationGovernance(props) {\n    const {\n        operation, operationsDispatcher, operationRateLimits, api, disableUpdate, spec, target, verb, sharedScopes,\n    } = props;\n    const operationScopes = getOperationScopes(operation, spec);\n    const isOperationRateLimiting = api.apiThrottlingPolicy === null;\n    const filteredApiScopes = api.scopes.filter((sharedScope) => !sharedScope.shared);\n    const intl = useIntl();\n\n    return (\n        <>\n            <Grid item xs={12} md={12}>\n                <Typography gutterBottom variant='subtitle1'>\n                    <FormattedMessage\n                        id='Apis.Details.Resources.components.operationComponents.OperationGovernance.title'\n                        defaultMessage='Operation Governance'\n                    />\n                    <Typography style={{ marginLeft: '10px' }} gutterBottom variant='caption'>\n                        <FormattedMessage\n                            id='Apis.Details.Resources.components.operationComponents.OperationGovernance.subTitle'\n                            defaultMessage='(Security, Rate Limiting & Scopes)'\n                        />\n                    </Typography>\n                    <Divider variant='middle' />\n                </Typography>\n            </Grid>\n            <Grid item xs={1} />\n            <Grid item xs={11}>\n                <FormControl disabled={disableUpdate} component='fieldset'>\n                    <FormControlLabel\n                        control={(\n                            <Switch\n                                checked={operation['x-auth-type'] && operation['x-auth-type'].toLowerCase() !== 'none'}\n                                onChange={({ target: { checked } }) => operationsDispatcher({\n                                    action: 'authType',\n                                    data: { target, verb, value: checked },\n                                })}\n                                size='small'\n                                color='primary'\n                            />\n                        )}\n                        label='Security'\n                        labelPlacement='start'\n                    />\n                </FormControl>\n                <sup style={{ marginLeft: '10px' }}>\n                    <Tooltip\n                        title={(\n                            <FormattedMessage\n                                id={'Apis.Details.Resources.components.operationComponents.OperationGovernance.Security'\n                                + '.tooltip'}\n                                defaultMessage='This will enable/disable Application Level securities defined in the\n                                Runtime Configurations page.'\n                            />\n                        )}\n                        fontSize='small'\n                        aria-label='Operation security'\n                        placement='right-end'\n                        interactive\n                    >\n                        <HelpOutline />\n                    </Tooltip>\n                </sup>\n            </Grid>\n            <Grid item md={1} />\n            <Grid item md={5}>\n                <TextField\n                    id='operation_rate_limiting_policy'\n                    select\n                    fullWidth={!isOperationRateLimiting}\n                    SelectProps={{\n                        autoWidth: true,\n                        IconComponent: isOperationRateLimiting ? ArrowDropDownIcon : 'span',\n                    }}\n                    disabled={disableUpdate || !isOperationRateLimiting}\n                    label={\n                        isOperationRateLimiting\n                            ? intl.formatMessage({\n                                id: 'Apis.Details.Resources.components.operationComponents.'\n                                + 'OperationGovernance.rate.limiting.policy',\n                                defaultMessage: 'Rate limiting policy',\n                            })\n                            : (\n                                <div>\n                                    <FormattedMessage\n                                        id={'Apis.Details.Resources.components.operationComponents.'\n                            + 'OperationGovernance.rate.limiting.governed.by'}\n                                        defaultMessage='Rate limiting is governed by '\n                                    />\n                                    <Box fontWeight='fontWeightBold' display='inline' color='primary.main'>\n                                        <FormattedMessage\n                                            id={'Apis.Details.Resources.components.operationComponents.'\n                            + 'OperationGovernance.rate.limiting.API.level'}\n                                            defaultMessage='API Level'\n                                        />\n                                    </Box>\n                                </div>\n                            )\n                    }\n                    value={\n                        isOperationRateLimiting && operation['x-throttling-tier'] ? operation['x-throttling-tier'] : ''\n                    }\n                    onChange={({ target: { value } }) => operationsDispatcher({\n                        action: 'throttlingPolicy',\n                        data: { target, verb, value },\n                    })}\n                    helperText={\n                        isOperationRateLimiting\n                            ? intl.formatMessage({\n                                id: 'Apis.Details.Resources.components.operationComponents.'\n                                + 'OperationGovernance.rate.limiting.policy.select',\n                                defaultMessage: 'Select a rate limit policy for this operation',\n                            })\n                            : (\n                                <span>\n                                    <FormattedMessage\n                                        id={'Apis.Details.Resources.components.operationComponents.'\n                            + 'OperationGovernance.rate.limiting.helperText.section1'}\n                                        defaultMessage='Use '\n                                    />\n                                    <Box fontWeight='fontWeightBold' display='inline' color='primary.main'>\n                                        <FormattedMessage\n                                            id={'Apis.Details.Resources.components.operationComponents.'\n                            + 'OperationGovernance.rate.limiting.helperText.section2'}\n                                            defaultMessage='Operation Level'\n                                        />\n                                    </Box>\n                                    <FormattedMessage\n                                        id={'Apis.Details.Resources.components.operationComponents.'\n                            + 'OperationGovernance.rate.limiting.helperText.section3'}\n                                        defaultMessage=' rate limiting to '\n                                    />\n                                    <b>\n                                        <FormattedMessage\n                                            id={'Apis.Details.Resources.components.operationComponents.'\n                            + 'OperationGovernance.rate.limiting.helperText.section4'}\n                                            defaultMessage='enable'\n                                        />\n                                    </b>\n                                    <FormattedMessage\n                                        id={'Apis.Details.Resources.components.operationComponents.'\n                            + 'OperationGovernance.rate.limiting.helperText.section5'}\n                                        defaultMessage=' rate limiting per operation'\n                                    />\n                                </span>\n                            )\n                    }\n                    margin='dense'\n                    variant='outlined'\n                >\n                    {operationRateLimits.map((rateLimit) => (\n                        <MenuItem key={rateLimit.name} value={rateLimit.name}>\n                            {rateLimit.displayName}\n                        </MenuItem>\n                    ))}\n                </TextField>\n            </Grid>\n            <Grid item md={6} />\n            <Grid item md={1} />\n            <Grid item md={5}>\n                { operation['x-auth-type'] && operation['x-auth-type'].toLowerCase() !== 'none' ? (\n                    <TextField\n                        id='operation_scope'\n                        select\n                        SelectProps={{\n                            multiple: true,\n                            renderValue: (selected) => (Array.isArray(selected) ? selected.join(', ') : selected),\n                        }}\n                        disabled={disableUpdate}\n                        fullWidth\n                        label={api.scopes.length !== 0 || sharedScopes ? intl.formatMessage({\n                            id: 'Apis.Details.Resources.components.operationComponents.'\n                            + 'OperationGovernance.operation.scope.label.default',\n                            defaultMessage: 'Operation scope',\n                        }) : intl.formatMessage({\n                            id: 'Apis.Details.Resources.components.operationComponents.'\n                            + 'OperationGovernance.operation.scope.label.notAvailable',\n                            defaultMessage: 'No scope available',\n                        })}\n                        value={operationScopes}\n                        onChange={({ target: { value } }) => operationsDispatcher({\n                            action: 'scopes',\n                            data: { target, verb, value: value ? [value] : [] },\n                        })}\n                        helperText={(\n                            <FormattedMessage\n                                id={'Apis.Details.Resources.components.operationComponents.'\n                                + 'OperationGovernance.operation.scope.helperText'}\n                                defaultMessage='Select a scope to control permissions to this operation'\n                            />\n                        )}\n                        margin='dense'\n                        variant='outlined'\n                    >\n                        <ListSubheader>\n                            <FormattedMessage\n                                id={'Apis.Details.Resources.components.operationComponents.'\n                                + 'OperationGovernance.operation.scope.select.local'}\n                                defaultMessage='API Scopes'\n                            />\n                        </ListSubheader>\n                        {filteredApiScopes.length !== 0 ? filteredApiScopes.map((apiScope) => (\n                            <MenuItem\n                                key={apiScope.scope.name}\n                                value={apiScope.scope.name}\n                                dense\n                            >\n                                <Checkbox checked={operationScopes.includes(apiScope.scope.name)} color='primary' />\n                                {apiScope.scope.name}\n                            </MenuItem>\n                        )) : (\n                            <MenuItem\n                                value=''\n                                disabled\n                            >\n                                <em>\n                                    <FormattedMessage\n                                        id={'Apis.Details.Resources.components.operationComponents.'\n                                    + 'OperationGovernance.operation.no.api.scope.available'}\n                                        defaultMessage='No API scopes available'\n                                    />\n                                </em>\n                            </MenuItem>\n                        )}\n                        <ListSubheader>\n                            <FormattedMessage\n                                id={'Apis.Details.Resources.components.operationComponents.'\n                                + 'OperationGovernance.operation.scope.select.shared'}\n                                defaultMessage='Shared Scopes'\n                            />\n                        </ListSubheader>\n                        {sharedScopes && sharedScopes.length !== 0 ? sharedScopes.map((sharedScope) => (\n                            <MenuItem\n                                key={sharedScope.scope.name}\n                                value={sharedScope.scope.name}\n                                dense\n                            >\n                                <Checkbox checked={operationScopes.includes(sharedScope.scope.name)} color='primary' />\n                                {sharedScope.scope.name}\n                            </MenuItem>\n                        )) : (\n                            <MenuItem\n                                value=''\n                                disabled\n                            >\n                                <em>\n                                    <FormattedMessage\n                                        id={'Apis.Details.Resources.components.operationComponents.'\n                                    + 'OperationGovernance.operation.no.sharedpi.scope.available'}\n                                        defaultMessage='No shared scopes available'\n                                    />\n                                </em>\n                            </MenuItem>\n                        )}\n                    </TextField>\n                ) : null }\n            </Grid>\n            <Grid item md={5} style={{ marginTop: '14px' }}>\n                { operation['x-auth-type'] && operation['x-auth-type'].toLowerCase() !== 'none' ? !disableUpdate && (\n                    <Link to={`/apis/${api.id}/scopes/create`} target='_blank'>\n                        <Typography style={{ marginLeft: '10px' }} color='primary' display='inline' variant='caption'>\n                            <FormattedMessage\n                                id={'Apis.Details.Resources.components.operationComponents.'\n                                + 'OperationGovernance.operation.scope.create.new.scope'}\n                                defaultMessage='Create New Scope'\n                            />\n                            <LaunchIcon style={{ marginLeft: '2px' }} fontSize='small' />\n                        </Typography>\n                    </Link>\n                ) : null}\n            </Grid>\n            <Grid item md={1} />\n        </>\n    );\n}\n\nOperationGovernance.propTypes = {\n    disableUpdate: PropTypes.bool,\n    operation: PropTypes.shape({\n        target: PropTypes.string.isRequired,\n        verb: PropTypes.string.isRequired,\n    }).isRequired,\n    spec: PropTypes.shape({}).isRequired,\n    operationsDispatcher: PropTypes.func.isRequired,\n    operationRateLimits: PropTypes.arrayOf(PropTypes.shape({})),\n    api: PropTypes.shape({ scopes: PropTypes.arrayOf(PropTypes.shape({})) }),\n    target: PropTypes.string.isRequired,\n    verb: PropTypes.string.isRequired,\n    sharedScopes: PropTypes.arrayOf(PropTypes.shape({})),\n};\n\nOperationGovernance.defaultProps = {\n    operationRateLimits: [],\n    api: { scopes: [] },\n    sharedScopes: [],\n    disableUpdate: false,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport deburr from 'lodash/deburr';\nimport Downshift from 'downshift';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Icon from '@material-ui/core/Icon';\nimport { FormattedMessage } from 'react-intl';\n\n/**\n * The renderInput function.\n * @param {any} inputProps The props that are being passed to the function.\n * @returns {any} HTML view of the inputs.\n */\nfunction renderInput(inputProps) {\n    const {\n        InputProps, classes, ref, ...other\n    } = inputProps;\n    return (\n        <TextField\n            InputProps={{\n                inputRef: ref,\n                classes: {\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                },\n                ...InputProps,\n            }}\n            {...other}\n        />\n    );\n}\n\nrenderInput.propTypes = {\n    // eslint-disable-next-line react/forbid-prop-types\n    classes: PropTypes.object.isRequired,\n    // eslint-disable-next-line react/forbid-prop-types, react/require-default-props\n    InputProps: PropTypes.object,\n};\n\n/**\n * The renderSuggestion function.\n * @param {any} suggestionProps The props that are being passed to the function.\n * @returns {any} HTML view of the suggestions.\n */\nfunction renderSuggestion(suggestionProps) {\n    const {\n        suggestion, index, itemProps, highlightedIndex, selectedItem,\n    } = suggestionProps;\n    const isHighlighted = highlightedIndex === index;\n    const isSelected = (selectedItem || '').indexOf(suggestion) > -1;\n\n    return (\n        <MenuItem\n            {...itemProps}\n            key={suggestion}\n            selected={isHighlighted}\n            component='div'\n            style={{\n                fontWeight: isSelected ? 500 : 400,\n            }}\n        >\n            {suggestion}\n        </MenuItem>\n    );\n}\n\nrenderSuggestion.propTypes = {\n    highlightedIndex: PropTypes.oneOfType([PropTypes.oneOf([null]), PropTypes.number]).isRequired,\n    index: PropTypes.number.isRequired,\n    // eslint-disable-next-line react/forbid-prop-types\n    itemProps: PropTypes.object.isRequired,\n    selectedItem: PropTypes.string.isRequired,\n    suggestion: PropTypes.shape('').isRequired,\n};\n\n/**\n * The getSuggestions function.\n * @param {any} value The value that are being passed to the function.\n * @param {any} arns The arns that are being passed to the function.\n * @returns {any} suggestion values.\n */\nfunction getSuggestions(value, { showEmpty = false } = {}, arns) {\n    const inputValue = deburr(value.trim()).toLowerCase();\n    const inputLength = inputValue.length;\n    let count = 0;\n    return inputLength === 0 && !showEmpty\n        ? []\n        : arns.filter((suggestion) => {\n            const keep = count < 5 && suggestion.slice(0, inputLength).toLowerCase() === inputValue;\n            if (keep) {\n                count += 1;\n            }\n            return keep;\n        });\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    container: {\n        flexGrow: 1,\n        position: 'relative',\n    },\n    paper: {\n        position: 'absolute',\n        zIndex: 1000,\n        marginTop: theme.spacing(-2),\n        left: 0,\n        right: 0,\n    },\n    chip: {\n        margin: theme.spacing(0.5, 0.25),\n    },\n    inputRoot: {\n        flexWrap: 'wrap',\n    },\n    inputInput: {\n        width: 'auto',\n        flexGrow: 1,\n    },\n}));\n\n\n/**\n * The autocomplete component. This component lists the ARNs of a specific user role.\n * @returns {any} HTML view of the autocomplete component.\n * @param {any} props The input parameters.\n */\nexport default function IntegrationDownshift(props) {\n    const classes = useStyles();\n    const {\n        operation,\n        operationsDispatcher,\n        target,\n        verb,\n        arns,\n    } = props;\n    const [timeout, setTimeout] = useState(50000);\n    useEffect(() => {\n        if (operation['x-amzn-resource-timeout']) {\n            setTimeout(operation['x-amzn-resource-timeout']);\n        }\n    }, []);\n    const handleTimeoutMin = (event) => {\n        if (event.target.value !== '') {\n            const minutes = parseInt(event.target.value, 10);\n            const seconds = (timeout / 1000) % 60;\n            const milliSeconds = (minutes * 60 + seconds) * 1000;\n            let newTimeout = 0;\n            if (milliSeconds > 900000) {\n                newTimeout = 900000;\n            } else if (milliSeconds < 1000) {\n                newTimeout = 1000;\n            } else {\n                newTimeout = milliSeconds;\n            }\n            setTimeout(newTimeout);\n            operationsDispatcher({\n                action: 'amznResourceTimeout',\n                data: { target, verb, value: newTimeout },\n            });\n        }\n    };\n    const handleTimeoutSec = (event) => {\n        if (event.target.value !== '') {\n            const minutes = Math.floor((timeout / 1000) / 60);\n            const seconds = parseInt(event.target.value, 10);\n            const milliSeconds = (minutes * 60 + seconds) * 1000;\n            let newTimeout = 0;\n            if (milliSeconds > 900000) {\n                newTimeout = 900000;\n            } else if (milliSeconds < 1000) {\n                newTimeout = 1000;\n            } else {\n                newTimeout = milliSeconds;\n            }\n            setTimeout(newTimeout);\n            operationsDispatcher({\n                action: 'amznResourceTimeout',\n                data: { target, verb, value: newTimeout },\n            });\n        }\n    };\n    return (\n        <>\n            <Grid item md={12} xs={12}>\n                <Typography variant='subtitle1'>\n                    <FormattedMessage\n                        id='Apis.Details.Resources.components.operationComponents.AWSLambdaSettings.Title'\n                        defaultMessage='AWS Lambda Settings'\n                    />\n                    <Divider variant='middle' />\n                </Typography>\n            </Grid>\n            <Grid item md={1} xs={1} />\n            <Grid item md={7} xs={7}>\n                <Downshift\n                    id='downshift-options'\n                    onSelect={(changes) => {\n                        if (changes !== null) {\n                            operationsDispatcher({\n                                action: 'amznResourceName',\n                                data: { target, verb, value: changes },\n                            });\n                        }\n                    }}\n                >\n                    {({\n                        clearSelection,\n                        getInputProps,\n                        getItemProps,\n                        getLabelProps,\n                        getMenuProps,\n                        highlightedIndex,\n                        inputValue,\n                        isOpen,\n                        openMenu,\n                        selectedItem,\n                    }) => {\n                        const {\n                            onBlur, onChange, onFocus, ...inputProps\n                        } = getInputProps({\n                            onChange: (event) => {\n                                operationsDispatcher({\n                                    action: 'amznResourceName',\n                                    data: { target, verb, value: event.target.value },\n                                });\n                                if (event.target.value === '') {\n                                    clearSelection();\n                                }\n                            },\n                            onBlur: () => {\n                                clearSelection();\n                            },\n                            value: operation['x-amzn-resource-name'],\n                            onFocus: openMenu,\n                            placeholder: 'Select or type an ARN',\n                        });\n                        return (\n                            <div className={classes.container}>\n                                {renderInput({\n                                    variant: 'outlined',\n                                    required: true,\n                                    fullWidth: true,\n                                    classes,\n                                    InputLabelProps: getLabelProps({ shrink: true }),\n                                    label: 'Amazon Resource Name (ARN)',\n                                    helperText: 'Select or type an ARN',\n                                    InputProps: {\n                                        onBlur,\n                                        onChange,\n                                        onFocus,\n                                        endAdornment: (\n                                            <InputAdornment position='end'>\n                                                <Icon className={classes.helpIcon}>keyboard_arrow_down</Icon>\n                                            </InputAdornment>\n                                        ),\n                                    },\n                                    inputProps,\n                                })}\n\n                                <div {...getMenuProps()}>\n                                    {isOpen ? (\n                                        <Paper className={classes.paper} square>\n                                            {getSuggestions(inputValue, { showEmpty: true }, arns)\n                                                .map((suggestion, index) => renderSuggestion({\n                                                    suggestion,\n                                                    index,\n                                                    itemProps: getItemProps({ item: suggestion }),\n                                                    highlightedIndex,\n                                                    selectedItem,\n                                                }))}\n                                        </Paper>\n                                    ) : null}\n                                </div>\n                            </div>\n                        );\n                    }}\n                </Downshift>\n            </Grid>\n            <Grid item md={1} xs={1} />\n            <Grid item md={1} xs={1}>\n                <TextField\n                    id='timeout-min'\n                    label='min'\n                    variant='outlined'\n                    helperText='Set Timeout'\n                    type='number'\n                    inputProps={{\n                        min: 0,\n                        max: 15,\n                        step: 1,\n                    }}\n                    value={Math.floor((timeout / 1000) / 60)}\n                    onChange={(event) => {\n                        handleTimeoutMin(event);\n                    }}\n                />\n            </Grid>\n            <Grid item md={1} xs={1}>\n                <TextField\n                    id='timeout-sec'\n                    label='sec'\n                    variant='outlined'\n                    type='number'\n                    inputProps={{\n                        min: 0,\n                        max: 59,\n                        step: 1,\n                    }}\n                    value={(timeout / 1000) % 60}\n                    onChange={(event) => {\n                        handleTimeoutSec(event);\n                    }}\n                />\n            </Grid>\n            <Grid item md={1} xs={1} />\n        </>\n    );\n}\n\nIntegrationDownshift.propTypes = {\n    operation: PropTypes.isRequired,\n    operationsDispatcher: PropTypes.func.isRequired,\n    target: PropTypes.string.isRequired,\n    verb: PropTypes.string.isRequired,\n    arns: PropTypes.shape([]).isRequired,\n};\n","/*\n *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n *  WSO2 Inc. licenses this file to you under the Apache License,\n *  Version 2.0 (the \"License\"); you may not use this file except\n *  in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing,\n *  software distributed under the License is distributed on an\n *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n *  KIND, either express or implied. See the License for the\n *  specific language governing permissions and limitations\n *  under the License.\n */\n\n/**\n * Defining the supported data types by the OAS spec versions.\n *\n * 2.0 : https://github.com/OAI/OpenAPI-Specification/blob/master/versions/2.0.md#dataTypeFormat\n * 3.x :https://swagger.io/docs/specification/data-models/data-types/\n * */\nconst supportedDataTypes = {\n    '2.0': {\n        body: ['integer', 'number', 'string', 'boolean', 'object'],\n        formData: ['integer', 'number', 'string', 'boolean', 'file'],\n        query: ['integer', 'number', 'string', 'boolean'],\n        path: ['integer', 'number', 'string', 'boolean'],\n        header: ['integer', 'number', 'string', 'boolean'],\n    },\n    '3.x': {\n        body: ['integer', 'number', 'string', 'boolean', 'object'],\n        query: ['integer', 'number', 'string', 'boolean'],\n        path: ['integer', 'number', 'string', 'boolean'],\n        header: ['integer', 'number', 'string', 'boolean'],\n        cookie: ['integer', 'number', 'string', 'boolean'],\n    },\n};\n\n/**\n * Util method for checking conditions.\n *\n * @param {boolean} condition : The condition to be checked\n * @param {any} matched : The value to be returned if the condition is true\n * @param {any} otherwise : The value to be returned if the condition is false.\n * @return {object} If true -> matched, false -> otherwise\n * */\nexport function iff(condition, matched, otherwise) {\n    return condition ? matched : otherwise;\n}\n\n/**\n * Method to get the supported data types for the given parameter type.\n *\n * @param {string} specVersion : The OAS version\n * @param {string} paramType : The parameter type.\n * @return {array} The list of supported parameters.\n * */\nexport function getSupportedDataTypes(specVersion, paramType) {\n    return paramType ? supportedDataTypes[specVersion === '2.0' ? '2.0' : '3.x'][paramType] : [];\n}\n\n/**\n * Get the supported data formats by each data type.\n *\n * @param {string} dataType: THe data type.\n * @return {array} The list of supported data formats.\n * */\nexport function getDataFormats(dataType) {\n    switch (dataType) {\n        case 'integer':\n            return ['int64', 'int32'];\n        case 'number':\n            return ['float', 'double'];\n        case 'string':\n            return ['date', 'date-time', 'byte', 'binary', 'password'];\n        default:\n            return [];\n    }\n}\n\n/**\n * Method to get the parameter schema based on the spec version.\n * For more info about Data Models (Schemas) refer https://swagger.io/docs/specification/data-models/\n * @param {string} specVersion : The OAS version\n * @return {object} The default schema\n * */\nexport function getParameter(specVersion) {\n    return specVersion === '2.0'\n        ? {\n            in: '', name: '', type: '', required: '',\n        }\n        : {\n            in: '', name: '', schema: { type: '' }, required: '',\n        };\n}\n\n/**\n * Get parameter types supported by spec version.\n *\n * @param {string} specVersion : The OAS version\n * @return {array} The list of supported parameter types.\n * */\nexport function getParameterTypes(specVersion) {\n    return specVersion === '2.0' ? ['query', 'header', 'body', 'formData'] : ['query', 'header', 'cookie', 'body'];\n}\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useRef, useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { capitalizeFirstLetter } from 'AppData/stringFormatter';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport {\n    iff,\n    getParameter,\n    getParameterTypes,\n    getSupportedDataTypes,\n} from 'AppComponents/Apis/Details/Resources/components/operationComponents/parameterUtils';\n\nconst useStyles = makeStyles(() => ({\n    formControl: {\n        minWidth: 120,\n    },\n    parameterContainer: {\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    checkBox: {\n        color: '#7c7c7c',\n    },\n}));\n\n/**\n *\n * Add resource parameter according to swagger spec\n * A unique parameter is defined by a combination of a name and param type and schema or content is required\n * OpenAPI 3.0 spec: https://swagger.io/specification/#parameterObject\n *\n * @export\n * @param {*} props\n * @returns\n */\nfunction AddParameter(props) {\n    const {\n        operation, operationsDispatcher, target, verb, specVersion, intl,\n    } = props;\n    const inputLabel = useRef(null);\n    const [labelWidth, setLabelWidth] = useState(0);\n    const initParameter = getParameter(specVersion);\n\n    /**\n     *\n     *\n     * @param {*} state\n     * @param {*} action\n     * @returns\n     */\n    function newParameterReducer(state, action) {\n        const { type, value } = action;\n        switch (type) {\n            case 'in':\n            case 'name':\n            case 'required':\n                return { ...state, [type]: value };\n            case 'type': {\n                if (specVersion === '2.0') {\n                    return { ...state, [type]: value };\n                } else {\n                    return { ...state, schema: { [type]: value } };\n                }\n            }\n            case 'clear':\n                return initParameter;\n            default:\n                return state;\n        }\n    }\n    const [newParameter, newParameterDispatcher] = useReducer(newParameterReducer, initParameter);\n    React.useEffect(() => {\n        setLabelWidth(inputLabel.current.offsetWidth);\n    }, []);\n\n    let isParameterExist = false;\n    const isParameterExistValue = operation.parameters && operation.parameters.map(\n        (operations) => (operations.in === newParameter.in && operations.name === newParameter.name),\n    );\n\n    if (isParameterExistValue && isParameterExistValue.includes(true)) {\n        isParameterExist = true;\n    } else {\n        isParameterExist = false;\n    }\n\n    const classes = useStyles();\n\n    /**\n     *\n     *\n     */\n    function clearInputs() {\n        newParameterDispatcher({ type: 'clear' });\n    }\n    /**\n     *\n     *\n     */\n    function addNewParameter() {\n        if (newParameter.in === 'body') {\n            operationsDispatcher(specVersion === '2.0'\n                ? {\n                    action: 'parameter',\n                    data: {\n                        target,\n                        verb,\n                        value: {\n                            name: newParameter.name,\n                            description: '',\n                            required: newParameter.required,\n                            in: newParameter.in,\n                            schema: {\n                                type: newParameter.type,\n                            },\n                        },\n                    },\n                }\n                : {\n                    action: 'requestBody',\n                    data: {\n                        target,\n                        verb,\n                        value: {\n                            description: '',\n                            required: newParameter.required,\n                            content: { [newParameter.name]: { schema: { type: 'object' } } },\n                        },\n                    },\n                });\n        } else {\n            operationsDispatcher({ action: 'parameter', data: { target, verb, value: newParameter } });\n        }\n        clearInputs();\n    }\n\n    function isDisabled() {\n        if (specVersion === '2.0') {\n            return (!newParameter.name || !newParameter.type || !newParameter.in || isParameterExist);\n        }\n        return (!newParameter.name || !newParameter.schema.type || !newParameter.in || isParameterExist);\n    }\n\n    function getParameterNameHelperText(paramIn) {\n        if (isParameterExist) {\n            return intl.formatMessage({\n                id: 'Apis.Details.Resources.components.operationComponents.AddParameter.parameter.name.already.exists',\n                defaultMessage: 'Parameter name already exists',\n            });\n        }\n        if (paramIn === 'body') {\n            if (specVersion !== '2.0') {\n                return intl.formatMessage({\n                    id: 'Apis.Details.Resources.components.operationComponents.AddParameter.enter.content.type',\n                    defaultMessage: 'Enter Content Type',\n                });\n            }\n        }\n        return intl.formatMessage({\n            id: 'Apis.Details.Resources.components.operationComponents.AddParameter.enter.parameter.name',\n            defaultMessage: 'Enter Parameter Name',\n        });\n    }\n\n    return (\n        <Grid container direction='row' spacing={1} className={classes.parameterContainer}>\n            <Grid item xs={2} md={2}>\n                <FormControl margin='dense' variant='outlined' className={classes.formControl}>\n                    <InputLabel ref={inputLabel} htmlFor='param-in' error={isParameterExist}>\n                        Parameter Type\n                    </InputLabel>\n\n                    <Select\n                        value={newParameter.in}\n                        onChange={({ target: { name, value } }) => newParameterDispatcher({ type: name, value })}\n                        labelWidth={labelWidth}\n                        inputProps={{\n                            name: 'in',\n                            id: 'param-in',\n                        }}\n                        MenuProps={{\n                            getContentAnchorEl: null,\n                            anchorOrigin: {\n                                vertical: 'bottom',\n                                horizontal: 'left',\n                            },\n                        }}\n                        error={isParameterExist}\n                    >\n                        {getParameterTypes(specVersion).map((paramType) => {\n                            if ((paramType === 'body' || paramType === 'formData')\n                                && !['post', 'put', 'patch'].includes(verb)) {\n                                return null;\n                            }\n                            return (\n                                <MenuItem value={paramType} dense>\n                                    {capitalizeFirstLetter(paramType)}\n                                </MenuItem>\n                            );\n                        })}\n                    </Select>\n                    {isParameterExist\n                        ? (\n                            <FormHelperText id='my-helper-text' error>\n                                <FormattedMessage\n                                    id='Apis.Details.Resources.components.operationComponents.parameter.name.exists'\n                                    defaultMessage='Parameter type already exists'\n                                />\n                            </FormHelperText>\n                        )\n                        : (\n                            <FormHelperText id='my-helper-text'>\n                                <FormattedMessage\n                                    id='Apis.Details.Resources.components.operationComponents.select.parameter.type'\n                                    defaultMessage='Select the parameter type'\n                                />\n                            </FormHelperText>\n                        )}\n                </FormControl>\n            </Grid>\n            <Grid item xs={2} md={2}>\n                <TextField\n                    id='parameter-name'\n                    label={newParameter.in === 'body'\n                        ? iff(specVersion === '2.0',\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.operationComponents.parameter.name'\n                                defaultMessage='Parameter Name'\n                            />,\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.operationComponents.content.type'\n                                defaultMessage='Content Type'\n                            />)\n                        : (\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.operationComponents.parameter.name'\n                                defaultMessage='Parameter Name'\n                            />\n                        )}\n                    name='name'\n                    value={newParameter.name}\n                    onChange={({ target: { name, value } }) => newParameterDispatcher({ type: name, value })}\n                    helperText={getParameterNameHelperText(newParameter.in)}\n                    margin='dense'\n                    variant='outlined'\n                    onKeyPress={(event) => {\n                        if (event.key === 'Enter') {\n                            // key code 13 is for `Enter` key\n                            event.preventDefault(); // To prevent form submissions\n                            addNewParameter();\n                        }\n                    }}\n                    error={isParameterExist}\n                />\n            </Grid>\n            <Grid item xs={2} md={2}>\n                <FormControl margin='dense' variant='outlined' className={classes.formControl}>\n                    <InputLabel ref={inputLabel} htmlFor='data-type' error={isParameterExist}>\n                        <FormattedMessage\n                            id='Apis.Details.Resources.components.operationComponents.data.type'\n                            defaultMessage='Data Type'\n                        />\n                    </InputLabel>\n\n                    <Select\n                        value={newParameter.schema !== undefined ? newParameter.schema.type : newParameter.type}\n                        onChange={({ target: { name, value } }) => newParameterDispatcher({ type: name, value })}\n                        labelWidth={labelWidth}\n                        inputProps={{\n                            name: 'type',\n                            id: 'data-type',\n                        }}\n                        MenuProps={{\n                            getContentAnchorEl: null,\n                            anchorOrigin: {\n                                vertical: 'bottom',\n                                horizontal: 'left',\n                            },\n                        }}\n                        error={isParameterExist}\n                    >\n                        {getSupportedDataTypes(specVersion, newParameter.in).map((paramType) => {\n                            return (\n                                <MenuItem value={paramType} dense>\n                                    {capitalizeFirstLetter(paramType)}\n                                </MenuItem>\n                            );\n                        })}\n                    </Select>\n                    <FormHelperText id='my-helper-text'>Select the data type</FormHelperText>\n                </FormControl>\n            </Grid>\n            <Grid item xs={2} md={2}>\n                <FormControl component='fieldset' className={classes.formControl}>\n                    <FormControlLabel\n                        className={classes.checkBox}\n                        control={(\n                            <Checkbox\n                                checked={newParameter.required}\n                                onChange={\n                                    ({\n                                        target: { name, value },\n                                    }) => newParameterDispatcher({ type: name, value: !value })\n                                }\n                                value={newParameter.required}\n                                inputProps={{\n                                    name: 'required',\n                                }}\n                            />\n                        )}\n                        label={(\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.operationComponents.required'\n                                defaultMessage='Required'\n                            />\n                        )}\n                    />\n                    <FormHelperText>\n                        <FormattedMessage\n                            id='Apis.Details.Resources.components.operationComponents.required.helper.text'\n                            defaultMessage='Check whether the parameter is required.'\n                        />\n                    </FormHelperText>\n                </FormControl>\n            </Grid>\n            <Grid item xs={2} md={2}>\n                <Tooltip\n                    title={(\n                        <FormattedMessage\n                            id='Apis.Details.Resources.components.operationComponents.AddParameter.add.tooltip'\n                            defaultMessage='Add new parameter'\n                        />\n                    )}\n                    aria-label='AddParameter'\n                    placement='bottom'\n                    interactive\n                >\n                    <span>\n                        <Button\n                            style={{ marginLeft: '20px', marginBottom: '15px', marginRight: '20px' }}\n                            disabled={isDisabled()}\n                            size='small'\n                            variant='outlined'\n                            aria-label='add'\n                            color='primary'\n                            onClick={addNewParameter}\n                        >\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.operationComponents.AddParameter.add'\n                                defaultMessage='Add'\n                            />\n                        </Button>\n                    </span>\n                </Tooltip>\n                <sup>\n                    <Tooltip\n                        title={(\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.AddParameter.clear.inputs.tooltip'\n                                defaultMessage='Clear inputs'\n                            />\n                        )}\n                        aria-label='clear-inputs'\n                        placement='bottom'\n                        interactive\n                    >\n                        <span>\n                            <IconButton onClick={clearInputs} size='small'>\n                                <ClearIcon />\n                            </IconButton>\n                        </span>\n                    </Tooltip>\n                </sup>\n            </Grid>\n        </Grid>\n    );\n}\n\nAddParameter.propTypes = {\n    operation: PropTypes.shape({}).isRequired,\n    operationsDispatcher: PropTypes.func.isRequired,\n    target: PropTypes.string.isRequired,\n    verb: PropTypes.string.isRequired,\n    specVersion: PropTypes.string.isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\nexport default React.memo(injectIntl(AddParameter));\n","/*\n *  Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n *  WSO2 Inc. licenses this file to you under the Apache License,\n *  Version 2.0 (the \"License\"); you may not use this file except\n *  in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing,\n *  software distributed under the License is distributed on an\n *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n *  KIND, either express or implied. See the License for the\n *  specific language governing permissions and limitations\n *  under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport TableCell from '@material-ui/core/TableCell';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport TableRow from '@material-ui/core/TableRow';\n\n/**\n * Component to render the Request b\n *\n * */\nfunction RequestBody(props) {\n    const {\n        contentType, content, operation, disableUpdate, hideParameterEdit, operationsDispatcher, target, verb,\n    } = props;\n    return (\n        <TableRow key={contentType}>\n            <TableCell align='left'>\n                <FormattedMessage\n                    id='Apis.Details.Resources.components.operationComponents.ListParameter.body'\n                    defaultMessage='Body'\n                />\n            </TableCell>\n            <TableCell>{contentType}</TableCell>\n            <TableCell align='left'>{content.schema.type}</TableCell>\n            <TableCell align='left'>\n                {operation.requestBody.required\n                    ? (\n                        <FormattedMessage\n                            id={'Apis.Details.Resources.components.operationComponents'\n                            + '.ListParameter.yes'}\n                            defaultMessage='Yes'\n                        />\n                    )\n                    : (\n                        <FormattedMessage\n                            id={'Apis.Details.Resources.components.operationComponents'\n                            + '.ListParameter.no'}\n                            defaultMessage='No'\n                        />\n                    )}\n            </TableCell>\n            {!disableUpdate && (\n                <TableCell align='left'>\n                    {hideParameterEdit && (\n                        <Tooltip title='Edit'>\n                            <IconButton onClick={() => {}} fontSize='small'>\n                                <EditIcon fontSize='small' />\n                            </IconButton>\n                        </Tooltip>\n                    )}\n                    <Tooltip title={(\n                        <FormattedMessage\n                            id={'Apis.Details.Resources.components.operationComponents'\n                            + '.ListParameter.delete'}\n                            defaultMessage='Delete'\n                        />\n                    )}\n                    >\n                        <IconButton\n                            disabled={disableUpdate}\n                            onClick={() => {\n                                operationsDispatcher({\n                                    action: 'requestBody',\n                                    data: {\n                                        target,\n                                        verb,\n                                        value: {\n                                            description: '',\n                                            required: false,\n                                            content: {},\n                                        },\n                                    },\n                                });\n                            }}\n                            fontSize='small'\n                        >\n                            <DeleteIcon fontSize='small' />\n                        </IconButton>\n                    </Tooltip>\n                </TableCell>\n            )}\n        </TableRow>\n    );\n}\n\nRequestBody.propTypes = {\n    contentType: PropTypes.string.isRequired,\n    content: PropTypes.shape({}).isRequired,\n    operation: PropTypes.shape({}).isRequired,\n    disableUpdate: PropTypes.bool.isRequired,\n    hideParameterEdit: PropTypes.bool.isRequired,\n    operationsDispatcher: PropTypes.func.isRequired,\n    target: PropTypes.string.isRequired,\n    verb: PropTypes.string.isRequired,\n};\n\nexport default RequestBody;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useReducer } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Select from '@material-ui/core/Select';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { capitalizeFirstLetter } from 'AppData/stringFormatter';\nimport {\n    getSupportedDataTypes,\n    getDataFormats,\n    iff,\n} from 'AppComponents/Apis/Details/Resources/components/operationComponents/parameterUtils';\nimport { FormattedMessage } from 'react-intl';\n\nconst useStyles = makeStyles((theme) => ({\n    form: {\n        display: 'flex',\n        flexDirection: 'column',\n        margin: 'auto',\n        width: 'fit-content',\n    },\n    formControl: {\n        marginTop: theme.spacing(2),\n        minWidth: 120,\n    },\n    formControlLabel: {\n        marginTop: theme.spacing(1),\n    },\n}));\n\n/**\n *\n *\n * @export\n * @returns\n */\nexport default function EditParameter(props) {\n    const {\n        operationsDispatcher, target, verb, editingParameter, setEditingParameter, version,\n    } = props;\n    /**\n     *\n     *\n     * @param {*} currentParameter\n     * @param {*} paramAction\n     */\n    function parameterActionReducer(currentParameter, paramAction) {\n        const { action, value } = paramAction;\n        const nextParameter = currentParameter.schema\n            ? { ...currentParameter, schema: { ...currentParameter.schema } } : { ...currentParameter };\n        switch (action) {\n            case 'description':\n            case 'required':\n                nextParameter[action] = value;\n                break;\n            case 'type':\n            case 'format':\n                if (nextParameter.schema) {\n                    nextParameter.schema[action] = value;\n                } else {\n                    nextParameter[action] = value;\n                }\n                break;\n            default:\n                break;\n        }\n        return nextParameter;\n    }\n    const [parameter, parameterActionDispatcher] = useReducer(parameterActionReducer, editingParameter);\n    const classes = useStyles();\n\n    const handleClose = () => {\n        setEditingParameter(null);\n    };\n\n    /**\n     *\n     *\n     */\n    function handelDone() {\n        operationsDispatcher({ action: 'parameter', data: { target, verb, value: parameter } });\n        handleClose();\n    }\n    const isEditing = parameter !== null;\n    if (!isEditing) {\n        return null;\n    }\n    return (\n        <Dialog fullWidth maxWidth='md' open={isEditing} onClose={handleClose} aria-labelledby='edit-parameter'>\n            <DialogTitle disableTypography id='edit-parameter'>\n                <Typography variant='h6'>\n                    <FormattedMessage\n                        id='Apis.Details.Resources.components.operationComponents.EditParameter.title'\n                        defaultMessage='Edit'\n                    />\n                    {' '}\n                    <Typography display='inline' variant='subtitle1'>\n                        {capitalizeFirstLetter(parameter.in)}\n                        {' '}\n                        :\n                        {parameter.name}\n                    </Typography>\n                </Typography>\n            </DialogTitle>\n            <DialogContent>\n                <Grid container direction='row' spacing={2} justify='flex-start' alignItems='center'>\n                    <Grid item md={6}>\n                        <TextField\n                            value={capitalizeFirstLetter(parameter.in)}\n                            disabled\n                            fullWidth\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.Resources.components.operationComponents.EditParameter.type'\n                                    defaultMessage='Parameter Type'\n                                />\n                            )}\n                            margin='dense'\n                            variant='outlined'\n                        />\n                    </Grid>\n                    <Grid item md={6}>\n                        <TextField\n                            value={parameter.name}\n                            disabled\n                            fullWidth\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.Resources.components.operationComponents.EditParameter.name'\n                                    defaultMessage='Name'\n                                />\n                            )}\n                            margin='dense'\n                            variant='outlined'\n                        />\n                    </Grid>\n                    <Grid item md={12}>\n                        <TextField\n                            value={parameter.description}\n                            fullWidth\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.Resources.components.operationComponents.EditParameter.description'\n                                    defaultMessage='Description'\n                                />\n                            )}\n                            multiline\n                            rows='4'\n                            name='description'\n                            margin='normal'\n                            variant='outlined'\n                            onChange={({ target: { name, value } }) => {\n                                parameterActionDispatcher({ action: name, value });\n                            }}\n                        />\n                    </Grid>\n                    <Grid item md={6}>\n                        <FormControl\n                            required\n                            fullWidth\n                            margin='dense'\n                            variant='outlined'\n                            className={classes.formControl}\n                        >\n                            <InputLabel required id='edit-parameter-type'>\n                                <FormattedMessage\n                                    id='Apis.Details.Resources.components.operationComponents.EditParameter.data.type'\n                                    defaultMessage='Data Type'\n                                />\n                            </InputLabel>\n\n                            <Select\n                                value={parameter.schema ? parameter.schema.type : parameter.type}\n                                onChange={\n                                    ({ target: { name, value } }) => parameterActionDispatcher({ action: name, value })\n                                }\n                                inputProps={{\n                                    name: 'type',\n                                    id: 'edit-parameter-type',\n                                }}\n                                MenuProps={{\n                                    getContentAnchorEl: null,\n                                    anchorOrigin: {\n                                        vertical: 'bottom',\n                                        horizontal: 'left',\n                                    },\n                                }}\n                            >\n                                {getSupportedDataTypes(version, parameter.in).map((dataType) => (\n                                    <MenuItem value={dataType} dense>\n                                        {capitalizeFirstLetter(dataType)}\n                                    </MenuItem>\n                                ))}\n                            </Select>\n                            <FormHelperText>\n                                <FormattedMessage\n                                    id={'Apis.Details.Resources.components.operationComponents.EditParameter.'\n                                    + 'select.schema.data.type'}\n                                    defaultMessage='Select the Schema Type'\n                                />\n                            </FormHelperText>\n                        </FormControl>\n                    </Grid>\n                    <Grid item md={6}>\n                        <FormControl\n                            fullWidth\n                            margin='dense'\n                            variant='outlined'\n                            className={classes.formControl}\n                            disabled={parameter.schema\n                                ? iff(\n                                    parameter.schema.type === 'boolean' || parameter.schema.type === 'object',\n                                    true,\n                                    false,\n                                )\n                                : iff(\n                                    parameter.type === 'boolean' || parameter.type === 'object',\n                                    true,\n                                    false,\n                                )}\n                        >\n                            <InputLabel id='edit-parameter-format'>\n                                <FormattedMessage\n                                    id={'Apis.Details.Resources.components.operationComponents.EditParameter.'\n                                    + 'data.format'}\n                                    defaultMessage='Data Format'\n                                />\n                            </InputLabel>\n                            <Select\n                                value={parameter.schema ? parameter.schema.format : parameter.format}\n                                onChange={\n                                    ({ target: { name, value } }) => parameterActionDispatcher({ action: name, value })\n                                }\n                                inputProps={{\n                                    name: 'format',\n                                    id: 'edit-parameter-format',\n                                }}\n                                MenuProps={{\n                                    getContentAnchorEl: null,\n                                    anchorOrigin: {\n                                        vertical: 'bottom',\n                                        horizontal: 'left',\n                                    },\n                                }}\n                            >\n                                {getDataFormats(\n                                    parameter.schema ? parameter.schema.type : parameter.type,\n                                ).map((dataType) => (\n                                    <MenuItem value={dataType} dense>\n                                        {capitalizeFirstLetter(dataType)}\n                                    </MenuItem>\n                                ))}\n                            </Select>\n                            <FormHelperText>\n                                <FormattedMessage\n                                    id={'Apis.Details.Resources.components.operationComponents.EditParameter.'\n                                    + 'select.format.of.data.type'}\n                                    defaultMessage='Select the Format of Data Type'\n                                />\n                            </FormHelperText>\n                        </FormControl>\n                    </Grid>\n                    <Grid item>\n                        <FormControl component='fieldset'>\n                            <FormControlLabel\n                                control={(\n                                    <Checkbox\n                                        checked={parameter.required}\n                                        onChange={(\n                                            { target: { name, checked } },\n                                        ) => parameterActionDispatcher({ action: name, value: checked })}\n                                        value={parameter.required}\n                                        inputProps={{\n                                            name: 'required',\n                                        }}\n                                    />\n                                )}\n                                label={(\n                                    <FormattedMessage\n                                        id={'Apis.Details.Resources.components.operationComponents.EditParameter.'\n                                        + 'required'}\n                                        defaultMessage='Required'\n                                    />\n                                )}\n                            />\n                        </FormControl>\n                    </Grid>\n                    <Grid container direction='row' justify='flex-end' alignItems='center'>\n                        <DialogContentText>\n                            <FormattedMessage\n                                id={'Apis.Details.Resources.components.operationComponents.EditParameter.'\n                                + 'use.done.button.to.persist.changes'}\n                                defaultMessage='Use DONE button in the page to persist changes'\n                            />\n                        </DialogContentText>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button size='small' onClick={handleClose} color='primary'>\n                    <FormattedMessage\n                        id='Apis.Details.Resources.components.operationComponents.EditParameter.close'\n                        defaultMessage='Close'\n                    />\n                </Button>\n                <Button size='small' onClick={handelDone} variant='contained' color='primary'>\n                    <FormattedMessage\n                        id='Apis.Details.Resources.components.operationComponents.EditParameter.done'\n                        defaultMessage='Done'\n                    />\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nEditParameter.propTypes = {\n    operationsDispatcher: PropTypes.func.isRequired,\n    target: PropTypes.string.isRequired,\n    verb: PropTypes.string.isRequired,\n    editingParameter: PropTypes.shape({}).isRequired,\n    setEditingParameter: PropTypes.func.isRequired,\n    version: PropTypes.string.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { capitalizeFirstLetter } from 'AppData/stringFormatter';\nimport { FormattedMessage } from 'react-intl';\nimport { isRef } from 'AppComponents/Apis/Details/Resources/operationUtils';\nimport RequestBody from 'AppComponents/Apis/Details/Resources/components/operationComponents/RequestBody';\nimport EditParameter from './EditParameter';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100%',\n        overflowX: 'auto',\n    },\n    table: {\n        minWidth: 650,\n    },\n});\n\n/**\n *\n * Renders the operation parameters section\n * @export\n * @param {*} props\n * @returns\n */\nexport default function ListParameters(props) {\n    const {\n        operation, operationsDispatcher, target, verb, disableUpdate, hideParameterEdit, specVersion, resolvedSpec,\n    } = props;\n    const classes = useStyles();\n    const [editingParameter, setEditingParameter] = useState(null);\n\n    return (\n        <>\n            {editingParameter !== null && (\n                <EditParameter\n                    operationsDispatcher={operationsDispatcher}\n                    target={target}\n                    verb={verb}\n                    editingParameter={editingParameter}\n                    setEditingParameter={setEditingParameter}\n                    version={specVersion}\n                />\n            )}\n            <Table className={classes.table} aria-label='parameters list'>\n                <TableHead>\n                    <TableRow>\n                        <TableCell align='left'>\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.operationComponents.ListParameter.parameter.type'\n                                defaultMessage='Parameter Type'\n                            />\n                        </TableCell>\n                        <TableCell>\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.operationComponents.ListParameter.parameter.name'\n                                defaultMessage='Name'\n                            />\n                        </TableCell>\n                        <TableCell align='left'>\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.operationComponents.ListParameter.data.type'\n                                defaultMessage='Data Type'\n                            />\n                        </TableCell>\n                        <TableCell align='left'>\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.operationComponents.ListParameter.required'\n                                defaultMessage='Required'\n                            />\n                        </TableCell>\n                        {!disableUpdate && (\n                            <TableCell align='left'>\n                                <FormattedMessage\n                                    id='Apis.Details.Resources.components.operationComponents.ListParameter.actions'\n                                    defaultMessage='Actions'\n                                />\n                            </TableCell>\n                        )}\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {operation.parameters\n                        && operation.parameters.map((parameter, index) => {\n                            const isRefParam = isRef(parameter);\n                            const paramCopy = isRefParam\n                                ? resolvedSpec.paths[target][verb].parameters[index] : parameter;\n                            return (\n                                <TableRow key={paramCopy.name}>\n                                    <TableCell align='left'>{capitalizeFirstLetter(paramCopy.in)}</TableCell>\n                                    <TableCell align='left'>{paramCopy.name}</TableCell>\n                                    <TableCell align='left'>\n                                        {capitalizeFirstLetter(paramCopy.schema\n                                            ? paramCopy.schema.type : paramCopy.type)}\n                                    </TableCell>\n                                    <TableCell align='left'>\n                                        {paramCopy.required\n                                            ? (\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Resources.components.operationComponents'\n                                                + '.ListParameter.yes'}\n                                                    defaultMessage='Yes'\n                                                />\n                                            )\n                                            : (\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Resources.components.operationComponents'\n                                                + '.ListParameter.no'}\n                                                    defaultMessage='No'\n                                                />\n                                            )}\n                                    </TableCell>\n                                    {!disableUpdate && (\n                                        <TableCell align='left'>\n                                            {!isRefParam && (\n                                                <Tooltip title={(\n                                                    <FormattedMessage\n                                                        id={'Apis.Details.Resources.components.operationComponents.'\n                                                    + 'ListParameter.edit'}\n                                                        defaultMessage='Edit'\n                                                    />\n                                                )}\n                                                >\n                                                    <IconButton\n                                                        onClick={() => setEditingParameter(parameter)}\n                                                        fontSize='small'\n                                                    >\n                                                        <EditIcon fontSize='small' />\n                                                    </IconButton>\n                                                </Tooltip>\n                                            )}\n                                            <Tooltip title={(\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Resources.components.operationComponents'\n                                                + '.ListParameter.delete'}\n                                                    defaultMessage='Delete'\n                                                />\n                                            )}\n                                            >\n                                                <IconButton\n                                                    disabled={disableUpdate}\n                                                    onClick={() => operationsDispatcher({\n                                                        action: 'deleteParameter',\n                                                        data: { target, verb, value: paramCopy },\n                                                    })}\n                                                    fontSize='small'\n                                                >\n                                                    <DeleteIcon fontSize='small' />\n                                                </IconButton>\n                                            </Tooltip>\n                                        </TableCell>\n                                    )}\n                                </TableRow>\n                            );\n                        })}\n                    {operation.requestBody && (isRef(operation.requestBody)\n                        ? Object.entries(resolvedSpec.paths[target][verb].requestBody.content).map(\n                            ([contentType, content]) => {\n                                return (\n                                    <RequestBody\n                                        contentType={contentType}\n                                        content={content}\n                                        operation={operation}\n                                        disableUpdate={disableUpdate}\n                                        hideParameterEdit={hideParameterEdit}\n                                        operationsDispatcher={operationsDispatcher}\n                                        target={target}\n                                        verb={verb}\n                                    />\n                                );\n                            },\n                        ) : Object.entries(operation.requestBody.content).map(([contentType, content]) => {\n                            return (\n                                <RequestBody\n                                    contentType={contentType}\n                                    content={content}\n                                    operation={operation}\n                                    disableUpdate={disableUpdate}\n                                    hideParameterEdit={hideParameterEdit}\n                                    operationsDispatcher={operationsDispatcher}\n                                    target={target}\n                                    verb={verb}\n                                />\n                            );\n                        }))}\n                </TableBody>\n            </Table>\n        </>\n    );\n}\n\nListParameters.defaultProps = {\n    hideParameterEdit: false,\n    disableUpdate: false,\n};\nListParameters.propTypes = {\n    operation: PropTypes.shape({}).isRequired,\n    spec: PropTypes.shape({}).isRequired,\n    hideParameterEdit: PropTypes.bool,\n    operationsDispatcher: PropTypes.func.isRequired,\n    target: PropTypes.string.isRequired,\n    verb: PropTypes.string.isRequired,\n    disableUpdate: PropTypes.bool,\n    specVersion: PropTypes.string.isRequired,\n    resolvedSpec: PropTypes.shape({}).isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport { getVersion } from 'AppComponents/Apis/Details/Resources/operationUtils';\nimport AddParameter from './AddParameter';\nimport ListParameters from './ListParameters';\n\n/**\n * Renders the operation parameters section\n * @export\n * @param {*} props\n * @returns\n */\nexport default function Parameters(props) {\n    const {\n        operation, spec, target, verb, operationsDispatcher, disableUpdate, resolvedSpec,\n    } = props;\n    const specVersion = getVersion(spec);\n    const haveParameters = (operation.parameters && operation.parameters.length !== 0) || operation.requestBody;\n    return (\n        <>\n            <Grid item xs={12} md={12}>\n                <Typography variant='subtitle1'>\n                    Parameters\n                    <Divider variant='middle' />\n                </Typography>\n            </Grid>\n            <Grid item xs={1} />\n            <Grid item xs={11}>\n                {!disableUpdate && (\n                    <AddParameter\n                        target={target}\n                        verb={verb}\n                        operationsDispatcher={operationsDispatcher}\n                        operation={operation}\n                        specVersion={specVersion}\n                    />\n                )}\n            </Grid>\n            <Grid item md={1} />\n            <Grid item md={11}>\n                {haveParameters && (\n                    <ListParameters\n                        disableUpdate={disableUpdate}\n                        target={target}\n                        verb={verb}\n                        operationsDispatcher={operationsDispatcher}\n                        operation={operation}\n                        spec={spec}\n                        specVersion={specVersion}\n                        resolvedSpec={resolvedSpec}\n                    />\n                )}\n            </Grid>\n        </>\n    );\n}\n\nParameters.propTypes = {\n    target: PropTypes.string.isRequired,\n    verb: PropTypes.string.isRequired,\n    spec: PropTypes.shape({}).isRequired,\n    operationsDispatcher: PropTypes.func.isRequired,\n    operation: PropTypes.shape({}).isRequired,\n    disableUpdate: PropTypes.bool,\n    resolvedSpec: PropTypes.shape({}).isRequired,\n};\n\nParameters.defaultProps = {\n    disableUpdate: false,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n/**\n *\n *\n * @export\n * @returns\n */\nexport default function CloseConfirmation(props) {\n    const { open, onClose, closeEditor } = props;\n\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby='alert-dialog-title'\n            aria-describedby='alert-dialog-description'\n        >\n            <DialogTitle id='alert-dialog-title'>Discard changes and Close</DialogTitle>\n            <DialogContent>\n                <DialogContentText id='alert-dialog-description'>\n                    All the unsaved changes will be lost\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color='primary'>\n                    Cancel\n                </Button>\n                <Button\n                    onClick={() => {\n                        onClose();\n                        closeEditor();\n                    }}\n                    color='primary'\n                    autoFocus\n                >\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nCloseConfirmation.propTypes = {\n    open: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    closeEditor: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Suspense, lazy, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Fade from '@material-ui/core/Fade';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Grid from '@material-ui/core/Grid';\nimport Banner from 'AppComponents/Shared/Banner';\nimport CloseConfirmation from './CloseConfirmation';\n\nconst MonacoEditor = lazy(() => import('react-monaco-editor' /* webpackChunkName: \"PolicyEditorMonaco\" */));\n\nconst useStyles = makeStyles((theme) => ({\n    appBar: {\n        // position: 'relative',\n        top: 'auto',\n        bottom: 0,\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}));\n\nconst Transition = React.forwardRef((props, ref) => {\n    return <Fade in ref={ref} {...props} />;\n});\n\n/**\n *\n *\n * @export\n * @returns\n */\nexport default function PolicyEditor(props) {\n    const classes = useStyles();\n    const [api] = useAPI();\n    const {\n        open,\n        onClose,\n        prefersDarkMode,\n        originalResourcePolicy,\n        selectedPolicy,\n        setPolicyContent,\n        resourcePoliciesDispatcher,\n        direction,\n    } = props;\n    const [pageError, setPageError] = useState(null);\n    const [openConfirmation, setOpenConfirmation] = useState(false);\n    const [saving, setSaving] = useState(false);\n\n    const editorOptions = {\n        selectOnLineNumbers: true,\n        readOnly: saving,\n        smoothScrolling: true,\n        wordWrap: 'on',\n    };\n    const editorProps = {\n        language: 'xml',\n        height: 'calc(100vh)',\n        theme: prefersDarkMode ? 'vs-dark' : 'vs',\n        value: selectedPolicy.content,\n        options: editorOptions,\n        onChange: setPolicyContent,\n    };\n\n    /**\n     *\n     *\n     */\n    function confirmAndClose() {\n        // No need to confirm if user have not done any changes\n        if (selectedPolicy.content !== originalResourcePolicy.content) {\n            setOpenConfirmation(true);\n        } else {\n            onClose();\n        }\n    }\n    /**\n     *\n     *\n     */\n    function save() {\n        setSaving(true);\n        api.updateResourcePolicy(selectedPolicy)\n            .then((response) => {\n                Alert.success('Resource policy updated successfully');\n                resourcePoliciesDispatcher({ action: 'update', data: { value: response.body, direction } });\n                onClose();\n            })\n            .catch((error) => {\n                if (error.response) {\n                    Alert.error(error.response.body.description);\n                    setPageError(error.response.body);\n                } else {\n                    // TODO add i18n ~tmkb\n                    const message = error.message || 'Something went wrong while updating resource policy!';\n                    Alert.error(message);\n                    setPageError(message);\n                }\n                console.error(error);\n            })\n            .finally(() => setSaving(false));\n    }\n\n    return (\n        <Dialog fullScreen open={open} onClose={onClose} TransitionComponent={Transition}>\n            <AppBar position='fixed' color='default' className={classes.appBar}>\n                <Toolbar variant='dense'>\n                    <Grid container direction='row' justify='flex-start' alignItems='flex-start'>\n                        <Grid item>\n                            <Button\n                                disabled={saving}\n                                variant='outlined'\n                                color='primary'\n                                className={classes.title}\n                                onClick={save}\n                            >\n                                save & close\n                                {saving && <CircularProgress size={18} />}\n                            </Button>\n                        </Grid>\n                        <Grid item>\n                            <Button color='inherit' className={classes.title} onClick={confirmAndClose}>\n                                close\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </Toolbar>\n            </AppBar>\n            <Grid container direction='row' justify='center' alignItems='center'>\n                {pageError && (\n                    <Grid item xs={12}>\n                        <Banner\n                            onClose={() => setPageError(null)}\n                            disableActions\n                            dense\n                            paperProps={{ elevation: 1 }}\n                            type='error'\n                            message={pageError}\n                        />\n                    </Grid>\n                )}\n            </Grid>\n            <Grid item xs={12}>\n                <Suspense fallback={<CircularProgress disableShrink />}>\n                    <MonacoEditor {...editorProps} />\n                </Suspense>\n            </Grid>\n            <CloseConfirmation\n                open={openConfirmation}\n                onClose={() => {\n                    setPolicyContent(originalResourcePolicy.content);\n                    setOpenConfirmation(false);\n                }}\n                closeEditor={onClose}\n            />\n        </Dialog>\n    );\n}\nPolicyEditor.defaultProps = {\n    open: false,\n    onClose: () => {},\n    prefersDarkMode: false,\n\n};\nPolicyEditor.propTypes = {\n    open: PropTypes.bool,\n    onClose: PropTypes.func,\n    prefersDarkMode: PropTypes.bool,\n    originalResourcePolicy: PropTypes.shape({}).isRequired,\n    selectedPolicy: PropTypes.shape({}).isRequired,\n    setPolicyContent: PropTypes.func.isRequired,\n    resourcePoliciesDispatcher: PropTypes.func.isRequired,\n    direction: PropTypes.oneOf(['in', 'out']).isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, {\n    useState, Suspense, lazy, useEffect,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Button from '@material-ui/core/Button';\nimport EditIcon from '@material-ui/icons/Edit';\nimport Paper from '@material-ui/core/Paper';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\n\nimport PolicyEditor from './PolicyEditor';\n\nconst MonacoEditor = lazy(() => import('react-monaco-editor' /* webpackChunkName: \"SOAPToRESTMonaco\" */));\n\n/**\n *\n * Renders the operation parameters section\n * @export\n * @param {*} props\n * @returns\n */\nexport default function SOAPToRESTListing(props) {\n    const { resourcePolicy, resourcePoliciesDispatcher } = props;\n    const [resourcePolicyIn, setResourcePolicyIn] = useState(resourcePolicy.in);\n    const [resourcePolicyOut, setResourcePolicyOut] = useState(resourcePolicy.out);\n    useEffect(() => {\n        setResourcePolicyIn(resourcePolicy.in);\n        setResourcePolicyOut(resourcePolicy.out);\n    }, [resourcePolicy]);\n    // Get use preference from OS https://material-ui.com/customization/palette/#user-preference\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n    const [openEditor, setOpenEditor] = useState(false);\n    const [selectedTab, setTabIndex] = useState('in');\n    const editorOptions = {\n        selectOnLineNumbers: true,\n        readOnly: true,\n        smoothScrolling: true,\n        wordWrap: 'on',\n    };\n    const selectedPolicy = selectedTab === 'in' ? resourcePolicyIn : resourcePolicyOut;\n    const editorProps = {\n        language: 'xml',\n        height: 'calc(50vh)',\n        theme: prefersDarkMode ? 'vs-dark' : 'vs',\n        value: selectedPolicy.content,\n        options: editorOptions,\n    };\n\n    /**\n     *\n     *\n     * @param {*} content\n     */\n    function setPolicyContent(content) {\n        if (selectedTab === 'in') {\n            setResourcePolicyIn({ ...resourcePolicyIn, content });\n        } else {\n            setResourcePolicyOut({ ...resourcePolicyOut, content });\n        }\n    }\n    return (\n        <>\n            <Grid item xs={12} md={12}>\n                <Typography variant='subtitle1'>\n                    Mediation\n                    <Divider variant='middle' />\n                </Typography>\n            </Grid>\n            <Grid item xs={12}>\n                <Tabs\n                    value={selectedTab}\n                    indicatorColor='primary'\n                    textColor='primary'\n                    onChange={(event, tab) => setTabIndex(tab)}\n                    aria-label='Resource mediation in/out tabs'\n                >\n                    <Tab value='in' label='In' />\n                    <Tab value='out' label='Out' />\n                </Tabs>\n                <Box p={1}>\n                    <Button onClick={() => setOpenEditor(true)} variant='outlined' size='small' color='primary'>\n                        Edit\n                        {' '}\n                        <EditIcon />\n                    </Button>\n                    {!openEditor && (\n                        <Paper elevation={4}>\n                            <Suspense fallback={<CircularProgress disableShrink />}>\n                                <MonacoEditor {...editorProps} />\n                            </Suspense>\n                        </Paper>\n                    )}\n                </Box>\n            </Grid>\n            <PolicyEditor\n                resourcePoliciesDispatcher={resourcePoliciesDispatcher}\n                setPolicyContent={setPolicyContent}\n                selectedPolicy={selectedPolicy}\n                originalResourcePolicy={resourcePolicy[selectedTab]}\n                direction={selectedTab}\n                prefersDarkMode={prefersDarkMode}\n                onClose={() => setOpenEditor(false)}\n                open={openEditor}\n            />\n        </>\n    );\n}\n\nSOAPToRESTListing.defaultProps = {\n    disableUpdate: false,\n};\nSOAPToRESTListing.propTypes = {\n    resourcePoliciesDispatcher: PropTypes.func.isRequired,\n    resourcePolicy: PropTypes.shape({}).isRequired,\n    operationsDispatcher: PropTypes.func.isRequired,\n    target: PropTypes.string.isRequired,\n    verb: PropTypes.string.isRequired,\n    disableUpdate: PropTypes.bool,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Utils from 'AppData/Utils';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport IconButton from '@material-ui/core/IconButton';\nimport Badge from '@material-ui/core/Badge';\nimport ReportProblemOutlinedIcon from '@material-ui/icons/ReportProblemOutlined';\n// spliced operation components\n\nimport { FormattedMessage } from 'react-intl';\nimport DescriptionAndSummary from './operationComponents/DescriptionAndSummary';\nimport OperationGovernance from './operationComponents/OperationGovernance';\nimport AWSLambdaSettings from './operationComponents/AWSLambdaSettings';\nimport Parameters from './operationComponents/Parameters';\nimport SOAPToRESTListing from './operationComponents/SOAPToREST/SOAPToRESTListing';\nimport { getOperationScopes } from '../operationUtils';\n\n/**\n *\n * Handle the operation UI\n * @export\n * @param {*} props\n * @returns {React.Component} @inheritdoc\n */\nfunction Operation(props) {\n    const {\n        operation,\n        operationsDispatcher,\n        highlight,\n        operationRateLimits,\n        api,\n        disableDelete,\n        disableUpdate,\n        onMarkAsDelete,\n        markAsDelete,\n        hideParameters,\n        spec,\n        resourcePolicy,\n        resourcePoliciesDispatcher,\n        target,\n        verb,\n        arns,\n        resolvedSpec,\n        sharedScopes,\n    } = props;\n    const [isExpanded, setIsExpanded] = useState(false);\n    const useStyles = makeStyles((theme) => {\n        const backgroundColor = theme.custom.resourceChipColors[verb];\n        return {\n            customButton: {\n                '&:hover': { backgroundColor },\n                backgroundColor,\n                width: theme.spacing(12),\n            },\n            paperStyles: {\n                border: `1px solid ${backgroundColor}`,\n                borderBottom: '',\n            },\n            customDivider: {\n                backgroundColor,\n            },\n            linearProgress: {\n                height: '2px',\n            },\n            highlightSelected: {\n                backgroundColor: Utils.hexToRGBA(backgroundColor, 0.1),\n            },\n            contentNoMargin: {\n                margin: theme.spacing(0),\n            },\n            overlayUnmarkDelete: {\n                position: 'absolute',\n                zIndex: theme.zIndex.operationDeleteUndo,\n                right: '10%',\n            },\n        };\n    });\n    const apiOperation = api.operations[target] && api.operations[target][verb.toUpperCase()];\n    const isUsedInAPIProduct = apiOperation && Array.isArray(\n        apiOperation.usedProductIds,\n    ) && apiOperation.usedProductIds.length;\n\n    /**\n     *\n     *\n     * @param {*} event\n     */\n    function toggleDelete(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        setIsExpanded(false);\n        onMarkAsDelete({ verb, target }, !markAsDelete);\n    }\n\n    /**\n     *\n     *\n     * @param {*} event\n     * @param {*} expanded\n     */\n    function handleExpansion(event, expanded) {\n        setIsExpanded(expanded);\n    }\n    const classes = useStyles();\n    return (\n        <>\n            {markAsDelete && (\n                <Box className={classes.overlayUnmarkDelete}>\n                    <Tooltip title='Marked for delete' aria-label='Marked for delete'>\n                        <Button onClick={toggleDelete} variant='outlined' style={{ marginTop: '10px' }}>\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.Operation.undo.delete'\n                                defaultMessage='Undo Delete'\n                            />\n                        </Button>\n                    </Tooltip>\n                </Box>\n            )}\n            <ExpansionPanel\n                expanded={isExpanded}\n                onChange={handleExpansion}\n                disabled={markAsDelete}\n                className={classes.paperStyles}\n            >\n                <ExpansionPanelSummary\n                    className={highlight ? classes.highlightSelected : ''}\n                    disableRipple\n                    disableTouchRipple\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls='panel2a-content'\n                    id='panel2a-header'\n                    classes={{ content: classes.contentNoMargin }}\n                >\n                    <Grid container direction='row' justify='space-between' alignItems='center' spacing={0}>\n                        <Grid item md={4}>\n                            <Badge invisible={!operation['x-wso2-new']} color='error' variant='dot'>\n                                <Button\n                                    disableFocusRipple\n                                    variant='contained'\n                                    size='small'\n                                    className={classes.customButton}\n                                >\n                                    {verb}\n                                </Button>\n                            </Badge>\n                            <Typography display='inline' style={{ margin: '0px 30px' }} variant='h6' gutterBottom>\n                                {target}\n                                <Typography\n                                    display='inline'\n                                    style={{ margin: '0px 30px' }}\n                                    variant='caption'\n                                    gutterBottom\n                                >\n                                    {operation.summary}\n                                </Typography>\n                            </Typography>\n                        </Grid>\n                        {(isUsedInAPIProduct) ? (\n                            <Grid item md={3}>\n                                <Box display='flex' justifyContent='center'>\n                                    <ReportProblemOutlinedIcon fontSize='small' />\n                                    <Box display='flex' ml={1} mt={1 / 4} fontSize='caption.fontSize'>\n                                        <FormattedMessage\n                                            id={'Apis.Details.Resources.components.Operation.this.operation.'\n                                            + 'used.in.products'}\n                                            defaultMessage={'This operation is used in {isUsedInAPIProduct} API '\n                                            + 'product(s)'}\n                                            values={{ isUsedInAPIProduct }}\n                                        />\n                                    </Box>\n                                </Box>\n                            </Grid>\n                        ) : (\n                            <Grid item md={3} />\n                        )}\n                        <Grid item md={4}>\n                            <Typography\n                                display='inline'\n                                style={{ margin: '0px 30px' }}\n                                variant='caption'\n                                gutterBottom\n                            >\n                                <b>{ getOperationScopes(operation, spec) != null && 'Scope : ' }</b>\n                                { getOperationScopes(operation, spec) != null\n                                    && getOperationScopes(operation, spec).join(', ') }\n                            </Typography>\n                        </Grid>\n                        {!(disableDelete || markAsDelete) && (\n                            <Grid item md={1} justify='flex-end' container>\n                                <Tooltip\n                                    title={\n                                        isUsedInAPIProduct\n                                            ? (\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Resources.components.Operation.cannot.delete'\n                                                    + '.when.used.in.api.products'}\n                                                    defaultMessage='Cannot delete operation when used in an API product'\n                                                />\n                                            )\n                                            : (\n                                                <FormattedMessage\n                                                    id='Apis.Details.Resources.components.Operation.Delete'\n                                                    defaultMessage='Delete'\n                                                />\n                                            )\n                                    }\n                                    aria-label={(\n                                        <FormattedMessage\n                                            id='Apis.Details.Resources.components.Operation.delete.operation'\n                                            defaultMessage='Delete operation'\n                                        />\n                                    )}\n                                >\n                                    <div>\n                                        <IconButton\n                                            disabled={Boolean(isUsedInAPIProduct) || disableUpdate}\n                                            onClick={toggleDelete}\n                                            aria-label='delete'\n                                        >\n                                            <DeleteIcon fontSize='small' />\n                                        </IconButton>\n                                    </div>\n                                </Tooltip>\n                            </Grid>\n                        )}\n                    </Grid>\n                </ExpansionPanelSummary>\n                <Divider light className={classes.customDivider} />\n                <ExpansionPanelDetails>\n                    <Grid spacing={2} container direction='row' justify='flex-start' alignItems='flex-start'>\n                        <DescriptionAndSummary\n                            operation={operation}\n                            operationsDispatcher={operationsDispatcher}\n                            disableUpdate={disableUpdate}\n                            target={target}\n                            verb={verb}\n                        />\n                        <OperationGovernance\n                            operation={operation}\n                            operationsDispatcher={operationsDispatcher}\n                            operationRateLimits={operationRateLimits}\n                            api={api}\n                            disableUpdate={disableUpdate}\n                            spec={spec}\n                            target={target}\n                            verb={verb}\n                            sharedScopes={sharedScopes}\n                        />\n                        {!hideParameters && (\n                            <Parameters\n                                operation={operation}\n                                operationsDispatcher={operationsDispatcher}\n                                operationRateLimits={operationRateLimits}\n                                api={api}\n                                disableUpdate={disableUpdate}\n                                spec={spec}\n                                target={target}\n                                verb={verb}\n                                resolvedSpec={resolvedSpec}\n                            />\n                        )}\n                        {resourcePolicy && (\n                            <SOAPToRESTListing\n                                operation={operation}\n                                operationsDispatcher={operationsDispatcher}\n                                operationRateLimits={operationRateLimits}\n                                resourcePolicy={resourcePolicy}\n                                resourcePoliciesDispatcher={resourcePoliciesDispatcher}\n                                disableUpdate={disableUpdate}\n                                spec={spec}\n                                target={target}\n                                verb={verb}\n                            />\n                        )}\n                        {\n                            api.endpointConfig\n                            && api.endpointConfig.endpoint_type\n                            && api.endpointConfig.endpoint_type === 'awslambda'\n                            && (\n                                <AWSLambdaSettings\n                                    operation={operation}\n                                    operationsDispatcher={operationsDispatcher}\n                                    target={target}\n                                    verb={verb}\n                                    arns={arns}\n                                />\n                            )\n                        }\n                    </Grid>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </>\n    );\n}\nOperation.defaultProps = {\n    highlight: false,\n    disableUpdate: false,\n    hideParameters: false,\n    disableDelete: false,\n    onMarkAsDelete: () => {},\n    markAsDelete: false,\n    operationRateLimits: [], // Response body.list from apis policies for `api` throttling policies type\n};\nOperation.propTypes = {\n    api: PropTypes.shape({ scopes: PropTypes.arrayOf(PropTypes.shape({})), resourcePolicies: PropTypes.shape({}) })\n        .isRequired,\n    operationsDispatcher: PropTypes.func.isRequired,\n    onMarkAsDelete: PropTypes.func,\n    resourcePoliciesDispatcher: PropTypes.func.isRequired,\n    markAsDelete: PropTypes.bool,\n    disableDelete: PropTypes.bool,\n    disableUpdate: PropTypes.bool,\n    hideParameters: PropTypes.bool,\n    resourcePolicy: PropTypes.shape({}).isRequired,\n    operation: PropTypes.shape({\n        'x-wso2-new': PropTypes.bool,\n        summary: PropTypes.string,\n    }).isRequired,\n    target: PropTypes.string.isRequired,\n    verb: PropTypes.string.isRequired,\n    spec: PropTypes.shape({}).isRequired,\n    highlight: PropTypes.bool,\n    operationRateLimits: PropTypes.arrayOf(PropTypes.shape({})),\n    arns: PropTypes.shape([]).isRequired,\n    resolvedSpec: PropTypes.shape({}).isRequired,\n    sharedScopes: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n};\n\nexport default React.memo(Operation);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport PropTypes from 'prop-types';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n/**\n *\n * Return a group container , User should provide the operations list as the child component\n * @export\n * @param {*} props\n * @returns {React.Component} @inheritdoc\n */\nexport default function GroupOfOperations(props) {\n    const { openAPI, children, tag } = props;\n    const currentTagInfo = openAPI.tags && openAPI.tags.find((tagInfo) => tagInfo.name === tag);\n    return (\n        <ExpansionPanel defaultExpanded>\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} aria-controls='panel1a-content' id='panel1a-header'>\n                <Typography variant='h4'>\n                    {tag}\n                    {currentTagInfo && (\n                        <Typography style={{ margin: '0px 30px' }} variant='caption'>\n                            {currentTagInfo.description}\n                        </Typography>\n                    )}\n                </Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>{children}</ExpansionPanelDetails>\n        </ExpansionPanel>\n    );\n}\n\nGroupOfOperations.propTypes = {\n    children: PropTypes.element.isRequired,\n    openAPI: PropTypes.shape({ tags: PropTypes.arrayOf(PropTypes.string) }).isRequired,\n    tag: PropTypes.string.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport PropTypes from 'prop-types';\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function SpecErrors(props) {\n    const { specErrors } = props;\n    const [open, setOpen] = useState(false);\n    if (specErrors.length === 0) {\n        return null;\n    }\n    return (\n        <>\n            <sup>\n                <Tooltip title='Show errors'>\n                    <IconButton onClick={() => setOpen(true)} color='secondary' aria-label='Errors in spec'>\n                        <ErrorOutlineIcon color='error' />\n                    </IconButton>\n                </Tooltip>\n            </sup>\n            <Dialog maxWidth='md' aria-labelledby='confirmation-dialog-title' open={open}>\n                <DialogTitle id='confirmation-dialog-title'>\n                    <Typography display='inline' color='textPrimary' variant='h6'>\n                        Errors\n                        <Typography display='inline' variant='subtitle2'>\n                            {' '}\n                            in OpenAPI definition\n                        </Typography>\n                    </Typography>\n                </DialogTitle>\n                <DialogContent dividers>\n                    <List>\n                        {specErrors.map((error, index) => (\n                            <>\n                                {index % 2 !== 0 && <Divider light variant='inset' />}\n                                <ListItem>\n                                    <ListItemText\n                                        primary={error.message}\n                                        primaryTypographyProps={{\n                                            color: 'error',\n                                        }}\n                                        inset\n                                    />\n                                </ListItem>\n                            </>\n                        ))}\n                    </List>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setOpen(false)} color='primary'>\n                        Ok\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n}\n\nSpecErrors.propTypes = {\n    specErrors: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n    useState, useRef, useReducer,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport AddIcon from '@material-ui/icons/Add';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport Fab from '@material-ui/core/Fab';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Badge from '@material-ui/core/Badge';\nimport APIValidation from 'AppData/APIValidation';\nimport Alert from 'AppComponents/Shared/Alert';\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        minWidth: 120,\n    },\n    paper: {\n        paddingLeft: theme.spacing(4),\n        paddingTop: theme.spacing(1.5),\n        paddingBottom: theme.spacing(0.5),\n        marginTop: '12px',\n    },\n}));\n\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nfunction VerbElement(props) {\n    const {\n        verb, onClick, isButton, checked,\n    } = props;\n\n    const useMenuStyles = makeStyles((theme) => {\n        const backgroundColor = theme.custom.resourceChipColors[verb.toLowerCase()];\n        return {\n            customMenu: {\n                '&:hover': { backgroundColor },\n                backgroundColor,\n                color: theme.palette.getContrastText(backgroundColor),\n            },\n            customButton: {\n                '&:hover': { backgroundColor },\n                backgroundColor,\n                width: theme.spacing(12),\n                marginLeft: theme.spacing(1),\n                color: theme.palette.getContrastText(backgroundColor),\n            },\n        };\n    });\n    const classes = useMenuStyles();\n    if (isButton) {\n        return (\n            <Button disableFocusRipple variant='contained' className={classes.customButton} size='small'>\n                {verb}\n            </Button>\n        );\n    } else {\n        return (\n            <MenuItem dense className={classes.customMenu} onClick={onClick}>\n                <Checkbox checked={checked} />\n                {verb}\n            </MenuItem>\n        );\n    }\n}\n\nconst SUPPORTED_VERBS = ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS'];\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nfunction AddOperation(props) {\n    const { operationsDispatcher } = props;\n    const inputLabel = useRef(null);\n    const [labelWidth, setLabelWidth] = useState(0);\n    const intl = useIntl();\n\n    /**\n     *\n     *\n     * @param {*} state\n     * @param {*} action\n     * @returns\n     */\n    function newOperationsReducer(state, action) {\n        const { type, value } = action;\n        switch (type) {\n            case 'target':\n            case 'verbs':\n                return { ...state, [type]: value };\n            case 'clear':\n                return { verbs: [], target: '' };\n            case 'error':\n                return { ...state, error: value };\n            default:\n                return state;\n        }\n    }\n    const [newOperations, newOperationsDispatcher] = useReducer(newOperationsReducer, { verbs: [] });\n    React.useEffect(() => {\n        setLabelWidth(inputLabel.current.offsetWidth);\n    }, []);\n    const classes = useStyles();\n\n    /**\n     *\n     *\n     */\n    function clearInputs() {\n        newOperationsDispatcher({ type: 'clear' });\n    }\n    /**\n     *\n     *\n     */\n    function addOperation() {\n        if (\n            APIValidation.operationTarget.validate(newOperations.target).error !== null\n            || APIValidation.operationVerbs.validate(newOperations.verbs).error !== null\n        ) {\n            Alert.warning(intl.formatMessage({\n                id: 'Apis.Details.Resources.components.AddOperation.operation.target.or.verb.cannot.be.empty.warning',\n                defaultMessage: \"Operation target or operation verb(s) can't be empty\",\n            }));\n            return;\n        }\n        operationsDispatcher({ action: 'add', data: newOperations });\n        clearInputs();\n    }\n    return (\n        <Paper className={classes.paper}>\n            <Grid container direction='row' spacing={0} justify='center' alignItems='center'>\n                <Grid item md={5} xs={12}>\n                    <FormControl margin='dense' variant='outlined' className={classes.formControl}>\n                        <InputLabel ref={inputLabel} htmlFor='outlined-age-simple'>\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.AddOperation.http.verb'\n                                defaultMessage='HTTP Verb'\n                            />\n                        </InputLabel>\n\n                        <Select\n                            multiple\n                            renderValue={(verbs) => {\n                                const remaining = [];\n                                const verbElements = verbs.map((verb, index) => {\n                                    if (index < 2) {\n                                        return <VerbElement isButton verb={verb} />;\n                                    }\n                                    remaining.push(verb.toUpperCase());\n                                    return null;\n                                });\n                                const allSelected = verbs.length === SUPPORTED_VERBS.length;\n                                return (\n                                    <>\n                                        {verbElements}\n                                        {remaining.length > 0 && (\n                                            <Tooltip title={remaining.join(', ')} placement='top'>\n                                                <Box display='inline' color='text.hint' m={1} fontSize='subtitle1'>\n                                                    {allSelected ? 'All selected' : `${verbs.length - 2} more`}\n                                                </Box>\n                                            </Tooltip>\n                                        )}\n                                    </>\n                                );\n                            }}\n                            value={newOperations.verbs}\n                            onChange={({ target: { name, value } }) => newOperationsDispatcher({ type: name, value })}\n                            labelWidth={labelWidth}\n                            inputProps={{\n                                name: 'verbs',\n                                id: 'operation-verb',\n                            }}\n                            MenuProps={{\n                                getContentAnchorEl: null,\n                                anchorOrigin: {\n                                    vertical: 'bottom',\n                                    horizontal: 'left',\n                                },\n                            }}\n                        >\n                            {SUPPORTED_VERBS.map((verb) => (\n                                <VerbElement\n                                    checked={newOperations.verbs.includes(verb.toLowerCase())}\n                                    value={verb.toLowerCase()}\n                                    verb={verb}\n                                />\n                            ))}\n                        </Select>\n\n                        <FormHelperText id='my-helper-text'>\n                            {newOperations.verbs.includes('option') && (\n                                // TODO: Add i18n to tooltip text ~tmkb\n                                <Tooltip\n                                    title={\n                                        'Select the OPTION method to send OPTIONS calls to the backend.'\n                                        + ' If the OPTIONS method is not selected, OPTIONS calls will be returned '\n                                        + 'from the Gateway with allowed methods.'\n                                    }\n                                    placement='bottom'\n                                >\n                                    <Badge color='error' variant='dot'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Resources.components.AddOperation.option'\n                                            defaultMessage='OPTION'\n                                        />\n                                    </Badge>\n                                </Tooltip>\n                            )}\n                        </FormHelperText>\n                    </FormControl>\n                </Grid>\n                <Grid item md={5} xs={8}>\n                    <TextField\n                        id='operation-target'\n                        label='URI Pattern'\n                        error={Boolean(newOperations.error)}\n                        autoFocus\n                        name='target'\n                        value={newOperations.target}\n                        onChange={({ target: { name, value } }) => newOperationsDispatcher(\n                            { type: name, value: value.startsWith('/') ? value : `/${value}` },\n                        )}\n                        placeholder='Enter URI pattern'\n                        helperText={newOperations.error || 'Enter URI pattern'}\n                        fullWidth\n                        margin='dense'\n                        variant='outlined'\n                        InputLabelProps={{\n                            shrink: true,\n                        }}\n                        onKeyPress={(event) => {\n                            if (event.key === 'Enter') {\n                                // key code 13 is for `Enter` key\n                                event.preventDefault(); // To prevent form submissions\n                                addOperation();\n                            }\n                        }}\n                    />\n                </Grid>\n                <Grid item md={2} xs={4}>\n                    <Tooltip\n                        title={(\n                            <FormattedMessage\n                                id='Apis.Details.Resources.components.AddOperation.add.tooltip'\n                                defaultMessage='Add new operation'\n                            />\n                        )}\n                        aria-label='AddOperation'\n                        placement='bottom'\n                        interactive\n                    >\n                        <span>\n                            <Fab\n                                style={{ marginLeft: '20px', marginBottom: '15px', marginRight: '20px' }}\n                                size='small'\n                                color='primary'\n                                aria-label='add'\n                                onClick={addOperation}\n                            >\n                                <AddIcon />\n                            </Fab>\n                        </span>\n                    </Tooltip>\n                    <sup>\n                        <Tooltip\n                            title={(\n                                <FormattedMessage\n                                    id='Apis.Details.Resources.components.AddOperation.clear.inputs.tooltip'\n                                    defaultMessage='Clear inputs'\n                                />\n                            )}\n                            aria-label='clear-inputs'\n                            placement='bottom'\n                            interactive\n                        >\n                            <span>\n                                <IconButton onClick={clearInputs} size='small'>\n                                    <ClearIcon />\n                                </IconButton>\n                            </span>\n                        </Tooltip>\n                    </sup>\n                </Grid>\n            </Grid>\n        </Paper>\n    );\n}\n\nAddOperation.propTypes = {\n    operationsDispatcher: PropTypes.func.isRequired,\n};\n\nexport default React.memo(AddOperation);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@material-ui/core/Box';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport { Link } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\n\n/**\n *\n * Simply reders the edit api definition link in the bottom of the resources listing\n * @export\n * @param {*} props\n * @returns\n */\nexport default function GoToDefinitionLink(props) {\n    const { api, message } = props;\n    return (\n        <Box m={1}>\n            <Link to={`/apis/${api.id}/api definition`}>\n                <Typography style={{ marginLeft: '10px' }} color='primary' display='inline' variant='caption'>\n                    {message}\n                    <LaunchIcon style={{ marginLeft: '2px' }} fontSize='small' />\n                </Typography>\n            </Link>\n        </Box>\n    );\n}\nGoToDefinitionLink.defaultProps = {\n    message: 'Edit API Definition',\n};\nGoToDefinitionLink.propTypes = {\n    api: PropTypes.shape({ id: PropTypes.string }).isRequired,\n    message: PropTypes.string,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport DeleteSweepIcon from '@material-ui/icons/DeleteSweep';\nimport isEmpty from 'lodash.isempty';\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\n/**\n *\n *\n * @param {*} props\n * @returns\n */\nexport default function OperationsSelector(props) {\n    const { selectedOperations, setSelectedOperation, operations } = props;\n    const [apiFromContext] = useAPI();\n\n    // TODO: Following logic introduce a limitation in showing `indeterminate` icon state if user\n    // select all -> unchecked one operation -> recheck same operation again ~tmkb\n    const isIndeterminate = !isEmpty(selectedOperations);\n    /**\n     *\n     *\n     * @param {*} event\n     */\n    function handleSelector() {\n        setSelectedOperation(isIndeterminate ? {} : operations);\n    }\n    return (\n        <Grid container direction='row' justify='space-between' alignItems='center'>\n            <Grid item />\n            <Grid item>\n                <Box mr={17.25}>\n                    <Tooltip title={isIndeterminate ? 'Clear selections' : 'Mark all for delete'}>\n                        <div>\n                            <IconButton\n                                disabled={isRestricted(['apim:api_create'], apiFromContext)}\n                                onClick={handleSelector}\n                                aria-label='delete all'\n                                size='large'\n                            >\n                                {isIndeterminate ? <ClearAllIcon /> : <DeleteSweepIcon />}\n                            </IconButton>\n                        </div>\n                    </Tooltip>\n                </Box>\n            </Grid>\n        </Grid>\n    );\n}\n\nOperationsSelector.defaultProps = {};\n\nOperationsSelector.propTypes = {\n    selectedOperations: PropTypes.shape({}).isRequired,\n    setSelectedOperation: PropTypes.func.isRequired,\n    operations: PropTypes.shape({}).isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from 'react';\nimport { isRestricted } from 'AppData/AuthManager';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function SaveOperations(props) {\n    const { updateOpenAPI, operationsDispatcher, api } = props;\n    const [isSaving, setIsSaving] = useState(false);\n    const [isOpen, setIsOpen] = useState(false);\n    /**\n     * Handle the Save button event,\n     *\n     */\n    function saveChanges() {\n        setIsSaving(true);\n        updateOpenAPI('save').finally(() => setIsSaving(false));\n    }\n    return (\n        <>\n            <Box>\n                <Button\n                    disabled={isSaving || isRestricted(['apim:api_create'], api)}\n                    onClick={saveChanges}\n                    variant='contained'\n                    color='primary'\n                >\n                    Save\n                    {isSaving && <CircularProgress size={24} />}\n                </Button>\n                <Box display='inline' ml={1}>\n                    <Button onClick={() => setIsOpen(true)}>Reset</Button>\n                </Box>\n            </Box>\n            <Dialog\n                open={isOpen}\n                aria-labelledby='bulk-delete-dialog-title'\n                aria-describedby='bulk-delete-dialog-description'\n                onBackdropClick={() => setIsOpen(false)}\n            >\n                <DialogTitle id='bulk-delete-dialog-title'>Discard changes</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id='bulk-delete-dialog-description'>\n                        Please confirm the discard all changes action\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setIsOpen(false)}>CLOSE</Button>\n                    <Box ml={1}>\n                        <Button\n                            onClick={() => {\n                                operationsDispatcher({ action: 'init' });\n                                setIsOpen(false);\n                            }}\n                            color='error'\n                        >\n                        RESET\n                        </Button>\n                    </Box>\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n}\nSaveOperations.propTypes = {\n    updateOpenAPI: PropTypes.func.isRequired,\n    operationsDispatcher: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, {\n    useReducer, useEffect, useState, useCallback, useMemo,\n} from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport cloneDeep from 'lodash.clonedeep';\nimport isEmpty from 'lodash/isEmpty';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Banner from 'AppComponents/Shared/Banner';\nimport API from 'AppData/api';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport PropTypes from 'prop-types';\nimport SwaggerParser from 'swagger-parser';\nimport { isRestricted } from 'AppData/AuthManager';\nimport CONSTS from 'AppData/Constants';\nimport Operation from './components/Operation';\nimport GroupOfOperations from './components/GroupOfOperations';\nimport SpecErrors from './components/SpecErrors';\nimport AddOperation from './components/AddOperation';\nimport GoToDefinitionLink from './components/GoToDefinitionLink';\nimport APIRateLimiting from './components/APIRateLimiting';\nimport {\n    extractPathParameters, isSelectAll, mapAPIOperations, getVersion, VERSIONS,\n} from './operationUtils';\nimport OperationsSelector from './components/OperationsSelector';\nimport SaveOperations from './components/SaveOperations';\n\n/**\n * This component handles the Resource page in API details though it's written in a sharable way\n * that anyone could use this to render resources in anywhere else if needed.\n *\n * @export\n * @returns {React.Component} @inheritdoc\n */\nexport default function Resources(props) {\n    const {\n        operationProps,\n        disableRateLimiting,\n        hideAPIDefinitionLink,\n        disableMultiSelect,\n        disableUpdate,\n        disableAddOperation,\n    } = props;\n\n    const [api, updateAPI] = useAPI();\n    const [pageError, setPageError] = useState(false);\n    const [operationRateLimits, setOperationRateLimits] = useState([]);\n    const [markedOperations, setSelectedOperation] = useState({});\n    const [sharedScopes, setSharedScopes] = useState();\n    const [sharedScopesByName, setSharedScopesByName] = useState();\n    const [openAPISpec, setOpenAPISpec] = useState({});\n    const [securityDefScopes, setSecurityDefScopes] = useState({});\n    const [apiThrottlingPolicy, setApiThrottlingPolicy] = useState(api.apiThrottlingPolicy);\n    const [arns, setArns] = useState([]);\n    const [resolvedSpec, setResolvedSpec] = useState({ spec: {}, errors: [] });\n\n    /**\n     *\n     *\n     * @param {*} currentPolicies\n     * @param {*} policyAction\n     * @returns\n     */\n    function resourcePoliciesReducer(currentPolicies, policyAction) {\n        const { action, data } = policyAction;\n        const { value } = data || {}; // target, verb,\n        let nextResourcePolicies = { ...currentPolicies };\n        switch (action) {\n            case 'init':\n                nextResourcePolicies = value;\n                break;\n            case 'update':\n                nextResourcePolicies[value.resourcePath][value.httpVerb][data.direction] = value;\n                break;\n            default:\n                break;\n        }\n        return nextResourcePolicies;\n    }\n    const [resourcePolicies, resourcePoliciesDispatcher] = useReducer(resourcePoliciesReducer, null);\n\n    /**\n     *\n     *\n     * @param {*} currenPaths\n     * @param {*} action\n     */\n    function operationsReducer(currentOperations, operationAction) {\n        const { action, data } = operationAction;\n        const { target, verb, value } = data || {};\n        let updatedOperation;\n        let addedOperations;\n        if (target && verb) {\n            updatedOperation = cloneDeep(currentOperations[target][verb]);\n        } else {\n            addedOperations = cloneDeep(currentOperations);\n        }\n\n        switch (action) {\n            case 'init':\n                setSelectedOperation({});\n                return data || openAPISpec.paths;\n            case 'description':\n            case 'summary':\n                updatedOperation[action] = value;\n                break;\n            case 'authType':\n                updatedOperation['x-auth-type'] = value ? 'Any' : 'None';\n                break;\n            case 'parameter':\n                if (updatedOperation.parameters) {\n                    // Get the index to check whether the same parameter exists.\n                    const index = updatedOperation.parameters.findIndex(\n                        (e) => e.in === value.in && e.name === value.name,\n                    );\n                    if (index === -1) { // Parameter with name and in does not exists.\n                        if (value.in === 'body') {\n                            // Get the index of existing body param.\n                            // This replaces if a new body parameter is added when another one exists.\n                            const bodyIndex = updatedOperation.parameters.findIndex((parameter) => {\n                                return parameter.in === 'body';\n                            });\n                            if (bodyIndex !== -1) {\n                                updatedOperation.parameters[bodyIndex] = value;\n                            } else {\n                                updatedOperation.parameters.push(value);\n                            }\n                        } else {\n                            updatedOperation.parameters.push(value);\n                        }\n                    } else {\n                        updatedOperation.parameters[index] = value;\n                    }\n                } else {\n                    updatedOperation.parameters = [value];\n                }\n                break;\n            case 'requestBody':\n                updatedOperation[action] = value;\n                break;\n            case 'deleteParameter':\n                updatedOperation.parameters = updatedOperation.parameters.filter((parameter) => {\n                    return !(parameter.in === value.in && parameter.name === value.name);\n                });\n                break;\n            case 'throttlingPolicy':\n                updatedOperation['x-throttling-tier'] = value;\n                break;\n            case 'amznResourceName':\n                updatedOperation['x-amzn-resource-name'] = value;\n                break;\n            case 'amznResourceTimeout':\n                updatedOperation['x-amzn-resource-timeout'] = value;\n                break;\n            case 'scopes': {\n                if (!updatedOperation.security) {\n                    updatedOperation.security = [{ default: [] }];\n                } else if (!updatedOperation.security.find((item) => item.default)) {\n                    updatedOperation.security.push({ default: [] });\n                }\n                const defValue = value[0];\n                updatedOperation.security.find((item) => item.default).default = defValue;\n                for (const selectedScope of defValue) {\n                    if (selectedScope\n                        && !securityDefScopes[selectedScope]\n                        && securityDefScopes[selectedScope] !== '') {\n                        let scopeDescription = '';\n                        if (selectedScope in sharedScopesByName) {\n                            if (sharedScopesByName[selectedScope].scope.description !== null) {\n                                scopeDescription = sharedScopesByName[selectedScope].scope.description;\n                            }\n                            securityDefScopes[selectedScope] = scopeDescription;\n                        }\n                        setSecurityDefScopes(securityDefScopes);\n                    }\n                }\n                break;\n            }\n            case 'add': {\n                const parameters = extractPathParameters(data.target, openAPISpec);\n                if (!addedOperations[data.target]) {\n                    // If target is not there add an empty object\n                    addedOperations[data.target] = {};\n                }\n                let alreadyExistCount = 0;\n                for (const currentVerb of data.verbs) {\n                    if (addedOperations[data.target][currentVerb]) {\n                        const message = `Operation already exist with ${data.target} and ${currentVerb}`;\n                        Alert.warning(message);\n                        console.warn(message);\n                        alreadyExistCount++;\n                    } else {\n                        // use else condition because continue is not allowed by es-lint rules\n                        addedOperations[data.target][currentVerb] = {\n                            'x-wso2-new': true, // This is to identify unsaved newly added operations, Remove when PUT\n                            'x-auth-type': 'Application & Application User', // By default security is enabled\n                            responses: { 200: { description: 'ok' } },\n                            parameters,\n                        };\n                    }\n                }\n                if (alreadyExistCount === data.verbs.length) {\n                    Alert.error('Operation(s) already exist!');\n                    return currentOperations;\n                }\n                return addedOperations;\n            }\n            default:\n                return currentOperations;\n        }\n        return { ...currentOperations, [target]: { ...currentOperations[target], [verb]: updatedOperation } };\n    }\n    const [operations, operationsDispatcher] = useReducer(operationsReducer, {});\n    /**\n     *\n     *\n     * @param {*} operation\n     * @param {*} checked\n     */\n    function onOperationSelectM(operation, checked) {\n        const { target, verb } = operation;\n        setSelectedOperation((currentSelections) => {\n            const nextSelectedOperations = cloneDeep(currentSelections);\n            if (!nextSelectedOperations[target]) {\n                nextSelectedOperations[target] = {};\n            }\n            if (checked) {\n                nextSelectedOperations[target][verb] = checked;\n            } else {\n                delete nextSelectedOperations[target][verb];\n            }\n            if (isEmpty(nextSelectedOperations[target])) {\n                delete nextSelectedOperations[target];\n            }\n            return nextSelectedOperations;\n        });\n    }\n    const onMarkAsDelete = useCallback(onOperationSelectM, [setSelectedOperation]);\n\n    // can't depends on API id because we need to consider the changes in operations in api object\n    // memoized (https://reactjs.org/docs/hooks-reference.html#usememo) to improve pref,\n    // localized to inject local apiThrottlingPolicy data\n    const localAPI = useMemo(\n        () => ({\n            id: api.id,\n            apiThrottlingPolicy,\n            scopes: api.scopes,\n            operations: api.isAPIProduct() ? {} : mapAPIOperations(api.operations),\n            endpointConfig: api.endpointConfig,\n        }),\n        [api, apiThrottlingPolicy],\n    );\n\n    /**\n     * This method sets the securityDefinitionScopes from the spec\n     * @param {Object} spec The original swagger content.\n     */\n    function setSecurityDefScopesFromSpec(spec) {\n        const openAPIVersion = getVersion(spec);\n        if (VERSIONS.V3.includes(openAPIVersion)) {\n            if (spec.components && spec.components.securitySchemes && spec.components.securitySchemes.default) {\n                const { flows } = spec.components.securitySchemes.default;\n                if (flows.implicit.scopes) {\n                    setSecurityDefScopes(cloneDeep(flows.implicit.scopes));\n                }\n            }\n        } else if (VERSIONS.V2.includes(openAPIVersion)) {\n            if (spec.securityDefinitions && spec.securityDefinitions.default) {\n                if (spec.securityDefinitions.default.scopes) {\n                    setSecurityDefScopes(cloneDeep(spec.securityDefinitions.default.scopes));\n                }\n            }\n        }\n    }\n\n    /**\n     * This method sets the scopes of the spec from the securityDefinitionScopes\n     */\n    function setSpecScopesFromSecurityDefScopes() {\n        const openAPIVersion = getVersion(openAPISpec);\n        if (VERSIONS.V3.includes(openAPIVersion)) {\n            if (openAPISpec.components\n                && openAPISpec.components.securitySchemes\n                && openAPISpec.components.securitySchemes.default) {\n                openAPISpec.components.securitySchemes.default.flows.implicit.scopes = securityDefScopes;\n            }\n        } else if (VERSIONS.V2.includes(openAPIVersion)) {\n            if (openAPISpec.securityDefinitions && openAPISpec.securityDefinitions.default) {\n                openAPISpec.securityDefinitions.default.scopes = securityDefScopes;\n            }\n        }\n    }\n\n    /**\n     *\n     * @param {*} rawSpec The original swagger content.\n     * @returns {null}\n     */\n    function resolveAndUpdateSpec(rawSpec) {\n        /*\n         * Deep copying the spec.\n         * Otherwise it will resolved to the original parameter passed (rawSpec) to the validate method.\n         * We will not alter the provided spec.\n         */\n        const specCopy = cloneDeep(rawSpec);\n        /*\n        * Used SwaggerParser.validate() because we can get the errors as well.\n        */\n        SwaggerParser.validate(specCopy, (err, result) => {\n            setResolvedSpec(() => {\n                const errors = err ? [err] : [];\n                return {\n                    spec: result,\n                    errors,\n                };\n            });\n        });\n        operationsDispatcher({ action: 'init', data: rawSpec.paths });\n        setOpenAPISpec(rawSpec);\n        setSecurityDefScopesFromSpec(rawSpec);\n    }\n\n    /**\n     *\n     * Update the swagger using /swagger PUT operation and then fetch the updated API Object doing a apis/{api-uuid} GET\n     * @param {JSON} spec Updated full OpenAPI spec ready to PUT\n     * @returns {Promise} Promise resolving to updated API object\n     */\n    function updateSwagger(spec) {\n        return api\n            .updateSwagger(spec)\n            .then((response) => resolveAndUpdateSpec(response.body))\n            .then(updateAPI)\n            .catch((error) => {\n                console.error(error);\n                if (error.response) {\n                    setPageError(error.response.body);\n                } else {\n                    Alert.error('Error while updating the definition');\n                }\n            });\n    }\n\n    /**\n     *\n     * This method modifies the security definition scopes by removing the scopes which are not present\n     * in operations and which are shared scopes\n     * @param {Array} apiOperations Operations list\n     */\n    function updateSecurityDefinition(apiOperations) {\n        Object.keys(securityDefScopes).forEach((key) => {\n            let isScopeExistsInOperation = false;\n            for (const [, verbs] of Object.entries(apiOperations)) {\n                for (const [, verbInfo] of Object.entries(verbs)) {\n                    // Checking if the scope resides in the operation\n                    for (const secDef of verbInfo.security || []) {\n                        if (secDef\n                            && secDef.default\n                            && secDef.default.includes(key)) {\n                            isScopeExistsInOperation = true;\n                            break;\n                        }\n                    }\n\n                    if (isScopeExistsInOperation) {\n                        break;\n                    }\n                }\n                if (isScopeExistsInOperation) {\n                    break;\n                }\n            }\n            // Checking if the scope exists in operation and is a shared scope\n            if (!isScopeExistsInOperation && (key in sharedScopesByName)) {\n                delete securityDefScopes[key];\n            }\n        });\n        setSecurityDefScopes(securityDefScopes);\n    }\n\n    /**\n     *\n     * Save the OpenAPI changes using REST API, type parameter is required to\n     * identify the locally created data structured, i:e type `operation` will assume that `data` contains the\n     * object structure of locally created operation object which is a combination of REST API\n     * response `operations` field and OpenAPI spec operation information\n     * @param {String} type Type of data object\n     * @param {Object} data Data object\n     * @returns {Promise|null} A promise object which resolve to Swagger PUT response body.\n     */\n    function updateOpenAPI(type) {\n        const copyOfOperations = cloneDeep(operations);\n        switch (type) {\n            case 'save':\n                if (isSelectAll(markedOperations, copyOfOperations)) {\n                    const message = 'At least one operation is required for the API';\n                    Alert.warning(message);\n                    return Promise.reject(new Error(message));\n                }\n                for (const [target, verbs] of Object.entries(markedOperations)) {\n                    for (const verb of Object.keys(verbs)) {\n                        delete copyOfOperations[target][verb];\n                        if (isEmpty(copyOfOperations[target])) {\n                            delete copyOfOperations[target];\n                        }\n                    }\n                }\n                // TODO: use better alternative (optimize performance) to identify newly added operations ~tmkb\n                for (const [, verbs] of Object.entries(copyOfOperations)) {\n                    for (const [, verbInfo] of Object.entries(verbs)) {\n                        if (verbInfo['x-wso2-new']) {\n                            delete verbInfo['x-wso2-new'];\n                        }\n                    }\n                }\n                break;\n            default:\n                return Promise.reject(new Error('Unsupported resource operation!'));\n        }\n        updateSecurityDefinition(copyOfOperations);\n        setSpecScopesFromSecurityDefScopes();\n        if (apiThrottlingPolicy !== api.apiThrottlingPolicy) {\n            return updateAPI({ apiThrottlingPolicy })\n                .catch((error) => {\n                    console.error(error);\n                    Alert.error('Error while updating the API');\n                })\n                .then(() => updateSwagger({ ...openAPISpec, paths: copyOfOperations }));\n        } else {\n            return updateSwagger({ ...openAPISpec, paths: copyOfOperations });\n        }\n    }\n\n    useEffect(() => {\n        API.getAmznResourceNames(api.id)\n            .then((response) => {\n                if (response.body && response.body.list) {\n                    setArns(response.body.list);\n                }\n            });\n    }, []);\n\n    useEffect(() => {\n        if (api.apitype !== 'APIProduct') {\n            API.getAllScopes()\n                .then((response) => {\n                    if (response.body && response.body.list) {\n                        const sharedScopesList = [];\n                        const sharedScopesByNameList = {};\n                        const shared = true;\n                        for (const scope of response.body.list) {\n                            const modifiedScope = {};\n                            modifiedScope.scope = scope;\n                            modifiedScope.shared = shared;\n                            sharedScopesList.push(modifiedScope);\n                            sharedScopesByNameList[scope.name] = modifiedScope;\n                        }\n                        setSharedScopes(sharedScopesList);\n                        setSharedScopesByName(sharedScopesByNameList);\n                    }\n                });\n        }\n    }, []);\n\n    useEffect(() => {\n        // Update the Swagger spec object when API object gets changed\n        api.getSwagger()\n            .then((response) => {\n                resolveAndUpdateSpec(response.body);\n            })\n            .catch((error) => {\n                if (error.response) {\n                    Alert.error(error.response.body.description);\n                    setPageError(error.response.body);\n                }\n                console.error(error);\n            });\n        if (api.isSOAPToREST()) {\n            const promisedInPolicies = api.getResourcePolicies('in');\n            const promisedOutPolicies = api.getResourcePolicies('out');\n            Promise.all([promisedInPolicies, promisedOutPolicies])\n                .then(([inPolicies, outPolicies]) => {\n                    const mappedPolicies = {};\n                    for (const policy of inPolicies.body.list) {\n                        const { resourcePath, httpVerb } = policy;\n                        if (!mappedPolicies[resourcePath]) {\n                            mappedPolicies[resourcePath] = {\n                                [httpVerb]: { in: policy },\n                            };\n                        } else {\n                            mappedPolicies[resourcePath][httpVerb] = { in: policy };\n                        }\n                    }\n                    for (const policy of outPolicies.body.list) {\n                        const { resourcePath, httpVerb } = policy;\n                        if (!mappedPolicies[resourcePath]) {\n                            mappedPolicies[resourcePath] = {\n                                [httpVerb]: { out: policy },\n                            };\n                        } else {\n                            mappedPolicies[resourcePath][httpVerb].out = policy;\n                        }\n                    }\n                    resourcePoliciesDispatcher({ action: 'init', data: { value: mappedPolicies } });\n                })\n                .catch((error) => {\n                    if (error.response) {\n                        Alert.error(error.response.body.description);\n                        setPageError(error.response.body);\n                    }\n                    setPageError(error.message);\n                    console.error(error);\n                });\n        }\n        // Fetch API level throttling policies only when the page get mounted for the first time `componentDidMount`\n        API.policies('api').then((response) => {\n            setOperationRateLimits(response.body.list);\n        });\n        // TODO: need to handle the error cases through catch ~tmkb\n    }, [api.id]);\n\n    // Note: Make sure not to use any hooks after/within this condition , because it returns conditionally\n    // If you do so, You will probably get `Rendered more hooks than during the previous render.` exception\n    if ((!pageError && isEmpty(openAPISpec)) || (resolvedSpec.errors.length === 0 && isEmpty(resolvedSpec.spec))) {\n        return (\n            <Grid container direction='row' justify='center' alignItems='center'>\n                <Grid item>\n                    <CircularProgress disableShrink />\n                </Grid>\n            </Grid>\n        );\n    }\n    return (\n        <Grid container direction='row' justify='flex-start' spacing={2} alignItems='stretch'>\n            {pageError && (\n                <Grid item md={12}>\n                    <Banner onClose={() => setPageError(null)} disableActions type='error' message={pageError} />\n                </Grid>\n            )}\n            {!disableRateLimiting && (\n                <Grid item md={12}>\n                    <APIRateLimiting\n                        operationRateLimits={operationRateLimits}\n                        value={apiThrottlingPolicy}\n                        onChange={setApiThrottlingPolicy}\n                        isAPIProduct={api.isAPIProduct()}\n                    />\n                </Grid>\n            )}\n            {!isRestricted(['apim:api_create'], api) && !disableAddOperation && (\n                <Grid item md={12} xs={12}>\n                    <AddOperation operationsDispatcher={operationsDispatcher} />\n                </Grid>\n            )}\n            {resolvedSpec.errors.length > 0 && <SpecErrors specErrors={resolvedSpec.errors} />}\n            <Grid item md={12}>\n                <Paper>\n                    {!disableMultiSelect && (\n                        <OperationsSelector\n                            operations={operations}\n                            selectedOperations={markedOperations}\n                            setSelectedOperation={setSelectedOperation}\n                        />\n                    )}\n                    {Object.entries(operations).map(([target, verbObject]) => (\n                        <Grid key={target} item md={12}>\n                            <GroupOfOperations openAPI={openAPISpec} tag={target}>\n                                <Grid\n                                    container\n                                    direction='column'\n                                    justify='flex-start'\n                                    spacing={1}\n                                    alignItems='stretch'\n                                >\n                                    {Object.entries(verbObject).map(([verb, operation]) => {\n                                        return CONSTS.HTTP_METHODS.includes(verb) ? (\n                                            <Grid key={`${target}/${verb}`} item>\n                                                <Operation\n                                                    target={target}\n                                                    verb={verb}\n                                                    highlight\n                                                    resourcePoliciesDispatcher={resourcePoliciesDispatcher}\n                                                    resourcePolicy={\n                                                        resourcePolicies\n                                                        && resourcePolicies[target.slice(1)]\n                                                        && resourcePolicies[target.slice(1)][verb]\n                                                    }\n                                                    operationsDispatcher={operationsDispatcher}\n                                                    spec={openAPISpec}\n                                                    operation={operation}\n                                                    operationRateLimits={operationRateLimits}\n                                                    api={localAPI}\n                                                    markAsDelete={Boolean(markedOperations[target]\n                                                        && markedOperations[target][verb])}\n                                                    onMarkAsDelete={onMarkAsDelete}\n                                                    disableUpdate={\n                                                        disableUpdate || isRestricted(['apim:api_create'], api)\n                                                    }\n                                                    disableMultiSelect={disableMultiSelect}\n                                                    arns={arns}\n                                                    {...operationProps}\n                                                    resolvedSpec={resolvedSpec.spec}\n                                                    sharedScopes={sharedScopes}\n                                                />\n                                            </Grid>\n                                        ) : null;\n                                    })}\n                                </Grid>\n                            </GroupOfOperations>\n                        </Grid>\n                    ))}\n                </Paper>\n                <Grid\n                    style={{ marginTop: '25px' }}\n                    container\n                    direction='row'\n                    justify='space-between'\n                    alignItems='center'\n                >\n                    {!disableUpdate && (\n                        <SaveOperations\n                            operationsDispatcher={operationsDispatcher}\n                            updateOpenAPI={updateOpenAPI}\n                            api={api}\n                        />\n                    )}\n                    {!hideAPIDefinitionLink && <GoToDefinitionLink api={api} />}\n                </Grid>\n            </Grid>\n        </Grid>\n    );\n}\n\nResources.defaultProps = {\n    operationProps: { disableDelete: false },\n    disableUpdate: false,\n    disableRateLimiting: false,\n    disableMultiSelect: false,\n    hideAPIDefinitionLink: false,\n    disableAddOperation: false,\n};\n\nResources.propTypes = {\n    disableRateLimiting: PropTypes.bool,\n    hideAPIDefinitionLink: PropTypes.bool,\n    disableMultiSelect: PropTypes.bool,\n    disableAddOperation: PropTypes.bool,\n    disableUpdate: PropTypes.bool,\n    operationProps: PropTypes.shape({\n        disableDelete: PropTypes.bool,\n    }),\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport { FormattedMessage } from 'react-intl';\n\nimport Resources from './Resources';\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function APIOperations() {\n    return (\n        <>\n            <Box mb={4}>\n                <Typography variant='h4' gutterBottom>\n                    <FormattedMessage\n                        id='Apis.Details.Resources.APIOperations.title'\n                        defaultMessage='Resources'\n                    />\n                </Typography>\n            </Box>\n            <Resources />\n        </>\n    );\n}\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { FormattedMessage } from 'react-intl';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport Box from '@material-ui/core/Box';\nimport API from 'AppData/api';\nimport { isRestricted } from 'AppData/AuthManager';\n\nimport Resources from 'AppComponents/Apis/Details/Resources/Resources';\nimport APIRateLimiting from '../Resources/components/APIRateLimiting';\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function APIProductOperations() {\n    const [api, updateAPI] = useAPI();\n    const [apiThrottlingPolicy, setApiThrottlingPolicy] = useState(api.apiThrottlingPolicy);\n    const [operationRateLimits, setOperationRateLimits] = useState([]);\n    const [isSaving, setIsSaving] = useState(false);\n    useEffect(() => {\n        // Fetch API level throttling policies only when the page get mounted for the first time `componentDidMount`\n        API.policies('api').then((response) => {\n            setOperationRateLimits(response.body.list);\n        });\n        // TODO: need to handle the error cases through catch ~tmkb\n    }, []);\n\n    /**\n     *\n     *\n     */\n    function saveChanges() {\n        setIsSaving(true);\n        updateAPI({ apiThrottlingPolicy }).finally(() => setIsSaving(false));\n    }\n    return (\n        <Grid container spacing={3}>\n            <Grid item md={12}>\n                <Typography variant='h4' gutterBottom>\n                    Product Resources\n                    <Box component='div' display='inline'>\n                        <Link to={'/api-products/' + api.id + '/resources/edit'}>\n                            <Button size='small'>\n                                <EditIcon />\n                                <FormattedMessage\n                                    id='Apis.Details.Resources.Resources.edit.resources.button'\n                                    defaultMessage='Edit Resources'\n                                />\n                            </Button>\n                        </Link>\n                    </Box>\n                </Typography>\n            </Grid>\n            <Grid item md={12}>\n                <APIRateLimiting\n                    operationRateLimits={operationRateLimits}\n                    api={api}\n                    isAPIProduct\n                    value={apiThrottlingPolicy}\n                    onChange={setApiThrottlingPolicy}\n                />\n            </Grid>\n            {!isRestricted(['apim:api_create'], api) && (\n                <Grid item md={12}>\n                    <Box ml={1}>\n                        <Button onClick={saveChanges} disabled={false} variant='contained' size='small' color='primary'>\n                            Save\n                            {isSaving && <CircularProgress size={24} />}\n                        </Button>\n                        <Box display='inline' ml={1}>\n                            <Button\n                                size='small'\n                                variant='outlined'\n                                onClick={() => setApiThrottlingPolicy(api.apiThrottlingPolicy)}\n                            >\n                                Reset\n                            </Button>\n                        </Box>\n                    </Box>\n                </Grid>\n            )}\n\n            <Grid item md={12}>\n                <Resources\n                    hideAPIDefinitionLink\n                    disableUpdate\n                    disableRateLimiting\n                    operationProps={{ disableDelete: true }}\n                    disableMultiSelect\n                    disableAddOperation\n                />\n            </Grid>\n        </Grid>\n    );\n}\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable array-callback-return */\n/* eslint no-param-reassign: [\"error\", { \"props\": true, \"ignorePropertyModificationsFor\": [\"operationObj\"] }] */\n\nimport React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FormattedMessage } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport cloneDeep from 'lodash.clonedeep';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport { doRedirectToLogin } from 'AppComponents/Shared/RedirectToLogin';\nimport ProductResourcesEditWorkspace from './ProductResourcesEditWorkspace';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        marginTop: 10,\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        paddingBottom: theme.spacing(2),\n    },\n    buttonWrapper: {\n        marginTop: theme.spacing(4),\n    },\n}));\n\n\n/**\n *\n *\n * @returns\n */\nfunction ProductResourcesEdit() {\n    const classes = useStyles();\n\n    // Get the current api product object from the context\n    const { api, updateAPI } = useContext(APIContext);\n    const apiCopy = cloneDeep(api);\n    const { apis } = apiCopy;\n\n    // Define states\n    const [apiResources, setApiResources] = useState(apis);\n    const [updating, setUpdating] = useState(false);\n    // Initialize the rest api libraries\n\n    const save = () => {\n        setUpdating(true);\n\n        const updatePromise = updateAPI({ apis: apiResources }, true);\n        updatePromise\n            .then(() => {\n                setUpdating(false);\n            })\n            .catch((error) => {\n                setUpdating(false);\n                if (process.env.NODE_ENV !== 'production') console.log(error);\n                const { status } = error;\n                if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n    };\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.titleWrapper}>\n                <Typography variant='h4' align='left' className={classes.mainTitle}>\n                    <FormattedMessage\n                        id='Apis.Details.ProductResources.ProductResourcesEdit.title'\n                        defaultMessage='Manage Resources'\n                    />\n                </Typography>\n            </div>\n            <div className={classes.contentWrapper}>\n                <ProductResourcesEditWorkspace\n                    apiResources={apiResources}\n                    setApiResources={setApiResources}\n                    api={api}\n                />\n                <div className={classes.buttonWrapper}>\n                    <Grid container direction='row' alignItems='flex-start' spacing={4}>\n                        <Grid item>\n                            <div>\n                                <Button variant='contained' color='primary' onClick={save} disabled={updating}>\n                                    {updating && (\n                                        <FormattedMessage\n                                            id='Apis.Details.ProductResources.ProductResourcesEdit.updating'\n                                            defaultMessage='Updating ...'\n                                        />\n                                    )}\n                                    {!updating && (\n                                        <FormattedMessage\n                                            id='Apis.Details.ProductResources.ProductResourcesEdit.save'\n                                            defaultMessage='Save'\n                                        />\n                                    )}\n                                </Button>\n                            </div>\n                        </Grid>\n                        <Grid item>\n                            <Link to={'/apis/' + api.id + '/overview'}>\n                                <Button>\n                                    <FormattedMessage\n                                        id='Apis.Details.ProductResources.ProductResourcesEdit.cancel'\n                                        defaultMessage='Cancel'\n                                    />\n                                </Button>\n                            </Link>\n                        </Grid>\n                    </Grid>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ProductResourcesEdit;\n","/*\n *  Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n *  WSO2 Inc. licenses this file to you under the Apache License,\n *  Version 2.0 (the \"License\"); you may not use this file except\n *  in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing,\n *  software distributed under the License is distributed on an\n *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n *  KIND, either express or implied. See the License for the\n *  specific language governing permissions and limitations\n *  under the License.\n */\n\nimport React, { useState } from 'react';\nimport {\n    Typography,\n    Grid,\n    withStyles,\n    RadioGroup,\n    FormControlLabel,\n    Radio,\n    FormControl,\n    Divider,\n    Button,\n    Card,\n    CardContent,\n    CardActions,\n} from '@material-ui/core';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\n\nconst styles = (theme) => ({\n    inlineMessageContainer: {\n        marginBottom: theme.spacing(1),\n    },\n    endpointTypeCard: {\n        margin: theme.spacing(1),\n        maxWidth: theme.spacing(32),\n        transition: 'box-shadow 0.3s ease-in-out',\n        height: theme.spacing(40),\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    cardContent: {\n        height: theme.spacing(40),\n    },\n    content: {\n        marginTop: theme.spacing(1),\n    },\n    cardActions: {\n        justifyContent: 'flex-end',\n        borderTop: 'solid #e0e0e0 thin',\n    },\n});\n\n/**\n * Component to create new endpoint.\n * This component will render if the api object does not have an endpoint configuration, letting users to create a\n * new endpoint configuration based on their requirement.\n * Following endpoint types are supported.\n * 1. HTTP/ SOAP endpoints\n * 2. Prototyped/ Mock endpoints\n * 3. AWS Lambda endpoints\n * 4. Dynamic Endpoints\n *\n * @param {any} props The input props.\n * @return {any} The HTML representation of the component.\n * */\nfunction NewEndpointCreate(props) {\n    const {\n        classes,\n        intl,\n        generateEndpointConfig,\n        apiType,\n    } = props;\n    const [endpointImplType, setImplType] = useState('mock');\n    const endpointTypes = [\n        {\n            type: 'http',\n            name: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.NewEndpointCreate.create.http.endpoint',\n                defaultMessage: 'HTTP/ REST Endpoint',\n            }),\n            description: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.NewEndpointCreate.create.http.endpoint.description',\n                defaultMessage: 'A REST API endpoint based on a URI template.',\n            }),\n            options: null,\n            disabled: ['SOAPTOREST'],\n        },\n        {\n            type: 'address',\n            name: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.NewEndpointCreate.create.soap.endpoint',\n                defaultMessage: 'HTTP/ SOAP Endpoint',\n            }),\n            description: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.NewEndpointCreate.create.soap.endpoint.description',\n                defaultMessage: 'The direct URI of the web service.',\n            }),\n            options: null,\n            disabled: ['GRAPHQL'],\n        },\n        {\n            type: 'prototyped',\n            name: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.NewEndpointCreate.create.prototype.endpoint',\n                defaultMessage: 'Prototype Endpoint',\n            }),\n            description: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.NewEndpointCreate.create.prototype.endpoint.description',\n                defaultMessage: 'Use the inbuilt JavaScript engine to prototype the API or provide an endpoint'\n                    + ' to a prototype API. The inbuilt JavaScript engine does support prototype SOAP APIs',\n            }),\n            options: [\n                {\n                    type: 'mock',\n                    name: intl.formatMessage({\n                        id: 'Apis.Details.Endpoints.NewEndpointCreate.prototype.implementation',\n                        defaultMessage: 'Prototype Implementation',\n                    }),\n                    disabled: ['SOAP', 'SOAPTOREST'],\n                },\n                {\n                    type: 'prototyped',\n                    name: intl.formatMessage({\n                        id: 'Apis.Details.Endpoints.NewEndpointCreate.default.prototype.endpoints',\n                        defaultMessage: 'Prototype Endpoint',\n                    }),\n                    disabled: [],\n                },\n            ],\n            disabled: ['GRAPHQL'],\n        },\n        {\n            type: 'dynamic',\n            name: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.NewEndpointCreate.create.dynamic.endpoint',\n                defaultMessage: 'Dynamic Endpoint',\n            }),\n            description: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.NewEndpointCreate.create.dynamic.endpoint.description',\n                defaultMessage: 'If you need to send the request to the URI specified in the TO header.',\n            }),\n            options: null,\n            disabled: [],\n        },\n        {\n            type: 'awslambda',\n            name: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.NewEndpointCreate.create.awslambda.endpoint',\n                defaultMessage: 'AWS Lambda Endpoint',\n            }),\n            description: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.NewEndpointCreate.create.awslambda.endpoint.description',\n                defaultMessage: 'If you need to invoke AWS Lambda functions through API gateway.',\n            }),\n            options: null,\n            disabled: ['SOAPTOREST', 'GRAPHQL'],\n        },\n    ];\n\n    return (\n        <>\n            <Typography variant='h4' align='left' className={classes.titleWrapper}>\n                <FormattedMessage\n                    id='Apis.Details.Endpoints.NewEndpointCreate.add.endpoints.header'\n                    defaultMessage='Select an Endpoint Type to Add'\n                />\n            </Typography>\n            <Grid container justify='flex-start' spacing={2}>\n                {endpointTypes.filter((type) => !type.disabled.includes(apiType)).map(((type) => {\n                    return (\n                        <Grid item className={classes.inlineMessageContainer}>\n                            <Card className={classes.endpointTypeCard}>\n                                <CardContent className={classes.cardContent}>\n                                    <Typography variant='h5' component='h3' className={classes.head}>\n                                        {type.name}\n                                    </Typography>\n                                    <Divider />\n                                    <Typography component='p' className={classes.content}>\n                                        {type.description}\n                                    </Typography>\n                                    {type.options\n                                        ? (\n                                            <div>\n                                                <FormControl component='fieldset' className={classes.formControl}>\n                                                    <RadioGroup\n                                                        aria-label='EndpointType'\n                                                        name='endpointType'\n                                                        className={classes.radioGroup}\n                                                        value={endpointImplType}\n                                                        onChange={(event) => { setImplType(event.target.value); }}\n                                                    >\n                                                        {type.options.filter((types) => !types.disabled\n                                                            .includes(apiType)).map(((option) => {\n                                                            return (\n                                                                <FormControlLabel\n                                                                    value={option.type}\n                                                                    control={<Radio color='primary' />}\n                                                                    label={option.name}\n                                                                />\n                                                            );\n                                                        }))}\n                                                    </RadioGroup>\n                                                </FormControl>\n                                            </div>\n                                        )\n                                        : <div /> }\n                                </CardContent>\n                                <CardActions className={classes.cardActions}>\n                                    <Button\n                                        color='primary'\n                                        className={classes.button}\n                                        onClick={() => generateEndpointConfig(type.type, endpointImplType)}\n                                    >\n                                        <FormattedMessage\n                                            id='Apis.Details.Endpoints.NewEndpointCreate.create.button'\n                                            defaultMessage='Add'\n                                        />\n                                    </Button>\n                                </CardActions>\n                            </Card>\n                        </Grid>\n                    );\n                }))}\n            </Grid>\n        </>\n    );\n}\n\nNewEndpointCreate.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n    generateEndpointConfig: PropTypes.func.isRequired,\n    apiType: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(injectIntl(NewEndpointCreate));\n","/*\n *  Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n *  WSO2 Inc. licenses this file to you under the Apache License,\n *  Version 2.0 (the \"License\"); you may not use this file except\n *  in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing,\n *  software distributed under the License is distributed on an\n *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n *  KIND, either express or implied. See the License for the\n *  specific language governing permissions and limitations\n *  under the License.\n */\n\nimport React, {\n    useContext,\n    lazy,\n    Suspense,\n    useState,\n} from 'react';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { APIContext } from 'AppComponents/Apis/Details/components/ApiContext';\nimport {\n    Chip,\n    ExpansionPanel,\n    ExpansionPanelDetails,\n    ExpansionPanelSummary,\n    Grid,\n    Typography,\n    makeStyles,\n    Button,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport Utils from 'AppData/Utils';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst MonacoEditor = lazy(() => import('react-monaco-editor' /* webpackChunkName: \"GenResourceMonaco\" */));\n\n/**\n * The generic resource component.\n *\n * @param {any} props The input props\n * @return {any} The HTML representation of the component.\n * */\nfunction GenericResource(props) {\n    const {\n        resourcePath, resourceMethod, scriptContent, onChange, originalScript, setMockValueDetails,\n    } = props;\n    const { api } = useContext(APIContext);\n    const [showReset, setShowReset] = useState(false);\n\n    const useStyles = makeStyles((theme) => {\n        let chipColor = theme.custom.resourceChipColors ? theme.custom.resourceChipColors[resourceMethod] : null;\n        let chipTextColor = '#000000';\n        if (!chipColor) {\n            console.log('Check the theme settings. The resourceChipColors is not populated properlly');\n            chipColor = '#cccccc';\n        } else {\n            chipTextColor = theme.palette.getContrastText(theme.custom.resourceChipColors[resourceMethod]);\n        }\n\n        return {\n            editor: {\n                width: '100%',\n                height: '500px',\n            },\n            chipActive: {\n                borderRadius: '5px',\n                width: '80%',\n                backgroundColor: chipColor,\n                color: chipTextColor,\n                ...theme.typography.button,\n            },\n            resourcePathContainer: {\n                paddingTop: theme.spacing(1),\n            },\n            prototypeResourceHeader: {\n                borderBottom: `${chipColor} 1px solid`,\n            },\n            chipExpansionPanel: {\n                backgroundColor: Utils.hexToRGBA(chipColor, 0.1),\n                border: `${chipColor} 1px solid`,\n            },\n            scriptResetButton: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginBottom: '10px',\n            },\n\n        };\n    });\n\n    const classes = useStyles();\n\n    return (\n        <Grid item>\n            <ExpansionPanel className={classes.chipExpansionPanel}>\n                <ExpansionPanelSummary className={classes.prototypeResourceHeader} expandIcon={<ExpandMoreIcon />}>\n                    <Grid container spacing={12}>\n                        <Grid xs={1}>\n                            <Chip label={resourceMethod} className={classes.chipActive} />\n                        </Grid>\n                        <Grid xs className={classes.resourcePathContainer}>\n                            <Typography>{resourcePath}</Typography>\n                        </Grid>\n                    </Grid>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails className={classes.genericResourceContent}>\n                    <Grid container direction='column'>\n                        <Grid item className={classes.scriptResetButton}>\n                            <Typography variant='subtitle2'>\n                                <FormattedMessage\n                                    id='Apis.Details.Endpoints.Prototype.InlineEndpoints.script'\n                                    defaultMessage='Script'\n                                />\n                            </Typography>\n                            {showReset\n                            && (\n                                <Button\n                                    variant='contained'\n                                    color='primary'\n                                    onClick={() => {\n                                        setMockValueDetails({ resourcePath, resourceMethod });\n                                        onChange(originalScript, resourcePath, resourceMethod);\n                                    }}\n                                >\n                                    Reset\n                                </Button>\n                            )}\n                        </Grid>\n                        <Grid item>\n                            <Suspense fallback={<CircularProgress />}>\n                                <MonacoEditor\n                                    height='50vh'\n                                    width='100%'\n                                    theme='vs-dark'\n                                    value={scriptContent}\n                                    options={{\n                                        selectOnLineNumbers: true,\n                                        readOnly: `${isRestricted(['apim:api_create'], api)}`,\n                                    }}\n                                    language='javascript'\n                                    onChange={(content) => {\n                                        setShowReset(true);\n                                        setMockValueDetails({ resourcePath, resourceMethod });\n                                        onChange(content, resourcePath, resourceMethod);\n                                    }}\n                                />\n                            </Suspense>\n                        </Grid>\n                    </Grid>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </Grid>\n    );\n}\n\nGenericResource.propTypes = {\n    resourcePath: PropTypes.string.isRequired,\n    resourceMethod: PropTypes.string.isRequired,\n    scriptContent: PropTypes.string.isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    onChange: PropTypes.func.isRequired,\n};\n\nexport default React.memo(GenericResource);\n","/*\n *  Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n *  WSO2 Inc. licenses this file to you under the Apache License,\n *  Version 2.0 (the \"License\"); you may not use this file except\n *  in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing,\n *  software distributed under the License is distributed on an\n *  \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n *  KIND, either express or implied. See the License for the\n *  specific language governing permissions and limitations\n *  under the License.\n */\n\nimport React, {\n    useState, useEffect, useContext, useCallback,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport { Grid } from '@material-ui/core';\nimport GenericResource from 'AppComponents/Apis/Details/Endpoints/Prototype/GenericResource';\nimport { APIContext } from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst xMediationScriptProperty = 'x-mediation-script';\n\nconst defaultScript = '/* mc.setProperty(\\'CONTENT_TYPE\\', \\'application/json\\');\\n\\t'\n    + 'mc.setPayloadJSON(\\'{ \"data\" : \"sample JSON\"}\\');*/\\n'\n    + '/*Uncomment the above comment block to send a sample response.*/';\n\n/**\n * The inline endpoints component.\n * This component lists the api resources to add custom mediation scripts.\n *\n * @param {any} props The input props.\n * @return {any} The HTML representation of the component.\n * */\nfunction InlineEndpoints(props) {\n    const { api } = useContext(APIContext);\n    const {\n        paths, updatePaths,\n    } = props;\n    const [mockValueDetails, setMockValueDetails] = useState({ resourcePath: '', resourceMethod: '' });\n\n    /**\n     * Handles the onChange event of the script editor.\n     *\n     * @param {string} value The editor content\n     * @param {string} path The path value of the resource.\n     * @param {string} method The resource method.\n     * */\n    const onScriptChange = useCallback(\n        (value, path, method) => {\n            const tmpPaths = JSON.parse(JSON.stringify(paths));\n            tmpPaths[path][method][xMediationScriptProperty] = value;\n            updatePaths(tmpPaths);\n        },\n        [mockValueDetails.resourcePath, mockValueDetails.resourceMethod],\n    );\n\n    const [mockScripts, setMockScripts] = useState([]);\n\n    useEffect(() => {\n        const promisedResponse = api.getGeneratedMockScriptsOfAPI(api.id);\n        promisedResponse.then((response) => {\n            setMockScripts(response.obj.list);\n        });\n    }, []);\n\n    function getGeneratedMockScriptOfAPI(resourcePath, resourceMethod) {\n        for (let i = 0; i < mockScripts.length; i++) {\n            if (mockScripts[i].verb.toLowerCase() === resourceMethod.toLowerCase()\n                && mockScripts[i].path === resourcePath) {\n                return mockScripts[i].content;\n            }\n        }\n        return null;\n    }\n\n    return (\n        <>\n            <Grid container spacing={1} direction='column'>\n                {Object.keys(paths).map((path) => {\n                    return (\n                        Object.keys(paths[path]).map((method) => {\n                            const mediationScript = paths[path][method][xMediationScriptProperty];\n                            const script = mediationScript === undefined ? defaultScript : mediationScript;\n                            const originalScript = getGeneratedMockScriptOfAPI(path, method);\n                            return (\n                                <GenericResource\n                                    resourcePath={path}\n                                    resourceMethod={method}\n                                    onChange={onScriptChange}\n                                    scriptContent={script}\n                                    originalScript={originalScript}\n                                    setMockValueDetails={setMockValueDetails}\n                                />\n                            );\n                        })\n                    );\n                })}\n            </Grid>\n        </>\n    );\n}\n\nInlineEndpoints.propTypes = {\n    paths: PropTypes.shape({}).isRequired,\n    updatePaths: PropTypes.func.isRequired,\n};\n\nexport default React.memo(InlineEndpoints);\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport cloneDeep from 'lodash.clonedeep';\n\n/**\n * Utility method to get the endpoint property name based on the given endpoint type and category.\n *\n * @param {string} type The type of the endpoint (load_balance/ failover)\n * @param {string} category The endpoint category (production/ sandbox)\n * @return {string} The property name of the endpoints.\n */\nfunction getEndpointTypeProperty(type, category) {\n    if (type !== 'failover') {\n        return category;\n    } else {\n        return category === 'sandbox_endpoints' ? 'sandbox_failovers' : 'production_failovers';\n    }\n}\n\n/**\n * Merge the loadbalance/ failover endpoints to single object.\n *\n * @param {object} endpointConfig The endpoint config object\n * @return {object} {production: [], sandbox: []}\n * */\nfunction mergeEndpoints(endpointConfig) {\n    const type = endpointConfig.endpoint_type;\n    if (type === 'load_balance') {\n        return { production: endpointConfig.production_endpoints, sandbox: endpointConfig.sandbox_endpoints };\n    } else if (type === 'failover') {\n        const prodEps = [endpointConfig.production_endpoints].concat(endpointConfig.production_failovers);\n        const sandboxEps = [endpointConfig.sandbox_endpoints].concat(endpointConfig.sandbox_failovers);\n        return { production: prodEps, sandbox: sandboxEps };\n    }\n    return { production: [endpointConfig.production_endpoints], sandbox: [endpointConfig.sandbox_endpoints] };\n}\n\n/**\n * Method to get the endpoints templates based on the selected endpoint type (loadbalance/ failover) and whether is\n * http or address endpoint.\n *\n * @param {string} endpointType The endpoint type\n * @param {bool} isAddressEndpoint Whether the endpoint is soap or not.\n * @param {object} currentEndpointConfig The existing endpoint information.\n * @return {object} A endpoint template object.\n * */\nfunction getEndpointTemplateByType(endpointType, isAddressEndpoint, currentEndpointConfig) {\n    const tmpEndpointConfig = {};\n    if (endpointType === 'failover') {\n        tmpEndpointConfig.endpoint_type = endpointType;\n        tmpEndpointConfig.production_failovers = currentEndpointConfig.production_failovers\n            ? currentEndpointConfig.production_failovers : [];\n        tmpEndpointConfig.sandbox_failovers = currentEndpointConfig.sandbox_failovers\n            ? currentEndpointConfig.sandbox_failovers : [];\n        tmpEndpointConfig.production_endpoints = Array.isArray(currentEndpointConfig.production_endpoints)\n            ? currentEndpointConfig.production_endpoints[0] : currentEndpointConfig.production_endpoints;\n        tmpEndpointConfig.sandbox_endpoints = Array.isArray(currentEndpointConfig.sandbox_endpoints)\n            ? currentEndpointConfig.sandbox_endpoints[0] : currentEndpointConfig.sandbox_endpoints;\n        tmpEndpointConfig.failOver = 'True';\n    } else if (endpointType === 'load_balance') {\n        tmpEndpointConfig.endpoint_type = endpointType;\n        tmpEndpointConfig.algoClassName = 'org.apache.synapse.endpoints.algorithms.RoundRobin';\n        tmpEndpointConfig.algoCombo = 'org.apache.synapse.endpoints.algorithms.RoundRobin';\n        tmpEndpointConfig.sessionManagement = '';\n        tmpEndpointConfig.sessionTimeOut = '';\n        if (currentEndpointConfig.production_endpoints) {\n            tmpEndpointConfig.production_endpoints = Array.isArray(currentEndpointConfig.production_endpoints)\n                ? currentEndpointConfig.production_endpoints : [currentEndpointConfig.production_endpoints];\n        }\n        if (currentEndpointConfig.sandbox_endpoints) {\n            tmpEndpointConfig.sandbox_endpoints = Array.isArray(currentEndpointConfig.sandbox_endpoints)\n                ? currentEndpointConfig.sandbox_endpoints : [currentEndpointConfig.sandbox_endpoints];\n        }\n        tmpEndpointConfig.failOver = 'False';\n    } else {\n        tmpEndpointConfig.endpoint_type = isAddressEndpoint === true ? 'address' : 'http';\n        tmpEndpointConfig.production_endpoints = Array.isArray(currentEndpointConfig.production_endpoints)\n            ? currentEndpointConfig.production_endpoints[0] : currentEndpointConfig.production_endpoints;\n        tmpEndpointConfig.sandbox_endpoints = Array.isArray(currentEndpointConfig.sandbox_endpoints)\n            ? currentEndpointConfig.sandbox_endpoints[0] : currentEndpointConfig.sandbox_endpoints;\n        tmpEndpointConfig.failOver = 'False';\n    }\n    return tmpEndpointConfig;\n}\n\n/**\n * Returns all the endpoints as a list.\n *\n * @param {object} endpointConfig The endpoint config object from the api.\n * @return {array} The list of endpoints.\n * */\nfunction endpointsToList(endpointConfig) {\n    const config = cloneDeep(endpointConfig);\n    const endpoints = [];\n    if (Array.isArray(config.production_endpoints)) {\n        endpoints.push(...config.production_endpoints);\n    } else {\n        endpoints.push(config.production_endpoints);\n    }\n\n    if (Array.isArray(config.sandbox_endpoints)) {\n        endpoints.push(...config.sandbox_endpoints);\n    } else {\n        endpoints.push(config.sandbox_endpoints);\n    }\n\n    if (config.endpoint_type === 'failover') {\n        if (config.sandbox_failovers) {\n            endpoints.push(...config.sandbox_failovers);\n        }\n        if (config.production_failovers) {\n            endpoints.push(...config.production_failovers);\n        }\n    }\n    return endpoints;\n}\n\n/**\n * Returns an endpoint config object template based on the implementation method.\n * Eg: Managed, Prototyped.\n *\n * @param {string} implementationType The endpoint implementation type.\n * @return {object} The endpoint template.\n * */\nfunction getEndpointConfigByImpl(implementationType) {\n    const tmpEndpointConfig = {};\n    if (implementationType === 'PROTOTYPED') {\n        tmpEndpointConfig.endpoint_type = 'http';\n        tmpEndpointConfig.implementation_status = 'prototyped';\n        tmpEndpointConfig.production_endpoints = { config: null, url: 'http://localhost' };\n        tmpEndpointConfig.sandbox_endpoints = { config: null, url: 'http://localhost' };\n    } else {\n        tmpEndpointConfig.endpoint_type = 'http';\n        tmpEndpointConfig.production_endpoints = { url: '' };\n        tmpEndpointConfig.sandbox_endpoints = { url: '' };\n        tmpEndpointConfig.failOver = 'False';\n    }\n    return tmpEndpointConfig;\n}\n\n/**\n * Get the endpoint config based on the selected endpoint type.\n * Supported endpoint types:\n * 1. http\n * 2. address\n * 3. prototyped\n * 4. awslambda\n * 5. default (Dynamic)\n *\n * @param {string} endpointType The selected endpoint type.\n * @return {endpointConfig} Endpoint config object.\n * */\nfunction createEndpointConfig(endpointType) {\n    const tmpEndpointConfig = {};\n    switch (endpointType) {\n        case 'http':\n            tmpEndpointConfig.endpoint_type = 'http';\n            tmpEndpointConfig.failOver = 'False';\n            break;\n        case 'address':\n            tmpEndpointConfig.endpoint_type = 'address';\n            tmpEndpointConfig.failOver = 'False';\n            break;\n        case 'prototyped':\n            tmpEndpointConfig.implementation_status = 'prototyped';\n            tmpEndpointConfig.endpoint_type = 'http';\n            tmpEndpointConfig.production_endpoints = { config: null, url: 'http://localhost' };\n            tmpEndpointConfig.sandbox_endpoints = { config: null, url: 'http://localhost' };\n            break;\n        case 'awslambda':\n            tmpEndpointConfig.endpoint_type = 'awslambda';\n            tmpEndpointConfig.access_method = 'role-supplied';\n            tmpEndpointConfig.amznAccessKey = '';\n            tmpEndpointConfig.amznSecretKey = '';\n            tmpEndpointConfig.amznRegion = '';\n            break;\n        default:\n            tmpEndpointConfig.endpoint_type = 'default';\n            tmpEndpointConfig.production_endpoints = { url: 'default' };\n            tmpEndpointConfig.sandbox_endpoints = { url: 'default' };\n            tmpEndpointConfig.failOver = 'False';\n            break;\n    }\n    return tmpEndpointConfig;\n}\n\n/**\n * Get the endpoint template based on endpoint type.\n *\n * @param {string} type: Endpoint type (HTTP/ Address)\n * @return {object} Endpoint Template\n * */\nfunction getEndpointTemplate(type) {\n    if (type === 'address') {\n        return { url: '', endpoint_type: 'address', template_not_supported: false };\n    }\n    return { url: '', template_not_supported: false };\n}\n\nexport {\n    getEndpointTypeProperty,\n    mergeEndpoints,\n    getEndpointTemplateByType,\n    endpointsToList,\n    getEndpointConfigByImpl,\n    createEndpointConfig,\n    getEndpointTemplate,\n};\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport {\n    ExpansionPanel,\n    ExpansionPanelDetails,\n    ExpansionPanelSummary,\n    Grid,\n    Typography,\n    withStyles,\n    Box,\n} from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Certificates from './GeneralConfiguration/Certificates';\nimport API from '../../../../data/api'; // TODO: Use webpack aliases instead of relative paths ~tmkb\nimport Alert from '../../../Shared/Alert';\nimport { endpointsToList } from './endpointUtils';\n\nconst styles = (theme) => ({\n    configHeaderContainer: {\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    generalConfigContent: {\n        boxShadow: 'inset -1px 2px 3px 0px #c3c3c3',\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n        display: 'flex',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n        fontWeight: '900',\n    },\n    endpointConfigSection: {\n        padding: '10px',\n    },\n    generalConfigPanel: {\n        width: '100%',\n    },\n    securityHeading: {\n        fontWeight: 600,\n    },\n    sandboxEndpointSwitch: {\n        marginLeft: theme.spacing(2),\n    },\n});\n\n/**\n * The component which holds the general configurations of the endpoints.\n *\n * @param {any} props The input properties to the component\n * @returns {any} The HTML representation of the component.\n * */\nfunction GeneralConfiguration(props) {\n    const {\n        intl,\n        epConfig,\n        endpointType,\n        classes,\n    } = props;\n    const [isConfigExpanded, setConfigExpand] = useState(false);\n    const [endpointCertificates, setEndpointCertificates] = useState([]);\n    const [aliasList, setAliasList] = useState([]);\n\n    /**\n     * Method to upload the certificate content by calling the rest api.\n     * */\n    const saveCertificate = (certificate, endpoint, alias) => {\n        return API.addCertificate(certificate, endpoint, alias)\n            .then((resp) => {\n                if (resp.status === 201) {\n                    Alert.info(intl.formatMessage({\n                        id: 'Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.add.success',\n                        defaultMessage: 'Certificate added successfully',\n                    }));\n                    const tmpCertificates = [...endpointCertificates];\n                    tmpCertificates.push({\n                        alias: resp.obj.alias,\n                        endpoint: resp.obj.endpoint,\n                    });\n                    setEndpointCertificates(tmpCertificates);\n                }\n            })\n            .catch((err) => {\n                console.error(err.message);\n                if (err.message === 'Conflict') {\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.alias.exist',\n                        defaultMessage: 'Adding Certificate Failed. Certificate Alias Exists.',\n                    }));\n                } else if (err.response) {\n                    Alert.error(err.response.body.description);\n                } else {\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.error',\n                        defaultMessage: 'Something went wrong while adding the certificate.',\n                    }));\n                }\n            });\n    };\n    /**\n     * Method to delete the selected certificate.\n     *\n     * @param {string} alias The alias of the certificate to be deleted.\n     * */\n    const deleteCertificate = (alias) => {\n        return API.deleteEndpointCertificate(alias)\n            .then((resp) => {\n                setEndpointCertificates(() => {\n                    if (resp.status === 200) {\n                        return endpointCertificates.filter((cert) => {\n                            return cert.alias !== alias;\n                        });\n                    } else {\n                        return -1;\n                    }\n                });\n                Alert.info(intl.formatMessage({\n                    id: 'Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.delete.success',\n                    defaultMessage: 'Certificate Deleted Successfully',\n                }));\n            })\n            .catch((err) => {\n                console.log(err);\n                Alert.info(intl.formatMessage({\n                    id: 'Apis.Details.Endpoints.GeneralConfiguration.Certificates.certificate.delete.error',\n                    defaultMessage: 'Error Deleting Certificate',\n                }));\n            });\n    };\n\n    // Get the certificates from backend.\n    useEffect(() => {\n        if (!isRestricted(['apim:ep_certificates_view'])) {\n            API.getEndpointCertificates()\n                .then((resp) => {\n                    const { certificates } = resp.obj;\n                    const endpoints = endpointsToList(epConfig);\n                    const aliases = [];\n                    const filteredCertificates = certificates.filter((cert) => {\n                        aliases.push(cert.alias);\n                        for (const endpoint of endpoints) {\n                            if (endpoint && endpoint.url.indexOf(cert.endpoint) !== -1) {\n                                return true;\n                            }\n                        }\n                        return false;\n                    });\n                    setEndpointCertificates(filteredCertificates);\n                    setAliasList(aliases);\n                })\n                .catch((err) => {\n                    console.error(err);\n                    setEndpointCertificates([]);\n                });\n        } else {\n            setEndpointCertificates([]);\n        }\n    }, []);\n\n    return (\n        <>\n            <ExpansionPanel\n                expanded={isConfigExpanded}\n                onChange={() => setConfigExpand(!isConfigExpanded)}\n                className={classes.generalConfigPanel}\n                disabled={isRestricted(['apim:ep_certificates_view'])}\n            >\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls='panel1bh-content'\n                    id='panel1bh-header'\n                    className={classes.configHeaderContainer}\n                >\n                    {endpointType.key === 'default' || endpointType.key === 'awslambda' ? (\n                        <div />\n                    ) : (\n                        <Typography\n                            className={classes.secondaryHeading}\n                            hidden={endpointType.key === 'default' || endpointType.key === 'awslambda'}\n                        >\n                            <FormattedMessage\n                                id='Apis.Details.Endpoints.GeneralConfiguration.certificates.sub.heading'\n                                defaultMessage='Certificates'\n                            />\n                            :\n                            {' '}\n                            {endpointCertificates.length}\n                            {isRestricted(['apim:ep_certificates_view']) && (\n                                <Box ml={2}>\n                                    <Typography variant='body2' color='primary'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Endpoints.GeneralConfiguration.not.allowed'\n                                            defaultMessage={'*You are not authorized to view certificates'\n                                        + ' due to insufficient permissions'}\n                                        />\n                                    </Typography>\n                                </Box>\n                            )}\n                        </Typography>\n                    )}\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails className={classes.generalConfigContent}>\n                    <Grid\n                        container\n                        className={classes.endpointConfigSection}\n                        hidden={endpointType.key === 'default' || endpointType.key === 'awslambda'}\n                    >\n                        <Certificates\n                            endpoints={endpointsToList(epConfig)}\n                            certificates={endpointCertificates}\n                            uploadCertificate={saveCertificate}\n                            deleteCertificate={deleteCertificate}\n                            aliasList={aliasList}\n                        />\n                    </Grid>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </>\n    );\n}\n\nGeneralConfiguration.propTypes = {\n    epConfig: PropTypes.shape({}).isRequired,\n    endpointType: PropTypes.shape({}).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(GeneralConfiguration));\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport {\n    Divider,\n    Icon,\n    IconButton,\n    InputAdornment,\n    TextField,\n    withStyles,\n} from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport green from '@material-ui/core/colors/green';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Chip from '@material-ui/core/Chip';\nimport { isRestricted } from 'AppData/AuthManager';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport API from 'AppData/api';\n\nconst styles = (theme) => ({\n    endpointInputWrapper: {\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    textField: {\n        width: '100%',\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    iconButton: {\n        padding: theme.spacing(1),\n    },\n    iconButtonValid: {\n        padding: theme.spacing(1),\n        color: green[500],\n    },\n    divider: {\n        width: 1,\n        height: 28,\n        margin: 4,\n    },\n    endpointValidChip: {\n        color: 'green',\n        border: '1px solid green',\n    },\n    endpointInvalidChip: {\n        color: '#ffd53a',\n        border: '1px solid #ffd53a',\n    },\n    endpointErrorChip: {\n        color: 'red',\n        border: '1px solid red',\n    },\n});\n/**\n * This component represents a single endpoint view of the endpoints listing. This component holds the actions that\n * affect the endpont. Eg: Delete, advance configuration.\n *\n * @param {any} props The input props\n * @returns {any} The HTML representation of the component.\n * */\nfunction GenericEndpoint(props) {\n    const {\n        category,\n        endpointURL,\n        editEndpoint,\n        classes,\n        type,\n        setAdvancedConfigOpen,\n        esCategory,\n        setESConfigOpen,\n        deleteEndpoint,\n        index,\n        readOnly,\n        autoFocus,\n        name,\n        apiId,\n    } = props;\n    const [serviceUrl, setServiceUrl] = useState(endpointURL);\n    const { api } = useContext(APIContext);\n    const [isEndpointValid, setIsEndpointValid] = useState();\n    const [statusCode, setStatusCode] = useState('');\n    const [isUpdating, setUpdating] = useState(false);\n    const [isErrorCode, setIsErrorCode] = useState(false);\n    const iff = (condition, then, otherwise) => (condition ? then : otherwise);\n\n    useEffect(() => {\n        setServiceUrl(endpointURL);\n    }, [endpointURL]);\n\n    function testEndpoint(endpoint, apiID) {\n        setUpdating(true);\n        const restApi = new API();\n        restApi.testEndpoint(endpoint, apiID)\n            .then((result) => {\n                if (result.body.error !== null) {\n                    setStatusCode(result.body.error);\n                    setIsErrorCode(true);\n                } else {\n                    setStatusCode(result.body.statusCode + ' ' + result.body.statusMessage);\n                    setIsErrorCode(false);\n                }\n                if (result.body.statusCode >= 200 && result.body.statusCode < 300) {\n                    setIsEndpointValid(true);\n                    setIsErrorCode(false);\n                } else {\n                    setIsEndpointValid(false);\n                }\n            }).finally(() => {\n                setUpdating(false);\n            });\n    }\n\n    return (\n        <div className={classes.endpointInputWrapper}>\n            <TextField\n                disabled={isRestricted(['apim:api_create'], api)}\n                label={name}\n                className={classes.textField}\n                value={serviceUrl}\n                placeholder={!serviceUrl ? 'http://appserver/resource' : ''}\n                onChange={(event) => setServiceUrl(event.target.value)}\n                onBlur={() => editEndpoint(index, category, serviceUrl)}\n                error={!serviceUrl}\n                helperText={!serviceUrl\n                    ? (\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.GenericEndpoint.no.ep.error'\n                            defaultMessage='Endpoint URL should not be empty'\n                        />\n                    ) : ''}\n                variant='outlined'\n                margin='normal'\n                required\n                InputProps={{\n                    readOnly,\n                    autoFocus,\n                    endAdornment: (\n                        <InputAdornment position='end'>\n                            {statusCode && (\n                                <Chip\n                                    label={statusCode}\n                                    className={isEndpointValid ? classes.endpointValidChip : iff(\n                                        isErrorCode,\n                                        classes.endpointErrorChip, classes.endpointInvalidChip,\n                                    )}\n                                    variant='outlined'\n                                />\n                            )}\n                            {!api.isWebSocket() && (\n                                <IconButton\n                                    className={isEndpointValid ? classes.iconButtonValid : classes.iconButton}\n                                    aria-label='TestEndpoint'\n                                    onClick={() => testEndpoint(serviceUrl, apiId)}\n                                    disabled={(isRestricted(['apim:api_create'], api)) || isUpdating}\n                                >\n                                    {isUpdating\n                                        ? <CircularProgress size={20} />\n                                        : (\n                                            <Icon>\n                                        check_circle\n                                            </Icon>\n                                        )}\n                                </IconButton>\n                            )}\n                            {type === 'prototyped'\n                                ? <div />\n                                : (\n                                    <>\n                                        <IconButton\n                                            className={classes.iconButton}\n                                            aria-label='Settings'\n                                            onClick={() => setAdvancedConfigOpen(index, type, category)}\n                                            disabled={(isRestricted(['apim:api_create'], api))}\n                                        >\n                                            <Icon>\n                                            settings\n                                            </Icon>\n                                        </IconButton>\n                                        <IconButton\n                                            className={classes.iconButton}\n                                            aria-label='Security'\n                                            onClick={() => setESConfigOpen(type, esCategory)}\n                                            disabled={(isRestricted(['apim:api_create'], api))}\n                                        >\n                                            <Icon>\n                                            security\n                                            </Icon>\n                                        </IconButton>\n                                    </>\n                                )}\n                            {(index > 0) ? <Divider className={classes.divider} /> : <div />}\n                            {(type === 'load_balance' || type === 'failover') ? (\n                                <IconButton\n                                    className={classes.iconButton}\n                                    aria-label='Delete'\n                                    color='secondary'\n                                    onClick={() => deleteEndpoint(index, type, category)}\n                                    disabled={(isRestricted(['apim:api_create'], api))}\n                                >\n                                    <Icon>\n                                        delete\n                                    </Icon>\n                                </IconButton>\n                            ) : (<div />)}\n                        </InputAdornment>\n                    ),\n                }}\n            />\n        </div>\n    );\n}\n\nGenericEndpoint.defaultProps = {\n    readOnly: false,\n    autoFocus: false,\n    name: 'Service URL',\n};\n\nGenericEndpoint.propTypes = {\n    endpointURL: PropTypes.string.isRequired,\n    deleteEndpoint: PropTypes.func.isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    type: PropTypes.string.isRequired,\n    setAdvancedConfigOpen: PropTypes.func.isRequired,\n    setESConfigOpen: PropTypes.func.isRequired,\n    index: PropTypes.number.isRequired,\n    editEndpoint: PropTypes.func.isRequired,\n    category: PropTypes.string.isRequired,\n    readOnly: PropTypes.bool,\n    autoFocus: PropTypes.bool,\n    name: PropTypes.string,\n    apiId: PropTypes.string.isRequired,\n};\n\nexport default withStyles(styles)(GenericEndpoint);\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState, useContext } from 'react';\n\nimport {\n    Icon,\n    IconButton,\n    InputAdornment,\n    TextField,\n    withStyles,\n} from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { isRestricted } from 'AppData/AuthManager';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst styles = (theme) => ({\n    endpointInputWrapper: {\n        width: '100%',\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    textField: {\n        width: '100%',\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    iconButton: {\n        padding: theme.spacing(1),\n    },\n});\n\n/**\n * This component represents the view and functions of endpoint add.\n *\n * @param {any} props The input props.\n * @returns {any} HTML representation of the component.\n * */\nfunction GenericEndpointAdd(props) {\n    const {\n        classes,\n        addEndpoint,\n    } = props;\n    const [serviceUrl, setServiceUrl] = useState('');\n    const { api } = useContext(APIContext);\n\n    /**\n     * The method to handle endpoint add button click action.\n     * */\n    const onAddEndpoint = () => {\n        setServiceUrl('');\n        addEndpoint(serviceUrl);\n    };\n\n    return (\n        <div className={classes.endpointInputWrapper}>\n            <TextField\n                label={(\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.GenericEndpoint.service.url.input'\n                        defaultMessage='Service URL'\n                    />\n                )}\n                disabled={isRestricted(['apim:api_create'], api)}\n                className={classes.textField}\n                value={serviceUrl}\n                fullWidth\n                onChange={(event) => setServiceUrl(event.target.value)}\n                variant='outlined'\n                margin='normal'\n                placeholder='Enter the Endpoint URL and press + button'\n                InputProps={{\n                    endAdornment: (\n                        <InputAdornment position='end'>\n                            <IconButton\n                                onClick={onAddEndpoint}\n                                color='green'\n                                className={classes.iconButton}\n                                aria-label='Search'\n                                disabled={serviceUrl === ''}\n                            >\n                                <Icon>\n                                    add\n                                </Icon>\n                            </IconButton>\n                        </InputAdornment>\n                    ),\n                }}\n            />\n        </div>\n    );\n}\n\nGenericEndpointAdd.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    addEndpoint: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(GenericEndpointAdd);\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Grid, withStyles } from '@material-ui/core';\nimport { injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport GenericEndpoint from './GenericEndpoint';\nimport GenericEndpointAdd from './GenericEndpointAdd';\n\nconst styles = (theme) => ({\n    endpointInputWrapper: {\n        display: 'flex',\n    },\n    epInput: {\n        width: '100%',\n    },\n    epTypeWrapper: {\n        display: 'flex',\n        padding: '5px',\n    },\n    epTypeName: {\n        paddingTop: '10px',\n        fontWeight: 600,\n    },\n    epConfig: {\n        justifyContent: 'flex-end',\n    },\n    leftArrow: {\n        paddingTop: '6px',\n    },\n    leftArrowLight: {\n        color: '#c5c5c5',\n        paddingTop: '6px',\n    },\n    dialogHeader: {\n        fontWeight: 600,\n    },\n    listItemOdd: {\n        background: '#ececec',\n        borderRadius: '5px',\n        '&:hover': {\n            backgroundColor: theme.palette.grey[300],\n        },\n        '&:focus': {\n            backgroundColor: theme.palette.grey[400],\n        },\n    },\n    listItem: {\n        borderRadius: '5px',\n        '&:hover': {\n            backgroundColor: theme.palette.grey[300],\n        },\n        '&:focus': {\n            backgroundColor: theme.palette.grey[400],\n        },\n    },\n});\n\n/**\n * The Component for endpoint listing.\n * @param {*} props The props that are being passed to the component.\n * @returns {any} The HTML view of the ep listing component.\n */\nfunction EndpointListing(props) {\n    const {\n        classes,\n        category,\n        apiEndpoints,\n        epType,\n        failOvers,\n        editEndpoint,\n        addNewEndpoint,\n        removeEndpoint,\n        setAdvancedConfigOpen,\n        apiId,\n    } = props;\n    const [endpointType, setEndpointType] = useState(epType);\n    const [endpoints, setEndpoints] = useState([{ url: 'http://myservice/endpoint' }]);\n    const selectedRef = useRef(null);\n\n    /**\n     * Method to add a new endpoint.\n     *\n     * @param {string} url The url of the endpoint that needs to be added.\n     * */\n    const addEndpoint = (url) => {\n        addNewEndpoint(category, epType, url);\n    };\n\n    useEffect(() => {\n        setEndpointType(epType);\n        setEndpoints(() => {\n            if (apiEndpoints !== null && epType === 'failover') {\n                return ([apiEndpoints].concat(failOvers));\n            } else {\n                if (apiEndpoints !== undefined) {\n                    return Array.isArray(apiEndpoints) ? apiEndpoints : [apiEndpoints];\n                }\n                return [{ url: 'http://myservice/' }];\n            }\n        });\n    }, [props]);\n\n    return (\n        <div className={classes.listingWrapper} ref={selectedRef}>\n            <Grid container xs={12}>\n                <Grid xs={12}>\n                    {(endpointType === 'failover' || endpointType === 'load_balance')\n                        ? <GenericEndpointAdd addEndpoint={addEndpoint} /> : <div />}\n                </Grid>\n                <Grid xs={12}>\n                    {\n                        (endpoints.map((ep, index) => {\n                            if (index > 0) {\n                                return (\n                                    <GenericEndpoint\n                                        readOnly\n                                        endpointURL={endpoints[index] ? endpoints[index].url : ''}\n                                        type={endpointType}\n                                        index={index}\n                                        category={category}\n                                        editEndpoint={editEndpoint}\n                                        deleteEndpoint={removeEndpoint}\n                                        setAdvancedConfigOpen={setAdvancedConfigOpen}\n                                        apiId={apiId}\n                                    />\n                                );\n                            }\n                            return (<div />);\n                        }))\n                    }\n                </Grid>\n            </Grid>\n        </div>\n    );\n}\n\nEndpointListing.propTypes = {\n    classes: PropTypes.shape({\n        epTypeWrapper: PropTypes.shape({}),\n        epTypeName: PropTypes.shape({}),\n        listingWrapper: PropTypes.shape({}),\n        epConfig: PropTypes.shape({}),\n    }).isRequired,\n    epType: PropTypes.string.isRequired,\n    category: PropTypes.string.isRequired,\n    apiEndpoints: PropTypes.shape({}).isRequired,\n    failOvers: PropTypes.shape({}).isRequired,\n    addNewEndpoint: PropTypes.func.isRequired,\n    removeEndpoint: PropTypes.func.isRequired,\n    editEndpoint: PropTypes.func.isRequired,\n    setAdvancedConfigOpen: PropTypes.func.isRequired,\n    apiId: PropTypes.string.isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(EndpointListing));\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useEffect, useState, useContext } from 'react';\nimport {\n    TextField, MenuItem, Grid, Button, withStyles,\n} from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { isRestricted } from 'AppData/AuthManager';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst algorithms = [\n    {\n        key: 'org.apache.synapse.endpoints.algorithms.RoundRobin',\n        value: 'Round-Robin',\n    },\n    { key: 'other', value: 'Other' },\n];\nconst sessionManagementOps = [\n    { key: 'http', value: 'Transport' },\n    { key: 'soap', value: 'SOAP' },\n    { key: 'simpleClientSession', value: 'Client Id' },\n    { key: 'none', value: 'None' },\n];\n\nconst defaultTemplateObj = {\n    algoClassName: algorithms[0].key,\n    algoCombo: algorithms[0].key,\n    sessionManagement: sessionManagementOps[0].key,\n    sessionTimeOut: 300,\n};\n\nconst styles = (theme) => ({\n    configButtonContainer: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n        paddingTop: theme.spacing(1),\n    },\n});\n\n/**\n * The component for loadbalance endpoint configuration.\n * @param {any} props The props that are being passed.\n * @returns {any} The HTML contents of the Configuration component.\n */\nfunction LoadBalanceConfig(props) {\n    const {\n        algoClassName,\n        algoCombo,\n        sessionManagement,\n        sessionTimeOut,\n        handleLBConfigChange,\n        closeLBConfigDialog,\n        classes,\n    } = props;\n    const [lbConfig, setLbConfigObject] = useState(defaultTemplateObj);\n    const [algoClassNameError, setAlgoClassNameError] = useState(false);\n    const { api } = useContext(APIContext);\n\n    useEffect(() => {\n        setLbConfigObject(() => {\n            const tmpLBConfig = { ...defaultTemplateObj };\n            if (algoCombo) {\n                tmpLBConfig.algoCombo = algoCombo;\n            }\n            if (sessionManagement) {\n                tmpLBConfig.sessionManagement = sessionManagement;\n            }\n            if (algoClassName) {\n                tmpLBConfig.algoClassName = algoClassName;\n            }\n            if (sessionTimeOut) {\n                tmpLBConfig.sessionTimeOut = sessionTimeOut;\n            }\n            return tmpLBConfig;\n        });\n    }, [props]);\n\n    /**\n     * Method to capture the alogrithm select changes.\n     *\n     * @param {any} event The event triggered by the element.\n     * */\n    const handleAlgorithmChange = (event) => {\n        const { value } = event.target;\n        setLbConfigObject({\n            ...lbConfig,\n            algoCombo: value,\n            algoClassName: value === 'other' ? '' : defaultTemplateObj.algoClassName,\n        });\n    };\n\n    /**\n     * Method to capture the onChange event of the elements.\n     *\n     * @param {any} event The event triggered by the element.\n     * @param {string} field The respective field which is being changed.\n     * */\n    const handleFieldChange = (event, field) => {\n        setLbConfigObject({ ...lbConfig, [field]: event.target.value });\n    };\n\n    /**\n     * Method to set the configuration changes to the original endpoints config object.\n     * */\n    const submitConfiguration = () => {\n        handleLBConfigChange(lbConfig);\n    };\n\n    return (\n        <>\n            <Grid container direction='column'>\n                <TextField\n                    id='algorithmSelect'\n                    select\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.LoadBalanceConfig.algorithm'\n                            defaultMessage='Algorithm'\n                        />\n                    )}\n                    value={lbConfig.algoCombo}\n                    onChange={handleAlgorithmChange}\n                    helperText='Please select the Loadbalance Algorithm.'\n                    margin='normal'\n                    disabled={isRestricted(['apim:api_create'], api)}\n                >\n                    {algorithms.map((algo) => (\n                        <MenuItem key={algo.key} value={algo.key} selected={lbConfig.algoCombo}>\n                            {algo.value}\n                        </MenuItem>\n                    ))}\n                </TextField>\n                {(lbConfig.algoCombo === 'other')\n                    ? (\n                        <TextField\n                            id='customAlgoInput'\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.Endpoints.LoadBalanceConfig.class.name.for.algorithm'\n                                    defaultMessage='Class Name for Algorithm'\n                                />\n                            )}\n                            required\n                            error={algoClassNameError}\n                            value={lbConfig.algoClassName}\n                            onChange={(event) => handleFieldChange(event, 'algoClassName')}\n                            onBlur={() => setAlgoClassNameError(lbConfig.algoClassName === '')}\n                            helperText='Enter the class name of the loadbalance algorithm'\n                            disabled={isRestricted(['apim:api_create'], api)}\n                            margin='normal'\n                        />\n                    ) : <div /> }\n                <TextField\n                    id='sessionMgtSelect'\n                    select\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.LoadBalanceConfig.session.management'\n                            defaultMessage='Session Management'\n                        />\n                    )}\n                    value={lbConfig.sessionManagement}\n                    onChange={(event) => handleFieldChange(event, 'sessionManagement')}\n                    helperText='Please select the Session Management mechanism.'\n                    margin='normal'\n                    disabled={isRestricted(['apim:api_create'], api)}\n                >\n                    {sessionManagementOps.map((option) => (\n                        <MenuItem key={option.key} value={option.key}>\n                            {option.value}\n                        </MenuItem>\n                    ))}\n                </TextField>\n                <TextField\n                    id='sessionTimeout'\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.LoadBalanceConfig.session.timeout'\n                            defaultMessage='Session Timeout (Millis)'\n                        />\n                    )}\n                    value={lbConfig.sessionTimeOut}\n                    onChange={(event) => handleFieldChange(event, 'sessionTimeOut')}\n                    type='number'\n                    placeholder='300'\n                    margin='normal'\n                    disabled={isRestricted(['apim:api_create'], api)}\n                />\n            </Grid>\n            <Grid className={classes.configButtonContainer}>\n                <Button\n                    color='primary'\n                    variant='contained'\n                    autoFocus\n                    onClick={submitConfiguration}\n                    disabled={lbConfig.algoClassName === '' || isRestricted(['apim:api_create'], api)}\n                    style={{ marginRight: '10px' }}\n                >\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.EndpointOverview.loadbalance.config.save.button'\n                        defaultMessage='Save'\n                    />\n                </Button>\n                <Button\n                    onClick={closeLBConfigDialog}\n                >\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.EndpointOverview.loadbalance.config.cancel.button'\n                        defaultMessage='Close'\n                    />\n                </Button>\n            </Grid>\n        </>\n    );\n}\n\nLoadBalanceConfig.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    algoClassName: PropTypes.string.isRequired,\n    algoCombo: PropTypes.string.isRequired,\n    sessionManagement: PropTypes.string.isRequired,\n    sessionTimeOut: PropTypes.string.isRequired,\n    handleLBConfigChange: PropTypes.func.isRequired,\n    closeLBConfigDialog: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(LoadBalanceConfig));\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport {\n    Dialog,\n    DialogContent,\n    DialogTitle,\n    ExpansionPanel,\n    ExpansionPanelDetails,\n    ExpansionPanelSummary,\n    Grid,\n    Icon,\n    IconButton,\n    MenuItem,\n    TextField,\n    Typography,\n    withStyles,\n} from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport cloneDeep from 'lodash.clonedeep';\nimport { isRestricted } from 'AppData/AuthManager';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport EndpointListing from 'AppComponents/Apis/Details/Endpoints/EndpointListing';\nimport LoadBalanceConfig from 'AppComponents/Apis/Details/Endpoints/LoadBalanceConfig';\nimport Collapse from '@material-ui/core/Collapse';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport { getEndpointTypeProperty } from './endpointUtils';\n\nconst styles = (theme) => ({\n    endpointTypeSelect: {\n        width: '50%',\n        marginTop: theme.spacing(1),\n    },\n    configHeaderContainer: {\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    generalConfigContent: {\n        boxShadow: 'inset -1px 2px 3px 0px #c3c3c3',\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n        display: 'flex',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n        fontWeight: '900',\n    },\n    endpointConfigSection: {\n        padding: '10px',\n    },\n    generalConfigPanel: {\n        width: '100%',\n    },\n    endpointsTypeSelectWrapper: {\n        display: 'flex',\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n    lbConfigBtn: {\n        position: 'relative',\n        top: '10px',\n    },\n    endpointName: {\n        fontWeight: 600,\n    },\n    wrapper: {\n        width: '100%',\n    },\n});\n\nconst endpointTypes = [\n    { key: 'none', value: 'None' },\n    { key: 'failover', value: 'Failover' },\n    { key: 'load_balance', value: 'Load Balanced' },\n];\n\n/**\n * The component which holds the load balance and failover configuration.\n *\n * @param {any} props The input properties to the component\n * @returns {any} The HTML representation of the component.\n * */\nfunction LoadbalanceFailoverConfig(props) {\n    const {\n        epConfig,\n        classes,\n        endpointsDispatcher,\n        toggleAdvanceConfig,\n        globalEpType,\n        handleEndpointCategorySelect,\n    } = props;\n    const { api } = useContext(APIContext);\n    const [isConfigExpanded, setConfigExpand] = useState(false);\n    const [endpointType, setEndpointType] = useState(props);\n    const [isLBConfigOpen, setLBConfigOpen] = useState(false);\n\n    useEffect(() => {\n        const epType = epConfig.endpoint_type;\n        if (epType === 'http' || epType === 'address') {\n            setEndpointType('none');\n        } else {\n            setEndpointType(epType);\n        }\n    }, [props]);\n\n    /**\n     * Method to add new loadbalance/ failover endpoint to the existing endpoints.\n     *\n     * @param {string} category The endpoint category (production/ sandbox)\n     * @param {string} type The endpoint type. (load_balance/ failover)\n     * @param {string} newURL The url of the new endpoint.\n     * */\n    const addEndpoint = (category, type, newURL) => {\n        const endpointConfigCopy = cloneDeep(epConfig);\n        const endpointTemplate = {\n            endpoint_type: globalEpType.key,\n            template_not_supported: false,\n            url: newURL,\n        };\n        const epConfigProperty = getEndpointTypeProperty(type, category);\n        let endpointList = endpointConfigCopy[epConfigProperty];\n        /**\n         * Check whether we have existing endpoints added.\n         * */\n        if (endpointList) {\n            if (!Array.isArray(endpointList)) {\n                endpointList = [endpointList].concat(endpointTemplate);\n            } else {\n                endpointList = endpointList.concat(endpointTemplate);\n            }\n        } else {\n            endpointList = [endpointTemplate];\n        }\n        endpointConfigCopy[epConfigProperty] = endpointList;\n        endpointsDispatcher({ action: 'add_endpoint', value: endpointConfigCopy });\n    };\n\n    /**\n     * Method to handle the loadbalance configuration changes.\n     *\n     * @param {object} lbConfig The modified loadbalance configuration.\n     * */\n    const handleLBConfigChange = (lbConfig) => {\n        endpointsDispatcher({ action: 'set_lb_config', value: { ...epConfig, ...lbConfig } });\n        setLBConfigOpen(false);\n    };\n\n    const getEndpointTypeHeading = () => {\n        switch (endpointType) {\n            case 'none':\n                return (\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.LoadbalanceFailoverConfig.none.heading'\n                        defaultMessage='Not Configured'\n                    />\n                );\n            case 'failover':\n                return (\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.LoadbalanceFailoverConfig.failover.heading'\n                        defaultMessage='Failover Endpoints'\n                    />\n                );\n            default:\n                return (\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.LoadbalanceFailoverConfig.loadbalance.heading'\n                        defaultMessage='Load Balanced Endpoints'\n                    />\n                );\n        }\n    };\n\n    /**\n     * Method to remove the selected endpoint from the endpoints list.\n     *\n     * @param {number} index The selected endpoint index\n     * @param {string} epType The type of the endpoint. (loadbalance/ failover)\n     * @param {string} category The endpoint category (production/ sandbox)\n     * */\n    const removeEndpoint = (index, epType, category) => {\n        const tmpEndpointConfig = cloneDeep(epConfig);\n        const endpointConfigProperty = getEndpointTypeProperty(epType, category);\n        const indexToRemove = epType === 'failover' ? index - 1 : index;\n        const tmpEndpoints = tmpEndpointConfig[endpointConfigProperty];\n        tmpEndpoints.splice(indexToRemove, 1);\n        endpointsDispatcher({\n            action: 'remove_endpoint',\n            value: { ...epConfig, [endpointConfigProperty]: tmpEndpoints },\n        });\n    };\n\n    const editEndpoint = () => {};\n    const handleEndpointTypeSelect = (event) => {\n        setEndpointType(event.target.value);\n        handleEndpointCategorySelect(event);\n    };\n\n    return (\n        <>\n            <ExpansionPanel\n                expanded={isConfigExpanded || endpointType === 'load_balance' || endpointType === 'failover'}\n                onChange={() => setConfigExpand(!isConfigExpanded)}\n                className={classes.generalConfigPanel}\n            >\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls='panel1bh-content'\n                    id='panel1bh-header'\n                    className={classes.configHeaderContainer}\n                >\n                    <Typography className={classes.secondaryHeading}>\n                        {getEndpointTypeHeading()}\n                    </Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails className={classes.generalConfigContent}>\n                    {(!epConfig.production_endpoints && !epConfig.sandbox_endpoints)\n                        ? (\n                            <InlineMessage>\n                                <div className={classes.contentWrapper}>\n                                    <Typography component='p' className={classes.content}>\n                                        <FormattedMessage\n                                            id='Apis.Details.Endpoints.LoadbalanceFailoverConfig.no.endpoints.message'\n                                            defaultMessage='Add Production/ Sandbox endpoints to configure.'\n                                        />\n                                    </Typography>\n                                </div>\n                            </InlineMessage>\n                        )\n                        : (\n                            <Grid container item xs={12}>\n                                <Grid xs={12} className={classes.endpointsTypeSelectWrapper}>\n                                    <TextField\n                                        disabled={isRestricted(['apim:api_create'], api)}\n                                        id='certificateEndpoint'\n                                        label={(\n                                            <FormattedMessage\n                                                id='Apis.Details.Endpoints.LoadbalanceFailoverConfig.endpoint.type'\n                                                defaultMessage='Endpoint Type'\n                                            />\n                                        )}\n                                        value={endpointType}\n                                        placeholder='Endpoint'\n                                        onChange={handleEndpointTypeSelect}\n                                        margin='normal'\n                                        variant='outlined'\n                                        select\n                                        className={classes.endpointTypeSelect}\n                                    >\n                                        {endpointTypes.map((type) => {\n                                            return <MenuItem value={type.key}>{type.value}</MenuItem>;\n                                        })}\n                                    </TextField>\n                                    <div className={classes.lpConfigWrapper}>\n                                        <IconButton\n                                            className={classes.lbConfigBtn}\n                                            disabled={epConfig.endpoint_type !== 'load_balance'}\n                                            aria-label='Delete'\n                                            onClick={() => setLBConfigOpen(true)}\n                                        >\n                                            <Icon>\n                                            settings\n                                            </Icon>\n                                        </IconButton>\n                                    </div>\n                                </Grid>\n                                <Grid xs={12} container spacing={2}>\n                                    <Collapse className={classes.wrapper} in={endpointType !== 'none'}>\n                                        {epConfig.production_endpoints\n                                    && (\n                                        <Grid xs={12} className={classes.endpointsWrapperLeft}>\n                                            <Typography className={classes.endpointName}>\n                                                {epConfig.endpoint_type === 'failover'\n                                                    ? (\n                                                        <FormattedMessage\n                                                            id={'Apis.Details.Endpoints.'\n                                                            + 'LoadbalanceFailoverConfig.production.'\n                                                            + 'failover.endpoint'}\n                                                            defaultMessage='Production Failover Endpoints'\n                                                        />\n                                                    )\n                                                    : (\n                                                        <FormattedMessage\n                                                            id={'Apis.Details.Endpoints.LoadbalanceFailoverConfig.'\n                                                    + 'production.loadbalance.endpoint'}\n                                                            defaultMessage='Production Loadbalanced Endpoints'\n                                                        />\n                                                    )}\n                                            </Typography>\n                                            <EndpointListing\n                                                apiEndpoints={epConfig.production_endpoints}\n                                                failOvers={epConfig.production_failovers}\n                                                epType={epConfig.endpoint_type}\n                                                addNewEndpoint={addEndpoint}\n                                                removeEndpoint={removeEndpoint}\n                                                editEndpoint={editEndpoint}\n                                                setAdvancedConfigOpen={toggleAdvanceConfig}\n                                                category='production_endpoints'\n                                                apiId={api.id}\n                                            />\n                                        </Grid>\n                                    )}\n                                        {epConfig.sandbox_endpoints\n                                    && (\n                                        <Grid xs={12} className={classes.endpointsWrapperRight}>\n                                            <Typography className={classes.endpointName}>\n                                                {epConfig.endpoint_type === 'failover'\n                                                    ? (\n                                                        <FormattedMessage\n                                                            id={'Apis.Details.Endpoints.'\n                                                            + 'LoadbalanceFailoverConfig.sandbox.'\n                                                            + 'failover.endpoint'}\n                                                            defaultMessage='Sandbox Failover Endpoints'\n                                                        />\n                                                    )\n                                                    : (\n                                                        <FormattedMessage\n                                                            id={'Apis.Details.Endpoints.LoadbalanceFailoverConfig.'\n                                                    + 'sandbox.loadbalance.endpoint'}\n                                                            defaultMessage='Sandbox Loadbalanced Endpoints'\n                                                        />\n                                                    )}\n                                            </Typography>\n                                            <EndpointListing\n                                                apiEndpoints={epConfig.sandbox_endpoints}\n                                                failOvers={epConfig.sandbox_failovers}\n                                                epType={epConfig.endpoint_type}\n                                                addNewEndpoint={addEndpoint}\n                                                removeEndpoint={removeEndpoint}\n                                                editEndpoint={editEndpoint}\n                                                setAdvancedConfigOpen={toggleAdvanceConfig}\n                                                category='sandbox_endpoints'\n                                                apiId={api.id}\n                                            />\n                                        </Grid>\n                                    )}\n                                    </Collapse>\n                                </Grid>\n                            </Grid>\n                        )}\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n            <Dialog open={isLBConfigOpen}>\n                <DialogTitle>\n                    <Typography className={classes.configDialogHeader}>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.LoadbalanceFailoverConfig.load.balance.configuration.title'\n                            defaultMessage='Load Balance Configurations'\n                        />\n                    </Typography>\n                </DialogTitle>\n                <DialogContent>\n                    <LoadBalanceConfig\n                        handleLBConfigChange={handleLBConfigChange}\n                        closeLBConfigDialog={() => setLBConfigOpen(false)}\n                        algoCombo={epConfig.algoCombo}\n                        algoClassName={epConfig.algoClassName}\n                        sessionTimeOut={epConfig.sessionTimeOut}\n                        sessionManagement={epConfig.sessionManagement}\n                    />\n                </DialogContent>\n            </Dialog>\n        </>\n    );\n}\n\nLoadbalanceFailoverConfig.propTypes = {\n    epConfig: PropTypes.shape({}).isRequired,\n    endpointSecurityInfo: PropTypes.shape({}).isRequired,\n    endpointType: PropTypes.shape({}).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    endpointsDispatcher: PropTypes.func.isRequired,\n    toggleAdvanceConfig: PropTypes.func.isRequired,\n    handleEndpointCategorySelect: PropTypes.func.isRequired,\n    globalEpType: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(LoadbalanceFailoverConfig));\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport {\n    Divider,\n    FormControl,\n    Grid,\n    Input,\n    InputLabel,\n    MenuItem,\n    Select,\n    TextField,\n    Typography,\n    Button,\n    withStyles,\n} from '@material-ui/core';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { isRestricted } from 'AppData/AuthManager';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst itemHeight = 48;\nconst itemPaddingTop = 8;\nconst MenuProps = {\n    PaperProps: {\n        style: {\n            maxHeight: (itemHeight * 4.5) + itemPaddingTop, width: 250,\n        },\n    },\n};\nconst styles = (theme) => ({\n    formControl: {\n        width: '500px',\n    },\n    subTitle: {\n        fontSize: '1rem',\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n    },\n    configContainer: {\n        paddingTop: '10px',\n    },\n    configSubContainer: {\n        paddingBottom: '10px',\n        marginTop: '5px',\n        padding: '5px',\n    },\n    textField: {\n        marginRight: theme.spacing(1),\n        width: '45%',\n    },\n    advanceDialogActions: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n    },\n});\n\n/**\n * The component for advanced endpoint configurations.\n * @param {any} props The input props\n * @returns {any} The HTML representation of the compoenent.\n */\nfunction AdvanceEndpointConfig(props) {\n    const { api } = useContext(APIContext);\n    const {\n        classes,\n        intl,\n        advanceConfig,\n        isSOAPEndpoint,\n        onSaveAdvanceConfig,\n        onCancel,\n    } = props;\n    const [advanceConfigObj, setAdvanceConfig] = useState(() => {\n        const config = {};\n        if (isSOAPEndpoint) {\n            config.format = 'soap11';\n            config.optimize = 'SWA';\n        }\n        config.actionDuration = '30000';\n        config.actionSelect = 'fault';\n        config.factor = '';\n        config.retryDelay = '';\n        config.retryErroCode = [];\n        config.retryTimeOut = '';\n        config.suspendDuration = '';\n        config.suspendErrorCode = [];\n        config.suspendMaxDuration = '';\n        return config;\n    });\n\n    /**\n     * The error codes definition.\n     * */\n    const errorCodes = [\n        {\n            key: '101001',\n            value: '101001 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.receiver.io.error.receiving',\n                defaultMessage: 'Receiver IO error Receiving',\n            }),\n        },\n        {\n            key: '101500',\n            value: '101500 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.sender.io.error.sending',\n                defaultMessage: 'Sender IO Error Sending',\n            }),\n        },\n        {\n            key: '101000',\n            value: '101000 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.receiver.io.error.sending',\n                defaultMessage: 'Retriever IO Error Sending',\n            }),\n        },\n        {\n            key: '101501',\n            value: '101501 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.sender.io.error.receiving',\n                defaultMessage: 'Sender IO Error Receiving',\n            }),\n        },\n        {\n            key: '101503',\n            value: '101503 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.connection.failed',\n                defaultMessage: 'Connection Failed',\n            }),\n        },\n        {\n            key: '101504',\n            value: '101504 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.connection.timed.out',\n                defaultMessage: 'Connection Timed Out',\n            }),\n        },\n        {\n            key: '101505',\n            value: '101505 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.connection.closed',\n                defaultMessage: 'Connection Closed',\n            }),\n        },\n        {\n            key: '101506',\n            value: '101506 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.tpp.protocol.violation',\n                defaultMessage: 'TTP Protocol Violation',\n            }),\n        },\n        {\n            key: '101507',\n            value: '101507 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.connect.cancel',\n                defaultMessage: 'Connect Cancel',\n            }),\n        },\n        {\n            key: '101508',\n            value: '101508 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.connect.timeout',\n                defaultMessage: 'Connect Timeout',\n            }),\n        },\n        {\n            key: '101509',\n            value: '101509 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.send.abort',\n                defaultMessage: 'Send Abort',\n            }),\n        },\n        {\n            key: '101510',\n            value: '101510 : ' + intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.response.processing.failure',\n                defaultMessage: 'Response Processing Failure',\n            }),\n        }];\n\n    /**\n     * Supported action items.\n     * */\n    const actionItems = [\n        {\n            key: 'fault',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.execute.fault.sequence',\n                defaultMessage: 'Execute Fault Sequence',\n            }),\n        },\n        {\n            key: 'discard',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.discard.message',\n                defaultMessage: 'Discard Message',\n            }),\n        },\n    ];\n\n    /**\n     * Message types for the address endpoint type.\n     * */\n    const messageTypes = [\n        { key: 'soap11', value: 'SOAP 1.1' },\n        { key: 'soap12', value: 'SOAP 1.2' },\n        {\n            key: 'POX',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.plain.old.xml',\n                defaultMessage: 'Plain Old XML (POX)',\n            }),\n        },\n        {\n            key: 'REST',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.representational.state.transfer',\n                defaultMessage: 'Representational State Transfer (REST)',\n            }),\n        },\n        {\n            key: 'GET',\n            value: 'GET',\n        },\n        {\n            key: 'leave-as-is',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.leave.as.is',\n                defaultMessage: 'Leave As-Is',\n            }),\n        },\n    ];\n\n    /**\n     * Address endpoint message optimizations.\n     * */\n    const optimizeOptions = [\n        { key: 'SWA', value: 'SWA' },\n        { key: 'MTOM', value: 'MTOM' },\n        {\n            key: 'leave-as-is',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.leave.as.is',\n                defaultMessage: 'Leave As-Is',\n            }),\n        },\n    ];\n\n    useEffect(() => {\n        setAdvanceConfig(() => {\n            if (advanceConfig === {}) {\n                return { ...advanceConfigObj };\n            }\n            return { ...advanceConfigObj, ...advanceConfig };\n        });\n    }, [props]);\n\n    /**\n     * Method to handle the advance endpoint field change. In each change, the advance config object is getting updated.\n     *\n     * @param {any} event The HTML event triggered by the element.\n     * @param {string} field The HTML element that is being changed.\n     * */\n    const handleConfigFieldChange = (event, field) => {\n        const di = { ...advanceConfigObj, [field]: event.target.value };\n        setAdvanceConfig(di);\n    };\n\n    return (\n        <Grid container direction='column' className={classes.configContainer}>\n            {(isSOAPEndpoint) ? (\n                <Grid item container className={classes.configSubContainer}>\n                    <Typography className={classes.subTitle}>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.message.content'\n                            defaultMessage='Message Content'\n                        />\n                    </Typography>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel htmlFor='err-code-select'>\n                            <FormattedMessage\n                                id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.format.select'\n                                defaultMessage='Format'\n                            />\n                        </InputLabel>\n                        <Select\n                            autoWidth={false}\n                            value={advanceConfigObj.format}\n                            onChange={(event) => handleConfigFieldChange(event, 'format')}\n                            input={<Input id='err-code-select' />}\n                            MenuProps={MenuProps}\n                        >\n                            {messageTypes.map((messageType) => (\n                                <MenuItem key={messageType.key} value={messageType.key}>\n                                    {messageType.value}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                    <FormControl className={classes.formControl}>\n                        <InputLabel htmlFor='err-code-select'>\n                            <FormattedMessage\n                                id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.optimize.select'\n                                defaultMessage='Optimize'\n                            />\n                        </InputLabel>\n                        <Select\n                            autoWidth={false}\n                            value={advanceConfigObj.optimize}\n                            onChange={(event) => handleConfigFieldChange(event, 'optimize')}\n                            input={<Input id='err-code-select' />}\n                            MenuProps={MenuProps}\n                        >\n                            {optimizeOptions.map((option) => (\n                                <MenuItem key={option.key} value={option.key}>\n                                    {option.value}\n                                </MenuItem>\n                            ))}\n                        </Select>\n                    </FormControl>\n                    <Divider />\n                </Grid>\n            ) : (<div />)}\n            <Grid item container className={classes.configSubContainer}>\n                <Typography className={classes.subTitle}>\n                    <FormattedMessage id='Endpoint.Suspension.State' defaultMessage='Endpoint Suspension State' />\n                </Typography>\n                <FormControl className={classes.formControl}>\n                    <InputLabel htmlFor='err-code-select'>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.error.code'\n                            defaultMessage='Error Code'\n                        />\n                    </InputLabel>\n                    <Select\n                        multiple\n                        autoWidth={false}\n                        value={advanceConfigObj.suspendErrorCode}\n                        onChange={(event) => handleConfigFieldChange(event, 'suspendErrorCode')}\n                        input={<Input id='err-code-select' />}\n                        MenuProps={MenuProps}\n                        variant='outlined'\n                    >\n                        {errorCodes.map((code) => (\n                            <MenuItem key={code.key} value={code.key}>\n                                {code.value}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n                <TextField\n                    className={classes.textField}\n                    id='initial-duration-input'\n                    value={advanceConfigObj.suspendDuration}\n                    onChange={(event) => handleConfigFieldChange(event, 'suspendDuration')}\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.initial.duration.ms'\n                            defaultMessage='Initial Duration (ms)'\n                        />\n                    )}\n                    margin='normal'\n                    type='number'\n                />\n                <TextField\n                    className={classes.textField}\n                    id='max-duration-input'\n                    value={advanceConfigObj.suspendMaxDuration}\n                    onChange={(event) => handleConfigFieldChange(event, 'suspendMaxDuration')}\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.max.duration.ms'\n                            defaultMessage='Max Duration (ms)'\n                        />\n                    )}\n                    margin='normal'\n                    type='number'\n                />\n                <TextField\n                    className={classes.textField}\n                    value={advanceConfigObj.factor}\n                    onChange={(event) => handleConfigFieldChange(event, 'factor')}\n                    id='factor-input'\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.factor'\n                            defaultMessage='Factor'\n                        />\n                    )}\n                    margin='normal'\n                />\n            </Grid>\n            <Divider />\n            <Grid item container className={classes.configSubContainer}>\n                <Typography className={classes.subTitle}>\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.endpoint.timeout.state'\n                        defaultMessage='Endpoint Timeout State'\n                    />\n                </Typography>\n                <FormControl className={classes.formControl}>\n                    <InputLabel htmlFor='err-code-select'>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.error.code'\n                            defaultMessage='Error Code'\n                        />\n                    </InputLabel>\n                    <Select\n                        multiple\n                        autoWidth={false}\n                        value={advanceConfigObj.retryErroCode}\n                        onChange={(event) => handleConfigFieldChange(event, 'retryErroCode')}\n                        input={<Input id='err-code-select' />}\n                        MenuProps={MenuProps}\n                    >\n                        {errorCodes.map((code) => (\n                            <MenuItem key={code.key} value={code.key}>\n                                {code.value}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n                <TextField\n                    className={classes.textField}\n                    id='retries-input'\n                    value={advanceConfigObj.retryTimeOut}\n                    onChange={(event) => handleConfigFieldChange(event, 'retryTimeOut')}\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.retries.before.suspension'\n                            defaultMessage='Retries Before Suspension'\n                        />\n                    )}\n                    type='number'\n                    margin='normal'\n                />\n                <TextField\n                    className={classes.textField}\n                    id='retry-delay-input'\n                    value={advanceConfigObj.retryDelay}\n                    onChange={(event) => handleConfigFieldChange(event, 'retryDelay')}\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.retry.delay.ms'\n                            defaultMessage='Retry Delay (ms)'\n                        />\n                    )}\n                    type='number'\n                    margin='normal'\n                />\n            </Grid>\n            <Divider />\n            <Grid item container className={classes.configSubContainer}>\n                <Typography className={classes.subTitle}>\n                    <FormattedMessage id='Connection.Timeout' defaultMessage='Connection Timeout' />\n                </Typography>\n                <FormControl className={classes.formControl}>\n                    <InputLabel htmlFor='err-code-select'>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.action'\n                            defaultMessage='Action'\n                        />\n                    </InputLabel>\n                    <Select\n                        autoWidth={false}\n                        value={advanceConfigObj.actionSelect}\n                        onChange={(event) => handleConfigFieldChange(event, 'actionSelect')}\n                        input={<Input id='err-code-select' />}\n                        MenuProps={MenuProps}\n                    >\n                        {actionItems.map((item) => (\n                            <MenuItem key={item.key} value={item.key}>\n                                {item.value}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                </FormControl>\n                <TextField\n                    className={classes.textField}\n                    id='duration-input'\n                    value={advanceConfigObj.actionDuration}\n                    onChange={(event) => handleConfigFieldChange(event, 'actionDuration')}\n                    label={(\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.duration.ms'\n                            defaultMessage='Duration (ms)'\n                        />\n                    )}\n                    type='number'\n                    margin='normal'\n                />\n            </Grid>\n            <Grid className={classes.advanceDialogActions}>\n                <Button\n                    onClick={() => onSaveAdvanceConfig(advanceConfigObj)}\n                    color='primary'\n                    autoFocus\n                    disabled={isRestricted(['apim:api_create'], api)}\n                    variant='contained'\n                    style={{ marginRight: '10px' }}\n                >\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.config.save.button'\n                        defaultMessage='Save'\n                    />\n                </Button>\n                <Button onClick={onCancel}>\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.AdvancedConfig.AdvanceEndpointConfig.cancel.button'\n                        defaultMessage='Close'\n                    />\n                </Button>\n            </Grid>\n        </Grid>\n    );\n}\n\nAdvanceEndpointConfig.propTypes = {\n    classes: PropTypes.shape({\n        configContainer: PropTypes.shape({}),\n        configSubContainer: PropTypes.shape({}),\n        subTitle: PropTypes.shape({}),\n        formControl: PropTypes.shape({}),\n\n    }).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n    advanceConfig: PropTypes.shape({}).isRequired,\n    isSOAPEndpoint: PropTypes.bool.isRequired,\n    onSaveAdvanceConfig: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(withStyles(styles, { withTheme: true })(AdvanceEndpointConfig));\n","/* eslint-disable react/jsx-no-bind */\n/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React, { useState } from 'react';\nimport { injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport EditIcon from '@material-ui/icons/Edit';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles(() => ({\n    link: {\n        cursor: 'pointer',\n    },\n}));\n\n/**\n * EditableParameterRow for OAuth Endpoint Security\n * @param {*} props properties\n * @returns {*} EditableParameterRow component\n */\nfunction EditableParameterRow(props) {\n    const {\n        oldName, oldValue,\n        handleUpdateList, handleDelete,\n        intl, isRestricted, api,\n    } = props;\n    const [newName, setName] = useState(oldName);\n    const [newValue, setValue] = useState(oldValue);\n    const [editMode, setEditMode] = useState(false);\n\n    /**\n     * Set edit mode\n     */\n    const updateEditMode = () => {\n        setEditMode(!editMode);\n    };\n\n    /**\n     * Update name field\n     * @param {*} event value entered for name field\n     */\n    const handleKeyChange = (event) => {\n        const { value } = event.target;\n        setName(value);\n    };\n\n    /**\n     * Update value field\n     * @param {*} event value entered for the value field\n     */\n    const handleValueChange = (event) => {\n        const { value } = event.target;\n        setValue(value);\n    };\n\n    /**\n     * Validate if the field is empty\n     * @param {*} itemValue value of the field\n     * @returns {*} boolean value\n     */\n    const validateEmpty = (itemValue) => {\n        if (itemValue === null) {\n            return false;\n        } else if (itemValue === '') {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    /**\n     * Save the updated values in the custom parameters object\n     */\n    const saveRow = () => {\n        const oldRow = { oldName, oldValue };\n        const newRow = { newName: newName || oldName, newValue: newValue || oldValue };\n        handleUpdateList(oldRow, newRow);\n        setEditMode(false);\n    };\n\n    /**\n     * Delete name-value pair in the custom parameters object\n     */\n    const deleteRow = () => {\n        handleDelete(oldName);\n    };\n\n    /**\n     * Keyboard event listener to save the name-value pair on Enter\n     * @param {*} e event containing the key that was pressed\n     */\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            saveRow();\n        }\n    };\n\n    // Styles definition\n    const classes = useStyles();\n\n    return (\n        <TableRow>\n            {editMode ? (\n                <TableCell>\n                    <TextField\n                        fullWidth\n                        required\n                        id='outlined-required'\n                        label={intl.formatMessage({\n                            id: 'Apis.Details.Endpoints.GeneralConfiguration.EditableParameterRow.Parameter.Name',\n                            defaultMessage: 'Parameter Name',\n                        })}\n                        margin='normal'\n                        variant='outlined'\n                        className={classes.addProperty}\n                        value={newName}\n                        onChange={handleKeyChange}\n                        onKeyDown={handleKeyDown}\n                        error={validateEmpty(newName)}\n                    />\n                </TableCell>\n            ) : (\n                <TableCell>{oldName}</TableCell>\n            )}\n            {editMode ? (\n                <TableCell>\n                    <TextField\n                        fullWidth\n                        required\n                        id='outlined-required'\n                        label={intl.formatMessage({\n                            id: 'Apis.Details.Endpoints.GeneralConfiguration.EditableParameterRow.Parameter.Value',\n                            defaultMessage: 'Parameter Value',\n                        })}\n                        margin='normal'\n                        variant='outlined'\n                        className={classes.addProperty}\n                        value={newValue}\n                        onChange={handleValueChange}\n                        onKeyDown={handleKeyDown}\n                        error={validateEmpty(newValue)}\n                    />\n                </TableCell>\n            ) : (\n                <TableCell>{oldValue}</TableCell>\n            )}\n            <TableCell align='right'>\n                {editMode ? (\n                    <>\n                        <IconButton\n                            className={classes.link}\n                            aria-label='save'\n                            onClick={saveRow}\n                            onKeyDown={() => {}}\n                            disabled={validateEmpty(newName) || validateEmpty(newValue)}\n                            color='inherit'\n                        >\n                            <SaveIcon className={classes.buttonIcon} />\n                        </IconButton>\n                    </>\n                ) : (\n                    <IconButton\n                        className={classes.link}\n                        aria-label='edit'\n                        onClick={updateEditMode}\n                        onKeyDown={() => {}}\n                        color='inherit'\n                        disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                    >\n                        <EditIcon className={classes.buttonIcon} />\n                    </IconButton>\n                )}\n                <IconButton\n                    className={classes.link}\n                    aria-label='remove'\n                    onClick={deleteRow}\n                    onKeyDown={() => {}}\n                    color='inherit'\n                    disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                >\n                    <DeleteForeverIcon className={classes.buttonIcon} />\n                </IconButton>\n            </TableCell>\n        </TableRow>\n    );\n}\n\nEditableParameterRow.propTypes = {\n    oldName: PropTypes.string.isRequired,\n    oldValue: PropTypes.string.isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    handleUpdateList: PropTypes.func.isRequired,\n    handleDelete: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(EditableParameterRow);\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    Grid, TextField, MenuItem, InputAdornment,\n    Icon,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n} from '@material-ui/core';\nimport { RemoveRedEye } from '@material-ui/icons';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport Button from '@material-ui/core/Button';\nimport AddCircle from '@material-ui/icons/AddCircle';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport isEmpty from 'lodash.isempty';\nimport { isRestricted } from 'AppData/AuthManager';\nimport APIContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport APIValidation from 'AppData/APIValidation';\nimport Alert from 'AppComponents/Shared/Alert';\nimport EditableParameterRow from './EditableParameterRow';\n\nconst styles = () => ({\n    FormControl: {\n        padding: 0,\n        width: '100%',\n    },\n    radioWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    addParameter: {\n        marginRight: '16px',\n    },\n    marginRight: {\n        marginRight: '8px',\n    },\n    buttonIcon: {\n        marginRight: '16px',\n    },\n    button: {\n        marginTop: '5px',\n    },\n    listItem: {\n        marginTop: '25px',\n    },\n    eye: {\n        cursor: 'pointer',\n    },\n});\n\n/**\n * The base component for advanced endpoint configurations.\n * @param {any} props The props that are being passed\n * @returns {any} The html representation of the component.\n */\nfunction EndpointSecurity(props) {\n    const { api } = useContext(APIContext);\n    const {\n        intl, securityInfo, onChangeEndpointAuth, classes, isProduction,\n        saveEndpointSecurityConfig,\n        closeEndpointSecurityConfig,\n    } = props;\n    const [endpointSecurityInfo, setEndpointSecurityInfo] = useState({\n        type: '',\n        username: '',\n        password: '',\n        grantType: '',\n        tokenUrl: '',\n        clientId: '',\n        clientSecret: '',\n        customParameters: {},\n    });\n    const [securityValidity, setSecurityValidity] = useState();\n\n    const [showAddParameter, setShowAddParameter] = useState(false);\n    const [clientSecretIsMasked, setClientSecretIsMasked] = useState(true);\n    // Implementation of useState variables for parameter name and value\n    const [parameterName, setParameterName] = useState(null);\n    const [parameterValue, setParameterValue] = useState(null);\n    const endpointType = isProduction ? 'production' : 'sandbox';\n\n    const authTypes = [\n        {\n            key: 'NONE',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.none',\n                defaultMessage: 'None',\n            }),\n        },\n        {\n            key: 'BASIC',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.basic',\n                defaultMessage: 'Basic Auth',\n            }),\n        },\n        {\n            key: 'DIGEST',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.digest.auth',\n                defaultMessage: 'Digest Auth',\n            }),\n        },\n        {\n            key: 'OAUTH',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.oauth',\n                defaultMessage: 'OAuth 2.0',\n            }),\n        },\n    ];\n    const grantTypes = [\n        {\n            key: 'CLIENT_CREDENTIALS',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.oauth.grant.type.client',\n                defaultMessage: 'Client Credentials',\n            }),\n        },\n        {\n            key: 'PASSWORD',\n            value: intl.formatMessage({\n                id: 'Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.oauth.grant.type.password',\n                defaultMessage: 'Resource Owner Password',\n            }),\n        },\n    ];\n    useEffect(() => {\n        let tmpSecurity = {};\n        if (securityInfo !== null) {\n            tmpSecurity = { ...securityInfo };\n            const {\n                type, username, password, grantType, tokenUrl, clientId, clientSecret, customParameters,\n            } = securityInfo;\n            tmpSecurity.type = type === null ? 'NONE' : type;\n            tmpSecurity.username = username;\n            tmpSecurity.password = password === '' ? '**********' : password;\n            tmpSecurity.grantType = grantType;\n            tmpSecurity.tokenUrl = tokenUrl;\n            tmpSecurity.clientId = clientId === '' ? '********' : clientId;\n            tmpSecurity.clientSecret = clientSecret === '' ? '********' : clientSecret;\n            tmpSecurity.customParameters = customParameters;\n        }\n        setEndpointSecurityInfo(tmpSecurity);\n    }, [props]);\n\n    /**\n     * Validating whether token url is in a proper format\n     * @param {*} value value of the field\n     * @returns {*} boolean value\n     */\n    const validateTokenUrl = (value) => {\n        const state = APIValidation.url.required().validate(value).error;\n        if (state === null) {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    /**\n     * Validate Security Info properties\n     * @param {*} field value of the field\n     */\n    const validateAndUpdateSecurityInfo = (field) => {\n        if (!endpointSecurityInfo[field]) {\n            setSecurityValidity({ ...securityValidity, [field]: false });\n        } else {\n            let validity = true;\n            if (field === 'tokenUrl') {\n                validity = validateTokenUrl(endpointSecurityInfo[field]);\n            }\n            setSecurityValidity({ ...securityValidity, [field]: validity });\n        }\n        const type = isProduction ? 'production' : 'sandbox';\n        onChangeEndpointAuth(endpointSecurityInfo, type);\n    };\n\n    /**\n     * Show or hide the Add Parameter component\n     */\n    const toggleAddParameter = () => {\n        setShowAddParameter(!showAddParameter);\n    };\n\n    /**\n     * Show or hide the Client Secret\n     */\n    const toggleClientSecretMask = () => {\n        setClientSecretIsMasked(!clientSecretIsMasked);\n    };\n\n    /**\n     * Set the custom parameter name or value property\n     * @param {*} name name of the field edited\n     * @returns {*} fills the parameter name or parameter value states\n     */\n    const handleParameterChange = (name) => (event) => {\n        const { value } = event.target;\n        if (name === 'parameterName') {\n            setParameterName(value);\n        } else if (name === 'parameterValue') {\n            setParameterValue(value);\n        }\n    };\n\n    /**\n     * Check if the field is empty or not\n     * @param {*} itemValue value of the field\n     * @returns {*} boolean value\n     */\n    const validateEmpty = (itemValue) => {\n        if (itemValue === null) {\n            return false;\n        } else if (itemValue === '') {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    /**\n     * Add new custom parameter\n     */\n    const handleAddToList = () => {\n        const customParametersCopy = endpointSecurityInfo.customParameters;\n\n        if (customParametersCopy !== null\n            && Object.prototype.hasOwnProperty.call(customParametersCopy, parameterName)) {\n            Alert.warning('Parameter name: ' + parameterName + ' already exists');\n        } else {\n            customParametersCopy[parameterName] = parameterValue;\n            setParameterName(null);\n            setParameterValue(null);\n        }\n        setEndpointSecurityInfo({ ...endpointSecurityInfo, customParameters: customParametersCopy });\n        onChangeEndpointAuth(endpointSecurityInfo, endpointType);\n    };\n\n    /**\n     * Update existing custom parameter name-value pair\n     * @param {*} oldRow previous name-value pair\n     * @param {*} newRow new name-value pair\n     */\n    const handleUpdateList = (oldRow, newRow) => {\n        const customParametersCopy = endpointSecurityInfo.customParameters;\n        const { oldName, oldValue } = oldRow;\n        const { newName, newValue } = newRow;\n        if (customParametersCopy !== null\n            && Object.prototype.hasOwnProperty.call(customParametersCopy, newName) && oldName === newName) {\n            // Only the value is updated\n            if (newValue && oldValue !== newValue) {\n                customParametersCopy[oldName] = newValue;\n            }\n        } else {\n            delete customParametersCopy[oldName];\n            customParametersCopy[newName] = newValue;\n        }\n        setEndpointSecurityInfo({ ...endpointSecurityInfo, customParameters: customParametersCopy });\n        onChangeEndpointAuth(endpointSecurityInfo, endpointType);\n    };\n\n    /**\n     * Delete existing custom parameter name-value pair\n     * @param {*} oldName name property of the name-value pair to be removed\n     */\n    const handleDelete = (oldName) => {\n        const customParametersCopy = endpointSecurityInfo.customParameters;\n        if (customParametersCopy !== null && Object.prototype.hasOwnProperty.call(customParametersCopy, oldName)) {\n            delete customParametersCopy[oldName];\n        }\n        setEndpointSecurityInfo({ ...endpointSecurityInfo, customParameters: customParametersCopy });\n        onChangeEndpointAuth(endpointSecurityInfo, endpointType);\n    };\n\n    /**\n     * Keyboard shortcut to execute adding custom parameters when pressing the Enter key\n     * @param {*} event event containing the key that was pressed\n     */\n    const handleKeyDown = (event) => {\n        if (event.key === 'Enter') {\n            handleAddToList();\n        }\n    };\n\n    /**\n     * Render the custom parameters component\n     * @returns {*} list of items added\n     */\n    const renderCustomParameters = () => {\n        const items = [];\n        for (const name in endpointSecurityInfo.customParameters) {\n            if (Object.prototype.hasOwnProperty.call(endpointSecurityInfo.customParameters, name)) {\n                items.push(<EditableParameterRow\n                    oldName={name}\n                    oldValue={endpointSecurityInfo.customParameters[name]}\n                    handleUpdateList={handleUpdateList}\n                    handleDelete={handleDelete}\n                    customParameters={endpointSecurityInfo.customParameters}\n                    {...props}\n                    isRestricted={isRestricted}\n                    api={api}\n                />);\n            }\n        }\n        return items;\n    };\n\n    return (\n        <Grid container direction='row' spacing={2}>\n            <Grid item xs={6}>\n                <TextField\n                    disabled={isRestricted(['apim:api_create'], api)}\n                    fullWidth\n                    select\n                    value={endpointSecurityInfo && endpointSecurityInfo.type}\n                    variant='outlined'\n                    onChange={(event) => {\n                        setEndpointSecurityInfo({\n                            ...endpointSecurityInfo,\n                            type: event.target.value,\n                        });\n                    }}\n                    inputProps={{\n                        name: 'key',\n                        id: 'auth-type-select',\n                    }}\n                    onBlur={() => validateAndUpdateSecurityInfo(isProduction)}\n                >\n                    {authTypes.map((type) => (\n                        <MenuItem value={type.key}>{type.value}</MenuItem>\n                    ))}\n                </TextField>\n            </Grid>\n            <Grid item xs={6} />\n\n            {(endpointSecurityInfo.type === 'OAUTH')\n                && (\n                    <>\n                        <Grid item xs={6}>\n                            <TextField\n                                disabled={isRestricted(['apim:api_create'], api)}\n                                required\n                                fullWidth\n                                select\n                                label={(\n                                    <FormattedMessage\n                                        id={'Apis.Details.Endpoints.GeneralConfiguration'\n                                        + '.EndpointSecurity.grant.type.input'}\n                                        defaultMessage='Grant Type'\n                                    />\n                                )}\n                                variant='outlined'\n                                onChange={(event) => setEndpointSecurityInfo(\n                                    { ...endpointSecurityInfo, grantType: event.target.value },\n                                )}\n                                value={endpointSecurityInfo.grantType}\n                                inputProps={{\n                                    name: 'key',\n                                    id: 'grant-type-select',\n                                }}\n                                onBlur={() => validateAndUpdateSecurityInfo('grantType')}\n                            >\n                                {grantTypes.map((type) => (\n                                    <MenuItem value={type.key}>{type.value}</MenuItem>\n                                ))}\n                            </TextField>\n                        </Grid>\n\n\n                        {(endpointSecurityInfo.grantType === 'CLIENT_CREDENTIALS'\n                        || endpointSecurityInfo.grantType === 'PASSWORD') && (\n                            <>\n                                <Grid item xs={6}>\n                                    <TextField\n                                        disabled={isRestricted(['apim:api_create'], api)}\n                                        required\n                                        fullWidth\n                                        error={securityValidity && securityValidity.tokenUrl === false}\n                                        helperText={\n                                            securityValidity && securityValidity.tokenUrl === false ? (\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Endpoints.GeneralConfiguration'\n                                            + '.EndpointSecurity.no.tokenUrl.error'}\n                                                    defaultMessage={'Token URL should not be empty'\n                                                    + ' or formatted incorrectly'}\n                                                />\n                                            ) : (\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                            + 'EndpointSecurity.tokenUrl.message'}\n                                                    defaultMessage='Enter Token URL'\n                                                />\n                                            )\n                                        }\n                                        variant='outlined'\n                                        id='auth-tokenUrl'\n                                        label={(\n                                            <FormattedMessage\n                                                id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                                + 'EndpointSecurity.token.url.input'}\n                                                defaultMessage='Token URL'\n                                            />\n                                        )}\n                                        onChange={(event) => setEndpointSecurityInfo(\n                                            { ...endpointSecurityInfo, tokenUrl: event.target.value },\n                                        )}\n                                        value={endpointSecurityInfo.tokenUrl}\n                                        onBlur={() => validateAndUpdateSecurityInfo('tokenUrl')}\n                                    />\n                                </Grid>\n\n                                <Grid item xs={6}>\n                                    <TextField\n                                        disabled={isRestricted(['apim:api_create'], api)}\n                                        required\n                                        fullWidth\n                                        error={securityValidity && securityValidity.clientId === false}\n                                        helperText={\n                                            securityValidity && securityValidity.clientId === false ? (\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                            + 'EndpointSecurity.no.clientId.error'}\n                                                    defaultMessage='Client ID should not be empty'\n                                                />\n                                            ) : (\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                                    + 'EndpointSecurity.clientId.message'}\n                                                    defaultMessage='Enter Client ID'\n                                                />\n                                            )\n                                        }\n                                        variant='outlined'\n                                        id='auth-clientId'\n                                        label={(\n                                            <FormattedMessage\n                                                id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                                + 'EndpointSecurity.clientId.input'}\n                                                defaultMessage='Client ID'\n                                            />\n                                        )}\n                                        onChange={(event) => setEndpointSecurityInfo(\n                                            { ...endpointSecurityInfo, clientId: event.target.value },\n                                        )}\n                                        value={endpointSecurityInfo.clientId}\n                                        onBlur={() => validateAndUpdateSecurityInfo('clientId')}\n                                    />\n                                </Grid>\n\n                                <Grid item xs={6}>\n                                    <TextField\n                                        disabled={isRestricted(['apim:api_create'], api)}\n                                        required\n                                        fullWidth\n                                        error={securityValidity && securityValidity.clientSecret === false}\n                                        helperText={\n                                            securityValidity && securityValidity.clientSecret === false ? (\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                            + 'EndpointSecurity.no.clientSecret.error'}\n                                                    defaultMessage='Client Secret should not be empty'\n                                                />\n                                            ) : (\n                                                <FormattedMessage\n                                                    id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                            + 'EndpointSecurity.clientSecret.message'}\n                                                    defaultMessage='Enter Client Secret'\n                                                />\n                                            )\n                                        }\n                                        variant='outlined'\n                                        id='auth-clientSecret'\n                                        type={clientSecretIsMasked ? 'password' : 'text'}\n                                        label={(\n                                            <FormattedMessage\n                                                id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                                + 'EndpointSecurity.clientSecret.input'}\n                                                defaultMessage='Client Secret'\n                                            />\n                                        )}\n                                        onChange={(event) => setEndpointSecurityInfo(\n                                            { ...endpointSecurityInfo, clientSecret: event.target.value },\n                                        )}\n                                        value={endpointSecurityInfo.clientSecret}\n                                        onBlur={() => validateAndUpdateSecurityInfo('clientSecret')}\n                                        InputProps={{\n                                            endAdornment: (\n                                                <InputAdornment position='end'>\n                                                    <RemoveRedEye\n                                                        className={classes.eye}\n                                                        onClick={toggleClientSecretMask}\n                                                    />\n                                                </InputAdornment>\n                                            ),\n                                        }}\n                                    />\n                                </Grid>\n                            </>\n                        )}\n                    </>\n                )}\n\n            {(endpointSecurityInfo.type === 'BASIC'\n                || endpointSecurityInfo.type === 'DIGEST'\n                || endpointSecurityInfo.grantType === 'PASSWORD') && (\n                <>\n                    <Grid item xs={6}>\n                        <TextField\n                            disabled={isRestricted(['apim:api_create'], api)}\n                            required\n                            fullWidth\n                            error={securityValidity && securityValidity.username === false}\n                            helperText={\n                                securityValidity && securityValidity.username === false ? (\n                                    <FormattedMessage\n                                        id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                        + 'EndpointSecurity.no.username.error'}\n                                        defaultMessage='Username should not be empty'\n                                    />\n                                ) : (\n                                    <FormattedMessage\n                                        id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                        + 'EndpointSecurity.username.message'}\n                                        defaultMessage='Enter Username'\n                                    />\n                                )\n                            }\n                            variant='outlined'\n                            id='auth-userName'\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.user.name.input'\n                                    defaultMessage='Username'\n                                />\n                            )}\n                            onChange={(event) => setEndpointSecurityInfo(\n                                { ...endpointSecurityInfo, username: event.target.value },\n                            )}\n                            value={endpointSecurityInfo.username}\n                            onBlur={() => validateAndUpdateSecurityInfo('username')}\n                        />\n                    </Grid>\n\n                    <Grid item xs={6}>\n                        <TextField\n                            disabled={isRestricted(['apim:api_create'], api)}\n                            required\n                            fullWidth\n                            error={securityValidity && securityValidity.password === false}\n                            helperText={\n                                securityValidity && securityValidity.password === false ? (\n                                    <FormattedMessage\n                                        id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                        + 'EndpointSecurity.no.password.error'}\n                                        defaultMessage='Password should not be empty'\n                                    />\n                                ) : (\n                                    <FormattedMessage\n                                        id={'Apis.Details.Endpoints.GeneralConfiguration.'\n                                        + 'EndpointSecurity.password.message'}\n                                        defaultMessage='Enter Password'\n                                    />\n                                )\n                            }\n                            variant='outlined'\n                            type='password'\n                            id='auth-password'\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.password.input'\n                                    defaultMessage='Password'\n                                />\n                            )}\n                            value={endpointSecurityInfo.password}\n                            onChange={(event) => setEndpointSecurityInfo(\n                                { ...endpointSecurityInfo, password: event.target.value },\n                            )}\n                            onBlur={() => validateAndUpdateSecurityInfo('password')}\n                        />\n                    </Grid>\n                </>\n            )}\n\n            {endpointSecurityInfo.type === 'OAUTH' && (endpointSecurityInfo.grantType === 'CLIENT_CREDENTIALS'\n            || endpointSecurityInfo.grantType === 'PASSWORD')\n            && (\n                <Grid item xs={12}>\n                    <ListItem\n                        className={classes.listItem}\n                    >\n                        <ListItemAvatar>\n                            <Icon color='primary'>info</Icon>\n                        </ListItemAvatar>\n                        <ListItemText>\n                            <FormattedMessage\n                                id='Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.add.new.parameter.info'\n                                defaultMessage={'You can add any additional payload parameters'\n                                + ' required for the endpoint below'}\n                            />\n                        </ListItemText>\n                    </ListItem>\n                    <Button\n                        size='medium'\n                        className={classes.button}\n                        onClick={toggleAddParameter}\n                        disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                    >\n                        <AddCircle className={classes.buttonIcon} />\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurity.add.new.parameter'\n                            defaultMessage='Add New Parameter'\n                        />\n                    </Button>\n                </Grid>\n            )}\n\n            <Grid item xs={12} />\n\n            {(endpointSecurityInfo.type === 'OAUTH')\n            && (!isEmpty(endpointSecurityInfo.customParameters) || showAddParameter) && (\n                <Grid item xs={12}>\n                    <Table className={classes.table}>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>\n                                    <FormattedMessage\n                                        id={'Apis.Details.Endpoints.GeneralConfiguration'\n                                            + '.EndpointSecurity.label.parameter.name'}\n                                        defaultMessage='Parameter Name'\n                                    />\n                                </TableCell>\n                                <TableCell>\n                                    <FormattedMessage\n                                        id={'Apis.Details.Endpoints.GeneralConfiguration'\n                                            + '.EndpointSecurity.label.parameter.value'}\n                                        defaultMessage='Parameter Value'\n                                    />\n                                </TableCell>\n                                <TableCell />\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {showAddParameter\n                            && (\n                                <>\n                                    <TableRow>\n                                        <TableCell>\n                                            <TextField\n                                                fullWidth\n                                                required\n                                                id='outlined-required'\n                                                label={intl.formatMessage({\n                                                    id: 'Apis.Details.Endpoints.GeneralConfiguration'\n                                                    + '.EndpointSecurity.input.parameter.name',\n                                                    defaultMessage: 'Parameter Name',\n                                                })}\n                                                margin='normal'\n                                                variant='outlined'\n                                                className={classes.addParameter}\n                                                value={parameterName === null ? '' : parameterName}\n                                                onChange={handleParameterChange('parameterName')}\n                                                onKeyDown={handleKeyDown('parameterName')}\n                                                helperText={validateEmpty(parameterName)\n                                                    ? 'Invalid parameter name' : ''}\n                                                error={validateEmpty(parameterName)}\n                                                disabled={isRestricted(\n                                                    ['apim:api_create', 'apim:api_publish'],\n                                                    api,\n                                                )}\n                                            />\n                                        </TableCell>\n                                        <TableCell>\n                                            <TextField\n                                                fullWidth\n                                                required\n                                                id='outlined-required'\n                                                label={intl.formatMessage({\n                                                    id: 'Apis.Details.Endpoints.GeneralConfiguration'\n                                                        + '.EndpointSecurity.input.parameter.value',\n                                                    defaultMessage: 'Parameter Value',\n                                                })}\n                                                margin='normal'\n                                                variant='outlined'\n                                                className={classes.addParameter}\n                                                value={parameterValue === null ? '' : parameterValue}\n                                                onChange={handleParameterChange('parameterValue')}\n                                                onKeyDown={handleKeyDown('parameterValue')}\n                                                error={validateEmpty(parameterValue)}\n                                                disabled={isRestricted(\n                                                    ['apim:api_create', 'apim:api_publish'],\n                                                    api,\n                                                )}\n                                            />\n                                        </TableCell>\n                                        <TableCell align='right'>\n                                            <Button\n                                                variant='contained'\n                                                color='primary'\n                                                disabled={\n                                                    !parameterValue\n                                                            || !parameterName\n                                                            || isRestricted(\n                                                                ['apim:api_create', 'apim:api_publish'], api,\n                                                            )\n                                                }\n                                                onClick={handleAddToList}\n                                                className={classes.marginRight}\n                                            >\n                                                <FormattedMessage\n                                                    id='Apis.Details.Properties.Properties.add'\n                                                    defaultMessage='Add'\n                                                />\n                                            </Button>\n\n                                            <Button onClick={toggleAddParameter}>\n                                                <FormattedMessage\n                                                    id='Apis.Details.Properties.Properties.cancel'\n                                                    defaultMessage='Cancel'\n                                                />\n                                            </Button>\n                                        </TableCell>\n                                    </TableRow>\n                                </>\n                            )}\n                            {((endpointType === 'production') || (endpointType === 'sandbox')) && (\n                                renderCustomParameters()\n                            )}\n                        </TableBody>\n                    </Table>\n                </Grid>\n            )}\n            <Grid className={classes.advanceDialogActions}>\n                <Button\n                    onClick={() => saveEndpointSecurityConfig(endpointSecurityInfo, endpointType)}\n                    color='primary'\n                    autoFocus\n                    variant='contained'\n                    style={{ marginTop: '10px', marginRight: '10px', marginBottom: '10px' }}\n                >\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurityConfig.config.save.button'\n                        defaultMessage='Submit'\n                    />\n                </Button>\n                <Button\n                    onClick={closeEndpointSecurityConfig}\n                    style={{ marginTop: '10px', marginBottom: '10px' }}\n                >\n                    <FormattedMessage\n                        id='Apis.Details.Endpoints.GeneralConfiguration.EndpointSecurityConfig.cancel.button'\n                        defaultMessage='Close'\n                    />\n                </Button>\n            </Grid>\n        </Grid>\n    );\n}\n\nEndpointSecurity.propTypes = {\n    intl: PropTypes.shape({}).isRequired,\n    securityInfo: PropTypes.shape({}).isRequired,\n    onChangeEndpointAuth: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(injectIntl(EndpointSecurity));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    Grid,\n    TextField,\n    makeStyles,\n    Typography,\n    Tooltip,\n    RadioGroup,\n    FormControl,\n    FormControlLabel,\n    MenuItem,\n    InputLabel,\n    Select,\n    Radio,\n} from '@material-ui/core';\nimport Icon from '@material-ui/core/Icon';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router-dom';\nimport API from 'AppData/api';\nimport Banner from 'AppComponents/Shared/Banner';\n\nconst useStyles = makeStyles((theme) => ({\n    typography: {\n        display: 'inline-block',\n    },\n    textField: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        width: 300,\n    },\n    selectField: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        width: 300,\n    },\n    helpIcon: {\n        fontSize: 20,\n    },\n    banner: {\n        marginLeft: theme.spacing(1),\n        marginRight: theme.spacing(1),\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n    },\n}));\n\n/**\n * The credentials component. This component holds the access and secret key pair.\n * @param {any} props The parameters to credentials component.\n * @returns {any} HTML view of the credentials component.\n */\nexport default function Credentials(props) {\n    const {\n        apiId,\n        endpointConfig,\n        endpointsDispatcher,\n    } = props;\n    const classes = useStyles();\n    const [pageError, setPageError] = useState(null);\n    const inputLabel = useRef(null);\n    const handleChange = (event) => {\n        const newEndpointConfig = { ...endpointConfig };\n        newEndpointConfig.access_method = event.target.value;\n        newEndpointConfig.amznAccessKey = '';\n        newEndpointConfig.amznSecretKey = '';\n        newEndpointConfig.amznRegion = '';\n        endpointsDispatcher({ action: 'set_awsCredentials', value: newEndpointConfig });\n        setPageError(null);\n    };\n    const regionsList = [\n        {\n            key: 'us-east-1',\n            value: 'us-east-1: US East (N. Virginia)',\n        },\n        {\n            key: 'us-east-2',\n            value: 'us-east-2: US East (Ohio)',\n        },\n        {\n            key: 'us-west-1',\n            value: 'us-west-1: US West (N. California)',\n        },\n        {\n            key: 'us-west-2',\n            value: 'us-west-2: US West (Oregon)',\n        },\n        {\n            key: 'ap-east-1',\n            value: 'ap-east-1: Asia Pacific (Hong Kong)',\n        },\n        {\n            key: 'ap-south-1',\n            value: 'ap-south-1: Asia Pacific (Mumbai)',\n        },\n        {\n            key: 'ap-northeast-1',\n            value: 'ap-northeast-1: Asia Pacific (Tokyo)',\n        },\n        {\n            key: 'ap-northeast-2',\n            value: 'ap-northeast-2: Asia Pacific (Seoul)',\n        },\n        {\n            key: 'ap-northeast-3',\n            value: 'ap-northeast-3: Asia Pacific (Osaka-Local)',\n        },\n        {\n            key: 'ap-southeast-1',\n            value: 'ap-southeast-1: Asia Pacific (Singapore)',\n        },\n        {\n            key: 'ap-southeast-2',\n            value: 'ap-southeast-2: Asia Pacific (Sydney)',\n        },\n        {\n            key: 'ca-central-1',\n            value: 'ca-central-1: Canada (Central)',\n        },\n        {\n            key: 'eu-central-1',\n            value: 'eu-central-1: Europe (Frankfurt)',\n        },\n        {\n            key: 'eu-west-1',\n            value: 'eu-west-1: Europe (Ireland)',\n        },\n        {\n            key: 'eu-west-2',\n            value: 'eu-west-2: Europe (London)',\n        },\n        {\n            key: 'eu-west-3',\n            value: 'eu-west-3: Europe (Paris)',\n        },\n        {\n            key: 'eu-north-1',\n            value: 'eu-north-1: Europe (Stockholm)',\n        },\n        {\n            key: 'me-south-1',\n            value: 'me-south-1: Middle East (Bahrain)',\n        },\n        {\n            key: 'sa-east-1',\n            value: 'sa-east-1: South America (São Paulo)',\n        },\n    ];\n    useEffect(() => {\n        API.getAmznResourceNames(apiId)\n            .catch((error) => {\n                setPageError(error.response.body.error);\n            });\n    }, []);\n    return (\n        <>\n            <Typography className={classes.typography}>\n                <FormattedMessage\n                    id={'Apis.Details.Endpoints.EndpointOverview.awslambda'\n                    + '.endpoint.accessMethod'}\n                    defaultMessage='Access Method'\n                />\n            </Typography>\n            <RadioGroup\n                aria-label='accessMethod'\n                name='accessMethod'\n                value={endpointConfig.access_method}\n                onChange={handleChange}\n            >\n                <div>\n                    <FormControlLabel\n                        value='role-supplied'\n                        control={<Radio color='primary' />}\n                        label={\n                            (\n                                <FormattedMessage\n                                    id={'Apis.Details.Endpoints.EndpointOverview.awslambda'\n                                    + '.endpoint.accessMethod.roleSupplied'}\n                                    defaultMessage='Using IAM role-supplied temporary AWS credentials'\n                                />\n                            )\n                        }\n                    />\n                    <Tooltip\n                        title={\n                            (\n                                <FormattedMessage\n                                    id={'Apis.Details.Endpoints.EndpointOverview.awslambda'\n                                    + '.endpoint.tooltip'}\n                                    defaultMessage={'You can and should use an IAM role to manage temporary '\n                                    + 'credentials for applications that run on an EC2 instance'}\n                                />\n                            )\n                        }\n                    >\n                        <Icon className={classes.helpIcon}>help_outline</Icon>\n                    </Tooltip>\n                </div>\n                <div>\n                    <FormControlLabel\n                        value='stored'\n                        control={<Radio color='primary' />}\n                        label={\n                            (\n                                <FormattedMessage\n                                    id={'Apis.Details.Endpoints.EndpointOverview.awslambda'\n                                    + '.endpoint.accessMethod.stored'}\n                                    defaultMessage='Using stored AWS credentials'\n                                />\n                            )\n                        }\n                    />\n                </div>\n            </RadioGroup>\n            <Grid item>\n                <TextField\n                    required\n                    disabled={endpointConfig.access_method === 'role-supplied'}\n                    id='outlined-required'\n                    label={\n                        (\n                            <FormattedMessage\n                                id={'Apis.Details.Endpoints.EndpointOverview.awslambda'\n                                + '.endpoint.accessKey'}\n                                defaultMessage='Access Key'\n                            />\n                        )\n                    }\n                    margin='normal'\n                    variant='outlined'\n                    className={classes.textField}\n                    value={endpointConfig.amznAccessKey}\n                    onChange={(event) => {\n                        const newEndpointConfig = { ...endpointConfig };\n                        newEndpointConfig.amznAccessKey = event.target.value;\n                        endpointsDispatcher({ action: 'set_awsCredentials', value: newEndpointConfig });\n                    }}\n                />\n                <TextField\n                    required\n                    disabled={endpointConfig.access_method === 'role-supplied'}\n                    id='outlined-password-input-required'\n                    label={\n                        (\n                            <FormattedMessage\n                                id={'Apis.Details.Endpoints.EndpointOverview.awslambda'\n                                + '.endpoint.secretKey'}\n                                defaultMessage='Secret Key'\n                            />\n                        )\n                    }\n                    type='password'\n                    margin='normal'\n                    variant='outlined'\n                    className={classes.textField}\n                    value={endpointConfig.amznSecretKey}\n                    onChange={(event) => {\n                        const newEndpointConfig = { ...endpointConfig };\n                        newEndpointConfig.amznSecretKey = event.target.value;\n                        endpointsDispatcher({ action: 'set_awsCredentials', value: newEndpointConfig });\n                    }}\n                />\n                <FormControl\n                    required\n                    margin='normal'\n                    variant='outlined'\n                    disabled={endpointConfig.access_method === 'role-supplied'}\n                >\n                    <InputLabel ref={inputLabel} id='region-label'>\n                        <FormattedMessage\n                            id={'Apis.Details.Endpoints.EndpointOverview.awslambda'\n                            + '.endpoint.region'}\n                            defaultMessage='Region'\n                        />\n                    </InputLabel>\n                    <Select\n                        labelId='region-label'\n                        autoWidth={false}\n                        className={classes.selectField}\n                        onChange={(event) => {\n                            const newEndpointConfig = { ...endpointConfig };\n                            newEndpointConfig.amznRegion = event.target.value;\n                            endpointsDispatcher({ action: 'set_awsCredentials', value: newEndpointConfig });\n                        }}\n                        value={endpointConfig.amznRegion}\n                    >\n                        {regionsList.map((region) => ((\n                            <MenuItem key={region.key} value={region.key}>\n                                {region.value}\n                            </MenuItem>\n                        )))}\n                    </Select>\n                </FormControl>\n            </Grid>\n            <Grid item>\n                <Link to={`/apis/${apiId}/resources`}>\n                    <Typography style={{ marginLeft: '10px' }} color='primary' display='inline' variant='caption'>\n                        <FormattedMessage\n                            id={'Apis.Details.Endpoints.EndpointOverview.awslambda'\n                            + '.endpoint.linkToResources'}\n                            defaultMessage='Go to Resources to map ARNs'\n                        />\n                        <LaunchIcon style={{ marginLeft: '2px' }} fontSize='small' />\n                    </Typography>\n                </Link>\n            </Grid>\n            {pageError\n                && (\n                    <Grid item className={classes.banner}>\n                        <Banner\n                            disableActions\n                            dense\n                            paperProps={{ elevation: 1 }}\n                            type='warning'\n                            message={pageError}\n                        />\n                    </Grid>\n                )}\n        </>\n    );\n}\n\nCredentials.propTypes = {\n    apiId: PropTypes.shape('').isRequired,\n    endpointConfig: PropTypes.shape({}).isRequired,\n    endpointsDispatcher: PropTypes.func.isRequired,\n};\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, {\n    useEffect, useState, useCallback,\n} from 'react';\nimport {\n    FormControl,\n    Grid,\n    Paper,\n    Typography,\n    withStyles,\n    Radio,\n    FormControlLabel,\n    Collapse,\n    RadioGroup, Checkbox, Dialog, DialogTitle, DialogContent, IconButton, Button, DialogActions, Icon,\n} from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { isRestricted } from 'AppData/AuthManager';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport { Progress } from 'AppComponents/Shared';\n\nimport cloneDeep from 'lodash.clonedeep';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport InlineEndpoints from 'AppComponents/Apis/Details/Endpoints/Prototype/InlineEndpoints';\nimport {\n    getEndpointTypeProperty,\n    createEndpointConfig,\n    getEndpointTemplate,\n} from './endpointUtils';\nimport GeneralConfiguration from './GeneralConfiguration';\nimport LoadbalanceFailoverConfig from './LoadbalanceFailoverConfig';\nimport GenericEndpoint from './GenericEndpoint';\nimport AdvanceEndpointConfig from './AdvancedConfig/AdvanceEndpointConfig';\nimport EndpointSecurity from './GeneralConfiguration/EndpointSecurity';\nimport Credentials from './AWSLambda/Credentials.jsx';\n\nconst styles = (theme) => ({\n    listing: {\n        margin: theme.spacing(1),\n        padding: theme.spacing(1),\n    },\n    endpointContainer: {\n        paddingLeft: theme.spacing(2),\n        padding: theme.spacing(1),\n    },\n    endpointName: {\n        paddingLeft: theme.spacing(1),\n        fontSize: '1rem',\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(1),\n    },\n    endpointTypesWrapper: {\n        padding: theme.spacing(3),\n        marginTop: theme.spacing(2),\n    },\n    sandboxHeading: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    radioGroup: {\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    endpointsWrapperLeft: {\n        padding: theme.spacing(1),\n        borderRight: '#c4c4c4',\n        borderRightStyle: 'solid',\n        borderRightWidth: 'thin',\n    },\n    endpointsWrapperRight: {\n        padding: theme.spacing(1),\n    },\n    endpointsTypeSelectWrapper: {\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(2),\n        padding: theme.spacing(1),\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n    endpointTypesSelectWrapper: {\n        display: 'flex',\n    },\n    defaultEndpointWrapper: {\n        paddingLeft: theme.spacing(1),\n        paddingRight: theme.spacing(1),\n        marginRight: theme.spacing(1),\n    },\n    configDialogHeader: {\n        fontWeight: '600',\n    },\n    addLabel: {\n        padding: theme.spacing(2),\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n    button: {\n        textTransform: 'none',\n    },\n});\n\nconst endpointTypes = [\n    { key: 'http', value: 'HTTP/REST Endpoint' },\n    { key: 'default', value: 'Dynamic Endpoints' },\n    { key: 'address', value: 'HTTP/SOAP Endpoint' },\n    { key: 'prototyped', value: 'Prototype Endpoint' },\n    { key: 'INLINE', value: 'Prototype Implementation' },\n    { key: 'awslambda', value: 'AWS Lambda' },\n];\n\n/**\n * The endpoint overview component. This component holds the views of endpoint creation and configuration.\n * @param {any} props The props that are being passed to the component.\n * @returns {any} HTML view of the endpoints overview.\n */\nfunction EndpointOverview(props) {\n    const {\n        classes,\n        api,\n        endpointsDispatcher,\n        swaggerDef,\n        updateSwagger,\n        saveAndRedirect,\n    } = props;\n    const { endpointConfig, endpointSecurity } = api;\n    const [endpointType, setEndpointType] = useState(endpointTypes[0]);\n    const [supportedEnpointTypes, setSupportedEndpointType] = useState([]);\n\n    const [epConfig, setEpConfig] = useState(endpointConfig);\n    const [endpointSecurityInfo, setEndpointSecurityInfo] = useState(null);\n    const [advanceConfigOptions, setAdvancedConfigOptions] = useState({\n        open: false,\n        index: 0,\n        type: '',\n        category: '',\n        config: undefined,\n    });\n    const [endpointSecurityConfig, setEndpointSecurityConfig] = useState({\n        open: false,\n        type: '',\n        category: '',\n        config: undefined,\n    });\n    const [endpointCategory, setEndpointCategory] = useState({ sandbox: false, prod: false });\n    const [typeChangeConfirmation, setTypeChangeConfirmation] = useState({ openDialog: false });\n\n    const handleToggleEndpointSecurity = () => {\n        const tmpSecurityInfo = endpointSecurityInfo === null ? {\n            production: {\n                enabled: false,\n                type: null,\n                username: null,\n                password: null,\n                grantType: null,\n                tokenUrl: null,\n                clientId: null,\n                clientSecret: null,\n                customParameters: {},\n            },\n            sandbox: {\n                enabled: false,\n                type: null,\n                username: null,\n                password: null,\n                grantType: null,\n                tokenUrl: null,\n                clientId: null,\n                clientSecret: null,\n                customParameters: {},\n            },\n        } : endpointSecurityInfo;\n        setEndpointSecurityInfo(tmpSecurityInfo);\n    };\n\n    /**\n     * Method to get the type of the endpoint. (HTTP/REST or HTTP/SOAP)\n     * In failover/ loadbalance cases, the endpoint type is presented in the endpoints list. Therefore that property\n     * needs to be extracted separately.\n     *\n     * @param {Object} apiObject  The representative type of the endpoint.\n     * @return {string} The type of the endpoint.\n     * */\n    const getEndpointType = (apiObject) => {\n        const type = apiObject.endpointConfig && apiObject.endpointConfig.endpoint_type;\n        if (apiObject.endpointImplementationType === 'INLINE') {\n            return endpointTypes[4];\n        } else if (apiObject.endpointImplementationType === 'ENDPOINT'\n            && apiObject.endpointConfig.implementation_status === 'prototyped') {\n            return endpointTypes[3];\n        } else if (type === 'http') {\n            return endpointTypes[0];\n        } else if (type === 'default') {\n            return endpointTypes[1];\n        } else if (type === 'address') {\n            return endpointTypes[2];\n        } else if (type === 'awslambda') {\n            return endpointTypes[5];\n        } else {\n            const availableEndpoints = (endpointConfig.production_endpoints && endpointConfig.production_endpoints)\n                || (endpointConfig.sandbox_endpoints && endpointConfig.sandbox_endpoints);\n            // Handle the all endpoints de-select condition... Rollback to http.\n            if (!availableEndpoints) {\n                return endpointTypes[0];\n            }\n            if (Array.isArray(availableEndpoints)) {\n                return availableEndpoints[0].endpoint_type !== undefined\n                    ? endpointTypes[2] : endpointTypes[0];\n            }\n            return availableEndpoints.endpoint_type !== undefined\n                ? endpointTypes[2] : endpointTypes[0];\n        }\n    };\n\n    /**\n     * Method to get the supported endpoint types by api type.\n     *\n     * @param {Object} apiObject  The representative type of the endpoint.\n     * @return {string} The supported endpoint types.\n     * */\n    const getSupportedType = (apiObject) => {\n        const { type } = apiObject;\n        let supportedEndpointTypes = [];\n        if (type === 'GRAPHQL') {\n            supportedEndpointTypes = [\n                { key: 'http', value: 'HTTP/REST Endpoint' },\n                { key: 'default', value: 'Dynamic Endpoints' },\n            ];\n        } else if (type === 'SOAP' || type === 'SOAPTOREST') {\n            supportedEndpointTypes = [\n                { key: 'http', value: 'HTTP/REST Endpoint' },\n                { key: 'address', value: 'HTTP/SOAP Endpoint' },\n                { key: 'default', value: 'Dynamic Endpoints' },\n                { key: 'prototyped', value: 'Prototype Endpoint' },\n            ];\n        } else {\n            supportedEndpointTypes = [\n                { key: 'http', value: 'HTTP/REST Endpoint' },\n                { key: 'address', value: 'HTTP/SOAP Endpoint' },\n                { key: 'default', value: 'Dynamic Endpoints' },\n                { key: 'prototyped', value: 'Prototype Endpoint' },\n                { key: 'INLINE', value: 'Prototype Implementation' },\n                { key: 'awslambda', value: 'AWS Lambda' },\n            ];\n        }\n        return supportedEndpointTypes;\n    };\n\n    useEffect(() => {\n        const supportedTypeLists = getSupportedType(api);\n        const epType = getEndpointType(api);\n        if (epType.key !== 'INLINE') {\n            setEndpointCategory({\n                prod: !!endpointConfig.production_endpoints,\n                sandbox: !!endpointConfig.sandbox_endpoints,\n            });\n        }\n        setSupportedEndpointType(supportedTypeLists);\n        setEpConfig(endpointConfig);\n        setEndpointType(epType);\n        if (endpointConfig.endpoint_security) {\n            setEndpointSecurityInfo(endpointConfig.endpoint_security);\n        } else {\n            setEndpointSecurityInfo(endpointSecurity);\n        }\n    }, [props]);\n\n    const getEndpoints = (type) => {\n        if (epConfig[type]) {\n            return epConfig[type].length > 0\n                ? epConfig[type][0].url : epConfig[type].url;\n        }\n        return '';\n    };\n\n    const handleOnChangeEndpointCategoryChange = (category) => {\n        let endpointConfigCopy = cloneDeep(endpointConfig);\n        if (category === 'prod') {\n            const endpointProp = 'production_endpoints';\n            if (endpointCategory[category]) {\n                delete endpointConfigCopy[endpointProp];\n                if (endpointConfigCopy.endpointType === 'failover') {\n                    delete endpointConfigCopy.production_failovers;\n                }\n            } else if (endpointConfigCopy.endpointType === 'load_balance') {\n                endpointConfigCopy[endpointProp] = [getEndpointTemplate(endpointType.key)];\n            } else if (endpointConfigCopy.endpointType === 'failover') {\n                endpointConfigCopy[endpointProp] = getEndpointTemplate(endpointType.key);\n                endpointConfigCopy.production_failovers = [];\n            } else {\n                endpointConfigCopy[endpointProp] = getEndpointTemplate(endpointType.key);\n            }\n        } else {\n            const endpointProp = 'sandbox_endpoints';\n            if (endpointCategory[category]) {\n                delete endpointConfigCopy[endpointProp];\n                if (endpointConfigCopy.endpointType === 'failover') {\n                    delete endpointConfigCopy.sandbox_failovers;\n                }\n            } else if (endpointConfigCopy.endpointType === 'load_balance') {\n                endpointConfigCopy[endpointProp] = [getEndpointTemplate(endpointType.key)];\n            } else if (endpointConfigCopy.endpointType === 'failover') {\n                endpointConfigCopy[endpointProp] = getEndpointTemplate(endpointType.key);\n                endpointConfigCopy.sandbox_failovers = [];\n            } else {\n                endpointConfigCopy[endpointProp] = getEndpointTemplate(endpointType.key);\n            }\n        }\n        // Check whether, config has either prod/ sandbox endpoints. If not, reSet the endpoint type to http\n        if (!endpointConfigCopy.production_endpoints && !endpointConfigCopy.sandbox_endpoints) {\n            endpointConfigCopy = createEndpointConfig('http');\n        }\n        endpointsDispatcher({ action: 'select_endpoint_category', value: endpointConfigCopy });\n    };\n\n    /**\n     * Method to modify the endpoint represented by the given parameters.\n     *\n     * If url is null, remove the endpoint from the endpoint config.\n     *\n     * @param {number} index The index of the endpoint in the listing.\n     * @param {string} category The endpoint category. (production/ sand box)\n     * @param {string} url The new endpoint url.\n     * */\n    const editEndpoint = (index, category, url) => {\n        let modifiedEndpoint = null;\n        // Make a copy of the endpoint config.\n        const endpointConfigCopy = cloneDeep(epConfig);\n        /*\n        * If the index > 0, it means that the endpoint is load balance or fail over.\n        * Otherwise it is the default endpoint. (index = 0)\n        * */\n        if (index > 0) {\n            const endpointTypeProperty = getEndpointTypeProperty(endpointConfigCopy.endpoint_type, category);\n            modifiedEndpoint = endpointConfigCopy[endpointTypeProperty];\n            /*\n            * In failover case, the failover endpoints are a separate object. But in endpoint listing, since we\n            *  consider all the endpoints as a single list, to get the real index of the failover endpoint we use\n            *  index - 1.\n            * */\n            if (endpointConfigCopy.endpoint_type === 'failover') {\n                modifiedEndpoint[index - 1].url = url.trim();\n            } else {\n                modifiedEndpoint[index].url = url.trim();\n            }\n            endpointConfigCopy[endpointTypeProperty] = modifiedEndpoint;\n        } else if (url !== '') {\n            modifiedEndpoint = endpointConfigCopy[category];\n\n            /*\n            * In this case, we are editing the default endpoint.\n            * If the endpoint type is load balance, the production_endpoints or the sandbox_endpoint object is an\n            *  array. Otherwise, in failover mode, the default endpoint is an object.\n            *\n            * So, we check whether the endpoints is an array or an object.\n            *\n            * If This is the first time a user creating an endpoint endpoint config object does not have\n            *  production_endpoints or sandbox_endpoints object.\n            * Therefore create new object and add to the endpoint config.\n            * */\n            if (!modifiedEndpoint) {\n                modifiedEndpoint = getEndpointTemplate(endpointConfigCopy.endpoint_type);\n                modifiedEndpoint.url = url.trim();\n            } else if (Array.isArray(modifiedEndpoint)) {\n                if (url === '') {\n                    modifiedEndpoint.splice(0, 1);\n                } else {\n                    modifiedEndpoint[0].url = url.trim();\n                }\n            } else {\n                modifiedEndpoint.url = url.trim();\n            }\n            endpointConfigCopy[category] = modifiedEndpoint;\n        } else {\n            /*\n            * If the url is empty, delete the respective endpoint object.\n            * */\n            delete endpointConfigCopy[category];\n        }\n        endpointsDispatcher({ action: category, value: modifiedEndpoint });\n    };\n\n    const handleEndpointCategorySelect = (event) => {\n        endpointsDispatcher({\n            action: 'endpoint_type',\n            value: { category: event.target.value, endpointType: endpointType.key },\n        });\n    };\n\n    /**\n     * Handles the endpoint type change functionality.\n     *\n     * @param {string} value The selected endpoint type.\n     * */\n    const changeEndpointType = (value) => {\n        setTypeChangeConfirmation({ openDialog: false });\n        const selectedKey = typeChangeConfirmation.type || value;\n        if (selectedKey === 'INLINE') {\n            const tmpConfig = createEndpointConfig('prototyped');\n            endpointsDispatcher({\n                action: 'set_inline',\n                value: {\n                    endpointConfig: tmpConfig,\n                    endpointImplementationType: 'INLINE',\n                },\n            });\n        } else if (selectedKey === 'prototyped') {\n            const tmpConfig = createEndpointConfig(selectedKey);\n            endpointsDispatcher({\n                action: 'set_prototyped',\n                value: {\n                    endpointImplementationType: 'ENDPOINT',\n                    endpointConfig: tmpConfig,\n                },\n            });\n        } else if (selectedKey === 'awslambda') {\n            const generatedEndpointConfig = createEndpointConfig(selectedKey);\n            endpointsDispatcher({\n                action: 'select_endpoint_type',\n                value: {\n                    endpointImplementationType: 'ENDPOINT',\n                    endpointConfig: { ...generatedEndpointConfig },\n                },\n            });\n        } else {\n            const generatedEndpointConfig = createEndpointConfig(selectedKey);\n            endpointsDispatcher({\n                action: 'select_endpoint_type',\n                value: {\n                    endpointImplementationType: 'ENDPOINT',\n                    endpointConfig: { ...generatedEndpointConfig },\n                },\n            });\n        }\n    };\n\n    /**\n     * Handles the endpoint type select event. If endpoint config has existing values, show confirmation dialog.\n     * @param {any} event The select event.\n     * */\n    const handleEndpointTypeSelect = (event) => {\n        // Check whether the endpoint Config has values.\n        if (epConfig.production_endpoints || epConfig.sandbox_endpoints) {\n            // Show confirmation dialog\n            setTypeChangeConfirmation({ type: event.target.value, openDialog: true });\n        } else {\n            changeEndpointType(event.target.value);\n        }\n    };\n\n    /**\n     * Method to get the advance configuration from the selected endpoint.\n     *\n     * @param {number} index The selected endpoint index\n     * @param {string} epType The type of the endpoint. (loadbalance/ failover)\n     * @param {string} category The endpoint category (Production/ sandbox)\n     * @return {object} The advance config object of the endpoint.\n     * */\n    const getAdvanceConfig = (index, epType, category) => {\n        const endpointTypeProperty = getEndpointTypeProperty(epType, category);\n        let advanceConfig = {};\n        if (index > 0) {\n            if (epConfig.endpoint_type === 'failover') {\n                advanceConfig = epConfig[endpointTypeProperty][index - 1].config;\n            } else {\n                advanceConfig = epConfig[endpointTypeProperty][index].config;\n            }\n        } else {\n            const endpointInfo = epConfig[endpointTypeProperty];\n            if (Array.isArray(endpointInfo)) {\n                advanceConfig = endpointInfo[0].config;\n            } else {\n                advanceConfig = endpointInfo.config;\n            }\n        }\n        return advanceConfig;\n    };\n\n    /**\n     * Method to open/ close the advance configuration dialog. This method also sets some information about the\n     * seleted endpoint type/ category and index.\n     *\n     * @param {number} index The index of the selected endpoint.\n     * @param {string} type The endpoint type\n     * @param {string} category The endpoint category.\n     * */\n    const toggleAdvanceConfig = (index, type, category) => {\n        const advanceEPConfig = getAdvanceConfig(index, type, category);\n        setAdvancedConfigOptions(() => {\n            return ({\n                open: !advanceConfigOptions.open,\n                index,\n                type,\n                category,\n                config: advanceEPConfig === undefined ? {} : advanceEPConfig,\n            });\n        });\n    };\n\n    const toggleEndpointSecurityConfig = (type, category) => {\n        handleToggleEndpointSecurity();\n        setEndpointSecurityConfig(() => {\n            return ({\n                open: !endpointSecurityConfig.open,\n                type,\n                category,\n                config: endpointSecurityInfo === undefined ? {} : endpointSecurityInfo,\n            });\n        });\n    };\n\n    /**\n     * Method to handle the endpoint security changes.\n     * @param {string} value The value\n     * @param {string} type The security property that is being modified.\n     * */\n    const handleEndpointSecurityChange = (value, type) => {\n        endpointsDispatcher({\n            action: 'endpointSecurity',\n            value: { ...endpointSecurityInfo, [type]: value },\n        });\n    };\n\n    const saveEndpointSecurityConfig = (endpointSecurityObj, enType) => {\n        endpointsDispatcher({\n            action: 'endpointSecurity',\n            value: {\n                ...endpointSecurityInfo,\n                [enType]: {\n                    ...endpointSecurityInfo[enType],\n                    enabled: endpointSecurityObj.type !== 'NONE'\n                        ? endpointSecurityInfo[enType].enabled = true : endpointSecurityInfo[enType].enabled = false,\n                },\n            },\n        });\n        setEndpointSecurityConfig({ open: false });\n    };\n\n    const closeEndpointSecurityConfig = () => {\n        setEndpointSecurityConfig({ open: false });\n    };\n\n    /**\n     * Method to save the advance configurations.\n     *\n     * @param {object} advanceConfig The advance configuration object.\n     * */\n    const saveAdvanceConfig = (advanceConfig) => {\n        const config = cloneDeep(epConfig);\n        const endpointConfigProperty = getEndpointTypeProperty(\n            advanceConfigOptions.type, advanceConfigOptions.category,\n        );\n        const selectedEndpoints = config[endpointConfigProperty];\n        if (Array.isArray(selectedEndpoints)) {\n            if (advanceConfigOptions.type === 'failover') {\n                selectedEndpoints[advanceConfigOptions.index - 1].config = advanceConfig;\n            } else {\n                selectedEndpoints[advanceConfigOptions.index].config = advanceConfig;\n            }\n        } else {\n            selectedEndpoints.config = advanceConfig;\n        }\n        setAdvancedConfigOptions({ open: false });\n        endpointsDispatcher({\n            action: 'set_advance_config',\n            value: { ...config, [endpointConfigProperty]: selectedEndpoints },\n        });\n    };\n\n    /**\n     * Method to close the advance configuration dialog box.\n     * */\n    const closeAdvanceConfig = () => {\n        setAdvancedConfigOptions({ open: false });\n    };\n\n    /**\n     * Method to update the resource paths object in the swagger.\n     * @param {any} paths The updated paths object.\n     * */\n    const updatePaths = useCallback(\n        (paths) => {\n            updateSwagger({ ...swaggerDef, paths });\n        },\n        [swaggerDef],\n    );\n\n    const iff = (condition, then, otherwise) => (condition ? then : otherwise);\n\n    /**\n     *\n     *\n     * @param {*} event\n     */\n    function epCategoryOnChangeHandler(event) {\n        handleOnChangeEndpointCategoryChange('prod', event);\n    }\n\n    return (\n        <div className={classes.overviewWrapper}>\n            <Grid container spacing={2}>\n                <Grid item xs={12}>\n                    {api.type === 'WS' ? <div /> : (\n                        <FormControl component='fieldset' className={classes.formControl}>\n                            <RadioGroup\n                                aria-label='EndpointType'\n                                name='endpointType'\n                                className={classes.radioGroup}\n                                value={endpointType.key}\n                                onChange={handleEndpointTypeSelect}\n                            >\n                                {supportedEnpointTypes.map((endpoint) => {\n                                    if (api.lifeCycleStatus === 'CREATED') {\n                                        return (\n                                            <FormControlLabel\n                                                value={endpoint.key}\n                                                control={(\n                                                    <Radio\n                                                        disabled={(isRestricted(['apim:api_create'], api))}\n                                                        color='primary'\n                                                    />\n                                                )}\n                                                label={endpoint.value}\n                                            />\n                                        );\n                                    } else if (api.lifeCycleStatus === 'PROTOTYPED') {\n                                        if (endpoint.key === 'prototyped' || endpoint.key === 'INLINE') {\n                                            return (\n                                                <FormControlLabel\n                                                    value={endpoint.key}\n                                                    control={(\n                                                        <Radio\n                                                            disabled={(isRestricted(['apim:api_create'], api))}\n                                                            color='primary'\n                                                        />\n                                                    )}\n                                                    label={endpoint.value}\n                                                />\n                                            );\n                                        }\n                                    } else if (endpoint.key !== 'prototyped' && endpoint.key !== 'INLINE') {\n                                        return (\n                                            <FormControlLabel\n                                                value={endpoint.key}\n                                                control={(\n                                                    <Radio\n                                                        disabled={(isRestricted(['apim:api_create'], api))}\n                                                        color='primary'\n                                                    />\n                                                )}\n                                                label={endpoint.value}\n                                            />\n                                        );\n                                    }\n                                    return <div />;\n                                })}\n                            </RadioGroup>\n                        </FormControl>\n                    )}\n                </Grid>\n                <Grid item xs={12}>\n                    {endpointType.key === 'INLINE' ? iff(Object.keys(swaggerDef.paths).length !== 0,\n                        <InlineEndpoints paths={swaggerDef.paths} updatePaths={updatePaths} />, <Progress />)\n                        : (\n                            <Paper className={classes.endpointContainer}>\n                                {endpointType.key === 'awslambda'\n                                    ? (\n                                        <Credentials\n                                            apiId={api.id}\n                                            endpointConfig={endpointConfig}\n                                            endpointsDispatcher={endpointsDispatcher}\n                                        />\n                                    )\n                                    : (\n                                        <>\n                                            {endpointType.key === 'prototyped'\n                                                ? (\n                                                    <Typography>\n                                                        <FormattedMessage\n                                                            id={'Apis.Details.Endpoints.'\n                                                                + 'EndpointOverview.prototype.endpoint'\n                                                                + '.prototype.label'}\n                                                            defaultMessage='Prototype Endpoint'\n                                                        />\n                                                    </Typography>\n                                                )\n                                                : (\n                                                    <FormControlLabel\n                                                        control={(\n                                                            <Checkbox\n                                                                checked={endpointCategory.prod}\n                                                                value='prod'\n                                                                color='primary'\n                                                                onChange={epCategoryOnChangeHandler}\n                                                            />\n                                                        )}\n                                                        label={(\n                                                            <Typography>\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.'\n                                                                        + 'Endpoints.EndpointOverview'\n                                                                        + '.production.endpoint.production.label'}\n                                                                    defaultMessage='Production Endpoint'\n                                                                />\n                                                            </Typography>\n                                                        )}\n                                                    />\n                                                )}\n                                            <Collapse in={endpointCategory.prod}>\n                                                {endpointType.key === 'default'\n                                                    ? (\n\n                                                        <InlineMessage>\n                                                            <div className={classes.contentWrapper}>\n                                                                <Typography component='p' className={classes.content}>\n                                                                    <FormattedMessage\n                                                                        id={'Apis.Details.Endpoints.EndpointOverview'\n                                                                            + '.upload.mediation.message'}\n                                                                        defaultMessage={\n                                                                            'Please upload a mediation'\n                                                                            + ' sequence file to'\n                                                                            + ' Message Mediation Policies,'\n                                                                            + ' which sets the endpoints.'\n                                                                        }\n                                                                    />\n                                                                    <IconButton\n                                                                        onClick={saveAndRedirect}\n                                                                    >\n                                                                        <LaunchIcon\n                                                                            style={{ marginLeft: '2px' }}\n                                                                            fontSize='small'\n                                                                            color='primary'\n                                                                        />\n                                                                    </IconButton>\n                                                                </Typography>\n                                                            </div>\n                                                            <Button\n                                                                className={classes.button}\n                                                                aria-label='Settings'\n                                                                onClick={() => toggleAdvanceConfig(\n                                                                    0, '', 'production_endpoints',\n                                                                )}\n                                                                disabled={\n                                                                    (isRestricted(\n                                                                        ['apim:api_create'], api,\n                                                                    )\n                                                                    )\n                                                                }\n                                                                variant='outlined'\n                                                            >\n                                                                <Icon\n                                                                    className={classes.buttonIcon}\n                                                                >\n                                                                    settings\n                                                                </Icon>\n                                                                <Typography>\n                                                                    <FormattedMessage\n                                                                        id={'Apis.Details.Endpoints.EndpointOverview'\n                                                                            + '.advance.endpoint.configuration'}\n                                                                        defaultMessage='Advanced Configurations'\n                                                                    />\n                                                                </Typography>\n                                                            </Button>\n                                                            <Button\n                                                                className={classes.button}\n                                                                aria-label='Settings'\n                                                                onClick={() => toggleEndpointSecurityConfig(\n                                                                    '', 'production',\n                                                                )}\n                                                                disabled={\n                                                                    (isRestricted(\n                                                                        ['apim:api_create'], api,\n                                                                    )\n                                                                    )\n                                                                }\n                                                                variant='outlined'\n                                                            >\n                                                                <Icon\n                                                                    className={classes.buttonIcon}\n                                                                >\n                                                                    security\n                                                                </Icon>\n                                                                <Typography>\n                                                                    <FormattedMessage\n                                                                        id={'Apis.Details.Endpoints.EndpointOverview'\n                                                                            + '.endpoint.security.configuration'}\n                                                                        defaultMessage={'Endpoint '\n                                                                        + 'Security Configurations'}\n                                                                    />\n                                                                </Typography>\n                                                            </Button>\n                                                        </InlineMessage>\n                                                    )\n                                                    : (\n                                                        <GenericEndpoint\n                                                            autoFocus\n                                                            name={endpointType.key === 'prototyped'\n                                                                ? (\n                                                                    <FormattedMessage\n                                                                        id={'Apis.Details.Endpoints.'\n                                                                            + 'EndpointOverview.prototype'\n                                                                            + '.endpoint.prototype.header'}\n                                                                        defaultMessage='Prototype Endpoint'\n                                                                    />\n                                                                ) : (\n                                                                    <FormattedMessage\n                                                                        id={'Apis.Details.Endpoints.'\n                                                                            + 'EndpointOverview.production'\n                                                                            + '.endpoint.production.header'}\n                                                                        defaultMessage='Production Endpoint'\n                                                                    />\n                                                                )}\n                                                            className={classes.defaultEndpointWrapper}\n                                                            endpointURL={getEndpoints('production_endpoints')}\n                                                            type=''\n                                                            index={0}\n                                                            category='production_endpoints'\n                                                            editEndpoint={editEndpoint}\n                                                            setAdvancedConfigOpen={toggleAdvanceConfig}\n                                                            esCategory='production'\n                                                            setESConfigOpen={toggleEndpointSecurityConfig}\n                                                            apiId={api.id}\n                                                        />\n                                                    )}\n                                            </Collapse>\n                                            {endpointType.key === 'prototyped' ? <div />\n                                                : (\n                                                    <div>\n                                                        <FormControlLabel\n                                                            control={(\n                                                                <Checkbox\n                                                                    checked={endpointCategory.sandbox}\n                                                                    value='sandbox'\n                                                                    color='primary'\n                                                                    onChange={(event) => (\n                                                                        handleOnChangeEndpointCategoryChange(\n                                                                            'sandbox', event,\n                                                                        ))}\n                                                                />\n                                                            )}\n                                                            label={(\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.Endpoints.'\n                                                                        + 'EndpointOverview.sandbox.endpoint'}\n                                                                    defaultMessage='Sandbox Endpoint'\n                                                                />\n                                                            )}\n                                                        />\n                                                        <Collapse in={endpointCategory.sandbox}>\n                                                            {endpointType.key === 'default'\n                                                                ? (\n                                                                    <InlineMessage>\n                                                                        <div className={classes.contentWrapper}>\n                                                                            <Typography\n                                                                                component='p'\n                                                                                className={classes.content}\n                                                                            >\n                                                                                <FormattedMessage\n                                                                                    id={'Apis.Details.Endpoints'\n                                                                                        + '.EndpointOverview.upload'\n                                                                                        + '.mediation.message'}\n                                                                                    defaultMessage={\n                                                                                        'Please upload a mediation'\n                                                                                        + ' sequence file to'\n                                                                                        + ' Message Mediation Policies,'\n                                                                                        + ' which sets the endpoints.'\n                                                                                    }\n                                                                                />\n                                                                                <IconButton\n                                                                                    onClick={saveAndRedirect}\n                                                                                >\n                                                                                    <LaunchIcon\n                                                                                        style={{ marginLeft: '2px' }}\n                                                                                        fontSize='small'\n                                                                                        color='primary'\n                                                                                    />\n                                                                                </IconButton>\n                                                                            </Typography>\n                                                                        </div>\n                                                                        <Button\n                                                                            className={classes.button}\n                                                                            aria-label='Settings'\n                                                                            onClick={() => toggleAdvanceConfig(\n                                                                                0, '', 'sandbox_endpoints',\n                                                                            )}\n                                                                            disabled={\n                                                                                (isRestricted(\n                                                                                    ['apim:api_create'], api,\n                                                                                )\n                                                                                )\n                                                                            }\n                                                                            variant='outlined'\n                                                                        >\n                                                                            <Icon\n                                                                                className={classes.buttonIcon}\n                                                                            >\n                                                                                settings\n                                                                            </Icon>\n                                                                            <Typography>\n                                                                                <FormattedMessage\n                                                                                    id={'Apis.Details.Endpoints'\n                                                                                        + '.EndpointOverview.advance'\n                                                                                        + '.endpoint.configuration'}\n                                                                                    defaultMessage={'Advanced '\n                                                                                        + 'Configurations'}\n                                                                                />\n                                                                            </Typography>\n                                                                        </Button>\n                                                                    </InlineMessage>\n                                                                )\n                                                                : (\n                                                                    <GenericEndpoint\n                                                                        autoFocus\n                                                                        name='Sandbox Endpoint'\n                                                                        className={classes.defaultEndpointWrapper}\n                                                                        endpointURL={getEndpoints('sandbox_endpoints')}\n                                                                        type=''\n                                                                        index={0}\n                                                                        category='sandbox_endpoints'\n                                                                        editEndpoint={editEndpoint}\n                                                                        esCategory='sandbox'\n                                                                        setAdvancedConfigOpen={toggleAdvanceConfig}\n                                                                        setESConfigOpen={toggleEndpointSecurityConfig}\n                                                                        apiId={api.id}\n                                                                    />\n                                                                )}\n\n                                                        </Collapse>\n                                                    </div>\n                                                )}\n                                        </>\n                                    )}\n                            </Paper>\n                        )}\n                </Grid>\n                {endpointType.key === 'INLINE' || endpointType.key === 'prototyped' || endpointType.key === 'awslambda'\n                    || api.type === 'WS'\n                    ? <div />\n                    : (\n                        <Grid item xs={12}>\n                            <Typography variant='h4' align='left' className={classes.titleWrapper} gutterBottom>\n                                <FormattedMessage\n                                    id='Apis.Details.Endpoints.EndpointOverview.general.config.header'\n                                    defaultMessage='General Endpoint Configurations'\n                                />\n                            </Typography>\n                            <GeneralConfiguration\n                                epConfig={(cloneDeep(epConfig))}\n                                endpointType={endpointType}\n                                endpointsDispatcher={endpointsDispatcher}\n                            />\n                        </Grid>\n                    )}\n                {\n                    endpointType.key === 'INLINE'\n                        || endpointType.key === 'default'\n                        || endpointType.key === 'prototyped'\n                        || api.type === 'WS'\n                        || endpointType.key === 'awslambda'\n                        ? <div />\n                        : (\n                            <Grid item xs={12}>\n                                <Typography\n                                    variant='h4'\n                                    align='left'\n                                    className={classes.titleWrapper}\n                                    gutterBottom\n                                >\n                                    <FormattedMessage\n                                        id={'Apis.Details.Endpoints.'\n                                            + 'EndpointOverview.lb.failover.endpoints.header'}\n                                        defaultMessage='Load balance and Failover Configurations'\n                                    />\n                                </Typography>\n                                <LoadbalanceFailoverConfig\n                                    handleEndpointCategorySelect={handleEndpointCategorySelect}\n                                    toggleAdvanceConfig={toggleAdvanceConfig}\n                                    endpointsDispatcher={endpointsDispatcher}\n                                    epConfig={(cloneDeep(epConfig))}\n                                    endpointSecurityInfo={endpointSecurityInfo}\n                                    handleEndpointTypeSelect={handleEndpointTypeSelect}\n                                    globalEpType={endpointType}\n                                    apiType={api.type}\n                                />\n                            </Grid>\n                        )\n                }\n            </Grid>\n            <Dialog open={advanceConfigOptions.open}>\n                <DialogTitle>\n                    <Typography className={classes.configDialogHeader}>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.EndpointOverview.advance.endpoint.configuration'\n                            defaultMessage='Advanced Configurations'\n                        />\n                    </Typography>\n                </DialogTitle>\n                <DialogContent>\n                    <AdvanceEndpointConfig\n                        isSOAPEndpoint={endpointType.key === 'address'}\n                        advanceConfig={advanceConfigOptions.config}\n                        onSaveAdvanceConfig={saveAdvanceConfig}\n                        onCancel={closeAdvanceConfig}\n                    />\n                </DialogContent>\n            </Dialog>\n            <Dialog open={endpointSecurityConfig.open}>\n                <DialogTitle>\n                    <Typography className={classes.configDialogHeader}>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.EndpointOverview.endpoint.security.configuration'\n                            defaultMessage='Endpoint Security Configurations'\n                        />\n                    </Typography>\n                </DialogTitle>\n                <DialogContent>\n                    {endpointSecurityConfig.category === 'production' ? (\n                        <EndpointSecurity\n                            securityInfo={endpointSecurityInfo\n                                            && (endpointSecurityInfo.production\n                                                ? endpointSecurityInfo.production : endpointSecurityInfo)}\n                            onChangeEndpointAuth={handleEndpointSecurityChange}\n                            saveEndpointSecurityConfig={saveEndpointSecurityConfig}\n                            closeEndpointSecurityConfig={closeEndpointSecurityConfig}\n                            isProduction\n                        />\n                    ) : (\n                        <EndpointSecurity\n                            securityInfo={endpointSecurityInfo\n                                            && (endpointSecurityInfo.sandbox\n                                                ? endpointSecurityInfo.sandbox : endpointSecurityInfo)}\n                            onChangeEndpointAuth={handleEndpointSecurityChange}\n                            saveEndpointSecurityConfig={saveEndpointSecurityConfig}\n                            closeEndpointSecurityConfig={closeEndpointSecurityConfig}\n                        />\n                    )}\n                </DialogContent>\n            </Dialog>\n            <Dialog open={typeChangeConfirmation.openDialog}>\n                <DialogTitle>\n                    <Typography className={classes.configDialogHeader}>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.EndpointOverview.endpoint.type.change.confirmation'\n                            defaultMessage='Change Endpoint Type'\n                        />\n                    </Typography>\n                </DialogTitle>\n                <DialogContent>\n                    <Typography>\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.EndpointOverview.endpoint.type.change.confirmation.message'\n                            defaultMessage='Your current endpoint configuration will be lost.'\n                        />\n                    </Typography>\n                </DialogContent>\n                <DialogActions>\n                    <Button\n                        onClick={() => { setTypeChangeConfirmation({ openDialog: false }); }}\n                        color='primary'\n                    >\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints.EndpointOverview.change.type.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </Button>\n                    <Button\n                        onClick={() => { changeEndpointType(typeChangeConfirmation.type); }}\n                        color='primary'\n                    >\n                        <FormattedMessage\n                            id='Apis.Details.Endpoints..EndpointOverview.change.type.proceed'\n                            defaultMessage='Proceed'\n                        />\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nEndpointOverview.propTypes = {\n    classes: PropTypes.shape({\n        overviewWrapper: PropTypes.shape({}),\n        endpointTypesWrapper: PropTypes.shape({}),\n        endpointName: PropTypes.shape({}),\n    }).isRequired,\n    api: PropTypes.shape({}).isRequired,\n    endpointsDispatcher: PropTypes.func.isRequired,\n    swaggerDef: PropTypes.shape({}).isRequired,\n    updateSwagger: PropTypes.func.isRequired,\n    saveAndRedirect: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(EndpointOverview));\n","/**\n * Copyright (c)  WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, {\n    useContext, useEffect, useState, useReducer,\n} from 'react';\nimport { Grid, CircularProgress } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { Link, withRouter } from 'react-router-dom';\nimport NewEndpointCreate from 'AppComponents/Apis/Details/Endpoints/NewEndpointCreate';\nimport { APIContext } from 'AppComponents/Apis/Details/components/ApiContext';\nimport cloneDeep from 'lodash.clonedeep';\nimport { isRestricted } from 'AppData/AuthManager';\nimport EndpointOverview from './EndpointOverview';\nimport { createEndpointConfig, getEndpointTemplateByType } from './endpointUtils';\n\nconst styles = (theme) => ({\n    endpointTypesWrapper: {\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'row',\n        margin: '2px',\n    },\n    root: {\n        flexGrow: 1,\n        paddingRight: '10px',\n    },\n    buttonSection: {\n        marginTop: theme.spacing(2),\n    },\n    radioGroup: {\n        display: 'flex',\n        flexDirection: 'row',\n        marginLeft: theme.spacing(2),\n    },\n    endpointValidityMessage: {\n        color: theme.palette.error.main,\n    },\n    errorMessageContainer: {\n        marginTop: theme.spacing(1),\n    },\n    implSelectRadio: {\n        padding: theme.spacing(1) / 2,\n    },\n});\n\nconst defaultSwagger = { paths: {} };\n\n/**\n * The base component of the endpoints view.\n * @param {any} props The props passed to the layout\n * @returns {any} HTML representation.\n */\nfunction Endpoints(props) {\n    const { classes, intl, history } = props;\n    const { api, updateAPI } = useContext(APIContext);\n    const [swagger, setSwagger] = useState(defaultSwagger);\n    const [endpointValidity, setAPIEndpointsValid] = useState({ isValid: true, message: '' });\n    const [isUpdating, setUpdating] = useState(false);\n\n    const apiReducer = (initState, configAction) => {\n        const tmpEndpointConfig = cloneDeep(initState.endpointConfig);\n        const { action, value } = configAction;\n        switch (action) {\n            case 'production_endpoints':\n            case 'sandbox_endpoints': {\n                if (value) {\n                    return { ...initState, endpointConfig: { ...tmpEndpointConfig, [action]: value } };\n                }\n                return { ...initState, endpointConfig: { ...tmpEndpointConfig } };\n            }\n            case 'select_endpoint_category': {\n                return { ...initState, endpointConfig: { ...value } };\n            }\n            case 'set_lb_config': {\n                return { ...initState, endpointConfig: { ...value } };\n            }\n            case 'add_endpoint': {\n                return { ...initState, endpointConfig: { ...value } };\n            }\n            case 'set_advance_config': {\n                return { ...initState, endpointConfig: { ...value } };\n            }\n            case 'remove_endpoint': {\n                return { ...initState, endpointConfig: { ...value } };\n            }\n            case 'endpointImplementationType': { // set implementation status\n                const { endpointType, implementationType } = value;\n                const config = createEndpointConfig(endpointType);\n                if (endpointType === 'prototyped') {\n                    if (implementationType === 'mock') {\n                        api.generateMockScripts(api.id).then((res) => { // generates mock/sample payloads\n                            setSwagger(res.obj);\n                        });\n                        return { ...initState, endpointConfig: config, endpointImplementationType: 'INLINE' };\n                    }\n                    return { ...initState, endpointConfig: config, endpointImplementationType: 'ENDPOINT' };\n                }\n                return { ...initState, endpointConfig: config };\n            }\n            case 'endpointSecurity': { // set endpoint security\n                const config = cloneDeep(initState.endpointConfig);\n                const tmpSecurityInfo = cloneDeep(value);\n                return { ...initState, endpointConfig: { ...config, endpoint_security: tmpSecurityInfo } };\n            }\n            case 'endpoint_type': { // set endpoint type\n                const config = getEndpointTemplateByType(\n                    value.category,\n                    value.endpointType === 'address',\n                    tmpEndpointConfig,\n                );\n                return { ...initState, endpointConfig: { ...config } };\n            }\n            case 'set_inline': {\n                const { endpointImplementationType, endpointConfig } = value;\n                api.generateMockScripts(api.id).then((res) => { // generates mock/sample payloads\n                    setSwagger(res.obj);\n                });\n                return { ...initState, endpointConfig, endpointImplementationType };\n            }\n            case 'set_prototyped': {\n                const { endpointImplementationType, endpointConfig } = value;\n                return {\n                    ...initState,\n                    endpointImplementationType,\n                    endpointConfig,\n                };\n            }\n            case 'set_awsCredentials': {\n                return { ...initState, endpointConfig: { ...value } };\n            }\n            case 'select_endpoint_type': {\n                const { endpointImplementationType, endpointConfig } = value;\n                let { endpointSecurity } = initState;\n                if (endpointSecurity && (endpointSecurity.username === '')) {\n                    endpointSecurity = null;\n                }\n                return {\n                    ...initState,\n                    endpointConfig,\n                    endpointImplementationType,\n                    endpointSecurity: null,\n                };\n            }\n            default: {\n                return initState;\n            }\n        }\n    };\n    const [apiObject, apiDispatcher] = useReducer(apiReducer, api.toJSON());\n\n\n    /**\n     * Method to update the api.\n     *\n     * @param {boolean} isRedirect Used for dynamic endpoints to redirect to the runtime config page.\n     */\n    const saveAPI = (isRedirect) => {\n        const { endpointConfig, endpointImplementationType, endpointSecurity } = apiObject;\n        setUpdating(true);\n        if (endpointImplementationType === 'INLINE') {\n            api.updateSwagger(swagger).then((resp) => {\n                setSwagger(resp.obj);\n            }).then(() => {\n                updateAPI({ endpointConfig, endpointImplementationType, endpointSecurity });\n            }).finally(() => {\n                setUpdating(false);\n                if (isRedirect) {\n                    history.push('/apis/' + api.id + '/runtime-configuration');\n                }\n            });\n        } else {\n            updateAPI(apiObject).finally(() => {\n                setUpdating(false);\n                if (isRedirect) {\n                    history.push('/apis/' + api.id + '/runtime-configuration');\n                }\n            });\n        }\n    };\n\n    /**\n     * Validate the provided endpoint config object.\n     *\n     * @param {any} endpointConfig The provided endpoint config for validation.\n     * @param {string} implementationType The api implementation type (INLINE/ ENDPOINT)\n     * @return {{isValid: boolean, message: string}} The endpoint validity information.\n     * */\n    const validate = (implementationType) => {\n        const { endpointConfig, endpointSecurity } = apiObject;\n        if (endpointSecurity) {\n            if (endpointSecurity.type === 'OAUTH') {\n                if (endpointSecurity.grantType === 'PASSWORD') {\n                    if (endpointSecurity.tokenUrl === null\n                        || endpointSecurity.apiKey === null\n                        || endpointSecurity.apiSecret === null\n                        || endpointSecurity.username === null\n                        || endpointSecurity.password === null) {\n                        return {\n                            isValid: false,\n                            message: intl.formatMessage({\n                                id: 'Apis.Details.Endpoints.Endpoints.missing.security.oauth.password.error',\n                                defaultMessage: 'Endpoint Security Token URL'\n                                        + '/API Key/API Secret/Username/Password should not be empty',\n                            }),\n                        };\n                    }\n                } else if (endpointSecurity.grantType === 'CLIENT_CREDENTIALS') {\n                    if (endpointSecurity.tokenUrl === null\n                        || endpointSecurity.apiKey === null\n                        || endpointSecurity.apiSecret === null) {\n                        return {\n                            isValid: false,\n                            message: intl.formatMessage({\n                                id: 'Apis.Details.Endpoints.Endpoints.missing.security.oauth.client.error',\n                                defaultMessage: 'Endpoint Security Token URL'\n                                        + '/API Key/API Secret should not be empty',\n                            }),\n                        };\n                    }\n                }\n            } else if (endpointSecurity.username === '' || endpointSecurity.password === null) {\n                return {\n                    isValid: false,\n                    message: intl.formatMessage({\n                        id: 'Apis.Details.Endpoints.Endpoints.missing.security.username.error',\n                        defaultMessage: 'Endpoint Security User Name/ Password should not be empty',\n                    }),\n                };\n            }\n        }\n        if (endpointConfig === null) {\n            return { isValid: true, message: '' };\n        }\n        const endpointType = endpointConfig.endpoint_type;\n        if (endpointType === 'awslambda') {\n            if (endpointConfig.access_method === 'stored') {\n                if (endpointConfig.amznAccessKey === '' || endpointConfig.amznSecretKey === ''\n                || endpointConfig.amznRegion === '') {\n                    return {\n                        isValid: false,\n                        message: intl.formatMessage({\n                            id: 'Apis.Details.Endpoints.Endpoints.missing.accessKey.secretKey.error',\n                            defaultMessage: 'Access Key, Secret Key and Region should not be empty',\n                        }),\n                    };\n                }\n            }\n            if (endpointConfig.amznAccessKey !== '' && endpointConfig.amznSecretKey === 'AWS_SECRET_KEY') {\n                return {\n                    isValid: false,\n                    message: '',\n                };\n            }\n        } else if (endpointType === 'load_balance') {\n            /**\n             * Checklist:\n             *  production/ sandbox endpoints should be an array.\n             *  production/ sandbox endpoint [0] must be present.\n             * */\n            if (endpointConfig.production_endpoints && endpointConfig.production_endpoints.length > 0) {\n                if (!endpointConfig.production_endpoints[0].url\n                    || (endpointConfig.production_endpoints[0].url\n                        && endpointConfig.production_endpoints[0].url === '')) {\n                    return {\n                        isValid: false,\n                        message: intl.formatMessage({\n                            id: 'Apis.Details.Endpoints.Endpoints.missing.prod.endpoint.loadbalance',\n                            defaultMessage: 'Default Production Endpoint should not be empty',\n                        }),\n                    };\n                }\n            }\n            if (endpointConfig.sandbox_endpoints && endpointConfig.sandbox_endpoints.length > 0) {\n                if (!endpointConfig.sandbox_endpoints[0].url\n                    || (endpointConfig.sandbox_endpoints[0].url && endpointConfig.sandbox_endpoints[0].url === '')) {\n                    return {\n                        isValid: false,\n                        message: intl.formatMessage({\n                            id: 'Apis.Details.Endpoints.Endpoints.missing.sandbox.endpoint.loadbalance',\n                            defaultMessage: 'Default Sandbox Endpoint should not be empty',\n                        }),\n                    };\n                }\n            }\n        } else {\n            let isValidEndpoint = false;\n            if (endpointConfig.implementation_status === 'prototyped') {\n                if (implementationType === 'ENDPOINT') {\n                    if (endpointConfig.production_endpoints && endpointConfig.production_endpoints.url === '') {\n                        return {\n                            isValid: false,\n                            message: intl.formatMessage({\n                                id: 'Apis.Details.Endpoints.Endpoints.missing.prototype.url',\n                                defaultMessage: 'Prototype Endpoint URL should not be empty',\n                            }),\n                        };\n                    }\n                }\n                isValidEndpoint = true;\n            } else if (endpointConfig.production_endpoints && !endpointConfig.sandbox_endpoints) {\n                isValidEndpoint = endpointConfig.production_endpoints.url !== '';\n            } else if (endpointConfig.sandbox_endpoints && !endpointConfig.production_endpoints) {\n                isValidEndpoint = endpointConfig.sandbox_endpoints.url !== '';\n            } else if (!endpointConfig.sandbox_endpoints && !endpointConfig.production_endpoints) {\n                isValidEndpoint = false;\n            } else {\n                isValidEndpoint = endpointConfig.sandbox_endpoints.url !== ''\n                        || endpointConfig.production_endpoints.url !== '';\n            }\n            return !isValidEndpoint ? {\n                isValid: false,\n                message: intl.formatMessage({\n                    id: 'Apis.Details.Endpoints.Endpoints.missing.endpoint.error',\n                    defaultMessage: 'Either one of Production or Sandbox Endpoints should be added.',\n                }),\n            } : { isValid: true, message: '' };\n        }\n        return {\n            isValid: true,\n            message: '',\n        };\n    };\n\n    useEffect(() => {\n        if (api.type !== 'WS') {\n            api.getSwagger(apiObject.id).then((resp) => {\n                setSwagger(resp.obj);\n            }).catch((err) => {\n                console.err(err);\n            });\n        }\n    }, []);\n\n    useEffect(() => {\n        setAPIEndpointsValid(validate(apiObject.endpointImplementationType));\n    }, [apiObject]);\n\n    const saveAndRedirect = () => {\n        saveAPI(true);\n    };\n    /**\n     * Method to update the swagger object.\n     *\n     * @param {any} swaggerObj The updated swagger object.\n     * */\n    const changeSwagger = (swaggerObj) => {\n        setSwagger(swaggerObj);\n    };\n\n    /**\n     * Generate endpoint configuration based on the selected endpoint type and set to the api object.\n     *\n     * @param {string} endpointType The endpoint type.\n     * @param {string} implementationType The endpoint implementationType. (Required only for prototype endpoints)\n     * */\n    const generateEndpointConfig = (endpointType, implementationType) => {\n        apiDispatcher({ action: 'endpointImplementationType', value: { endpointType, implementationType } });\n    };\n\n    return (\n        <>\n            {/* Since the api is set to the state in component did mount, check both the api and the apiObject. */}\n            {(api.endpointConfig === null && apiObject.endpointConfig === null)\n                ? <NewEndpointCreate generateEndpointConfig={generateEndpointConfig} apiType={apiObject.type} />\n                : (\n                    <div className={classes.root}>\n                        <Typography variant='h4' align='left' gutterBottom>\n                            <FormattedMessage\n                                id='Apis.Details.Endpoints.Endpoints.endpoints.header'\n                                defaultMessage='Endpoints'\n                            />\n                        </Typography>\n                        <div>\n                            <Grid container>\n                                <Grid item xs={12} className={classes.endpointsContainer}>\n                                    <EndpointOverview\n                                        swaggerDef={swagger}\n                                        updateSwagger={changeSwagger}\n                                        api={apiObject}\n                                        onChangeAPI={apiDispatcher}\n                                        endpointsDispatcher={apiDispatcher}\n                                        saveAndRedirect={saveAndRedirect}\n                                    />\n                                </Grid>\n                            </Grid>\n                            {\n                                endpointValidity.isValid\n                                    ? <div />\n                                    : (\n                                        <Grid item className={classes.errorMessageContainer}>\n                                            <Typography className={classes.endpointValidityMessage}>\n                                                {endpointValidity.message}\n                                            </Typography>\n                                        </Grid>\n                                    )\n                            }\n                            <Grid\n                                container\n                                direction='row'\n                                alignItems='flex-start'\n                                spacing={1}\n                                className={classes.buttonSection}\n                            >\n                                <Grid item>\n                                    <Button\n                                        disabled={isUpdating || !endpointValidity.isValid\n                                    || isRestricted(['apim:api_create'], api)}\n                                        type='submit'\n                                        variant='contained'\n                                        color='primary'\n                                        onClick={() => saveAPI()}\n                                    >\n                                        <FormattedMessage\n                                            id='Apis.Details.Endpoints.Endpoints.save'\n                                            defaultMessage='Save'\n                                        />\n                                        {isUpdating && <CircularProgress size={24} />}\n                                    </Button>\n                                </Grid>\n                                <Grid item>\n                                    <Link to={'/apis/' + api.id + '/overview'}>\n                                        <Button>\n                                            <FormattedMessage\n                                                id='Apis.Details.Endpoints.Endpoints.cancel'\n                                                defaultMessage='Cancel'\n                                            />\n                                        </Button>\n                                    </Link>\n                                </Grid>\n                                {isRestricted(['apim:api_create'], api)\n                                && (\n                                    <Grid item>\n                                        <Typography variant='body2' color='primary'>\n                                            <FormattedMessage\n                                                id='Apis.Details.Endpoints.Endpoints.update.not.allowed'\n                                                defaultMessage={'*You are not authorized to update endpoints of'\n                                                + ' the API due to insufficient permissions'}\n                                            />\n                                        </Typography>\n                                    </Grid>\n                                )}\n                            </Grid>\n                        </div>\n                    </div>\n                )}\n        </>\n\n    );\n}\n\nEndpoints.propTypes = {\n    classes: PropTypes.shape({\n        root: PropTypes.shape({}),\n        buttonSection: PropTypes.shape({}),\n        endpointTypesWrapper: PropTypes.shape({}),\n        mainTitle: PropTypes.shape({}),\n    }).isRequired,\n    api: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n    history: PropTypes.shape({}).isRequired,\n};\n\nexport default withRouter(injectIntl(withStyles(styles)(Endpoints)));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect } from 'react';\nimport API from 'AppData/api';\nimport PropTypes from 'prop-types';\nimport 'react-tagsinput/react-tagsinput.css';\nimport { FormattedMessage } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Paper from '@material-ui/core/Paper';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    mainTitle: {\n        paddingTop: theme.spacing(3),\n    },\n    gatewayPaper: {\n        marginTop: theme.spacing(2),\n    },\n    content: {\n        marginTop: theme.spacing(2),\n        margin: `${theme.spacing(2)}px 0 ${theme.spacing(2)}px 0`,\n    },\n    emptyBox: {\n        marginTop: theme.spacing(2),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n        paddingLeft: theme.spacing(3),\n    },\n}));\n\n/**\n * Renders Microgateway labels\n * @class MicroGateway\n * @param {*} props\n * @extends {React.Component}\n */\nexport default function MicroGateway(props) {\n    const classes = useStyles();\n    const { selectedMgLabel, setSelectedMgLabel, api } = props;\n    const restApi = new API();\n    const [mgLabels, setMgLabels] = useState([]);\n    useEffect(() => {\n        restApi.microgatewayLabelsGet()\n            .then((result) => {\n                setMgLabels(result.body.list);\n            });\n    }, []);\n\n    return (\n        <>\n            <Typography variant='h4' align='left' className={classes.mainTitle}>\n                <FormattedMessage\n                    id='Apis.Details.Environments.Environments.GatewayLabels'\n                    defaultMessage='Gateway Labels'\n                />\n            </Typography>\n            {mgLabels.length > 0 ? (\n                <Paper className={classes.gatewayPaper}>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell />\n                                <TableCell align='left'>Label</TableCell>\n                                <TableCell align='left'>Description</TableCell>\n                                <TableCell align='left'>Access URL</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {mgLabels.map((row) => (\n                                <TableRow key={row.name}>\n                                    <TableCell padding='checkbox'>\n                                        <Checkbox\n                                            disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                                            checked={selectedMgLabel.includes(row.name)}\n                                            onChange={\n                                                (event) => {\n                                                    const { checked, name } = event.target;\n                                                    if (checked) {\n                                                        setSelectedMgLabel([...selectedMgLabel, name]);\n                                                    } else {\n                                                        setSelectedMgLabel(\n                                                            selectedMgLabel.filter((env) => env !== name),\n                                                        );\n                                                    }\n                                                }\n                                            }\n                                            name={row.name}\n                                            color='primary'\n                                        />\n                                    </TableCell>\n                                    <TableCell component='th' scope='row' align='left'>\n                                        {row.name}\n                                    </TableCell>\n                                    <TableCell align='left'>{row.description}</TableCell>\n                                    <TableCell align='left'>{row.access_urls.join(', ')}</TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Paper>\n            )\n                : (\n                    <InlineMessage type='info' height={100} className={classes.emptyBox}>\n                        <div className={classes.contentWrapper}>\n                            <Typography component='p' className={classes.content}>\n                                <FormattedMessage\n                                    id='Apis.Details.Environments.Gateway.labels.emptym1'\n                                    defaultMessage='Gateway labels are not available.'\n                                />\n                                <FormattedMessage\n                                    id='Apis.Details.Environments.Gateway.labels.emptym2'\n                                    defaultMessage=' You can request the administrator to add labels.'\n                                />\n                            </Typography>\n                        </div>\n                    </InlineMessage>\n                )}\n        </>\n    );\n}\nMicroGateway.defaultProps = {\n    api: {},\n};\nMicroGateway.propTypes = {\n    selectedMgLabel: PropTypes.arrayOf(PropTypes.string).isRequired,\n    setSelectedMgLabel: PropTypes.func.isRequired,\n    api: PropTypes.shape({}),\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport 'react-tagsinput/react-tagsinput.css';\nimport { FormattedMessage } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport { isRestricted } from 'AppData/AuthManager';\nimport cloneDeep from 'lodash.clonedeep';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    mainTitle: {\n        paddingTop: theme.spacing(3),\n    },\n    gatewayPaper: {\n        marginTop: theme.spacing(2),\n    },\n    content: {\n        marginTop: theme.spacing(2),\n        margin: `${theme.spacing(2)}px 0 ${theme.spacing(2)}px 0`,\n    },\n    emptyBox: {\n        marginTop: theme.spacing(2),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n        paddingLeft: theme.spacing(3),\n    },\n}));\n\n/**\n * Renders deployments List\n * @class Kubernetes\n * @param {*} props\n * @extends {React.Component}\n */\nexport default function Kubernetes(props) {\n    const classes = useStyles();\n    const {\n        clusters, selectedDeployments, setSelectedDeployments, api,\n    } = props;\n\n    /**\n     * Handle the Deployment Environments onChange event\n     * @param {event} event onCheck event\n     * @param {clusterId} clusterId seletected clsuter Id\n     */\n    function handleEnvironmentsSelect(event, clusterId) {\n        const { checked } = event.target;\n        const selectedDeploymentCopy = cloneDeep(selectedDeployments);\n        if (selectedDeploymentCopy && selectedDeploymentCopy.length > 0) {\n            for (let dep = 0; dep < selectedDeploymentCopy.length; dep++) {\n                const deployment = selectedDeploymentCopy[dep];\n                if (deployment && deployment.type === 'Kubernetes') {\n                    if (deployment.clusterName && deployment.clusterName.length > 0) {\n                        const clusterNameFound = [];\n                        for (let cluster = 0; cluster < deployment.clusterName.length; cluster++) {\n                            const clusterName = deployment.clusterName[cluster];\n                            if (clusterName === clusterId) {\n                                clusterNameFound.push(clusterId);\n                            }\n                        }\n                        if (checked && !clusterNameFound.includes(clusterId)) {\n                            deployment.clusterName.push(clusterId);\n                        } else if (!checked && clusterNameFound.includes(clusterId)) {\n                            const index = deployment.clusterName.indexOf(clusterId);\n                            if (index > -1) {\n                                deployment.clusterName.splice(index, 1);\n                            }\n                        }\n                    } else if (deployment.clusterName && deployment.clusterName.length === 0) {\n                        deployment.clusterName.push(clusterId);\n                    }\n                }\n            }\n        } else {\n            selectedDeploymentCopy.push({\n                type: 'Kubernetes',\n                clusterName: [clusterId],\n            });\n        }\n        setSelectedDeployments(selectedDeploymentCopy);\n    }\n\n\n    /**\n     *\n     * Handle the Deployment Environments onCheck\n     * @param {*} clusterId selected cluster Id\n     * @returns {include} selected cluster alredy include in the response\n     */\n    function handleOnChecked(clusterId) {\n        let include = false;\n        if (selectedDeployments) {\n            const deploymentTypes = selectedDeployments.filter((deployment) => deployment.type === 'Kubernetes');\n            if (deploymentTypes && deploymentTypes.length > 0) {\n                const selectedClusters = deploymentTypes[0].clusterName.filter((cluster) => cluster === clusterId);\n                include = selectedClusters && selectedClusters.length > 0;\n            }\n        }\n        return include;\n    }\n\n    const generateElement = (key, value) => {\n        return (\n            <TableRow>\n                <TableCell align='left'>{key}</TableCell>\n                <TableCell align='left'>{value}</TableCell>\n            </TableRow>\n        );\n    };\n    /**\n     *\n     * Handle generating table with property data\n     * @param {*} data JSONObject with cluster propertues\n     * @returns {properties} rendered elements\n     */\n    function generatePropertyData(data) {\n        const properties = Object.keys(data).reduce((result, currentKey) => {\n            const elementToPush = generateElement(currentKey, data[currentKey]);\n            result.push(elementToPush);\n\n            return result;\n        }, []);\n        return properties;\n    }\n    return (\n        <>\n            <Typography variant='h4' gutterBottom align='left' className={classes.mainTitle}>\n                <FormattedMessage\n                    id='Apis.Details.Environments.Environments.Kubernetes'\n                    defaultMessage='Kubernetes'\n                />\n            </Typography>\n\n            <Paper className={classes.gatewayPaper}>\n                <Table>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell />\n                            <TableCell align='left'>Name</TableCell>\n                            <TableCell align='left'>Properties</TableCell>\n                            <TableCell align='left'>Access URL</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {clusters.clusters.map((row) => (\n                            <TableRow key={row.clusterName}>\n                                <TableCell padding='checkbox'>\n                                    <Checkbox\n                                        disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                                        checked={handleOnChecked(row.clusterName)}\n                                        onChange={(e) => handleEnvironmentsSelect(e, row.clusterName)}\n                                        color='primary'\n                                    />\n                                </TableCell>\n                                <TableCell component='th' scope='row'>\n                                    {row.displayName}\n                                </TableCell>\n                                <TableCell align='left'>\n                                    <Table>\n                                        <TableBody>\n                                            {generatePropertyData(row.properties)}\n                                        </TableBody>\n                                    </Table>\n                                </TableCell>\n                                <TableCell align='left'>{row.accessURL}</TableCell>\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </Paper>\n        </>\n    );\n}\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport { APIContext } from 'AppComponents/Apis/Details/components/ApiContext';\nimport { useAppContext } from 'AppComponents/Shared/AppContext';\nimport 'react-tagsinput/react-tagsinput.css';\nimport { FormattedMessage } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Link } from 'react-router-dom';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Paper from '@material-ui/core/Paper';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MicroGateway from 'AppComponents/Apis/Details/Environments/MicroGateway';\nimport Kubernetes from 'AppComponents/Apis/Details/Environments/Kubernetes';\nimport API from 'AppData/api';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    saveButton: {\n        marginTop: theme.spacing(3),\n    },\n}));\n\n/**\n * Renders an Environments list\n * @class Environments\n * @extends {React.Component}\n */\nexport default function Environments() {\n    const classes = useStyles();\n    const { api, updateAPI } = useContext(APIContext);\n    const { settings } = useAppContext();\n    const [gatewayEnvironments, setGatewayEnvironments] = useState([...api.gatewayEnvironments]);\n    const [selectedMgLabel, setSelectedMgLabel] = useState([...api.labels]);\n    const [isUpdating, setUpdating] = useState(false);\n    const [selectedDeployments, setSelectedDeployments] = useState([...api.deploymentEnvironments]);\n\n    const restApi = new API();\n    const [allDeployments, setAllDeployments] = useState([]);\n    useEffect(() => {\n        restApi.getDeployments()\n            .then((result) => {\n                setAllDeployments(result.body.list);\n            });\n    }, []);\n\n    /**\n     *\n     * Handle the Environments save button action\n     */\n    function addEnvironments() {\n        setUpdating(true);\n        updateAPI({\n            gatewayEnvironments,\n            labels: selectedMgLabel,\n            deploymentEnvironments: selectedDeployments,\n        })\n            .then(() => Alert.info('API Update Successfully'))\n            .catch((error) => {\n                if (error.response) {\n                    Alert.error(error.response.body.description);\n                } else {\n                    Alert.error('Something went wrong while updating the environments');\n                }\n                console.error(error);\n            })\n            .finally(() => setUpdating(false));\n    }\n\n    return (\n        <>\n            <Typography variant='h4' gutterBottom>\n                <FormattedMessage\n                    id='Apis.Details.Environments.Environments.APIGateways'\n                    defaultMessage='API Gateways'\n                />\n            </Typography>\n            <Paper className={classes.saveButton}>\n                <Table>\n                    <TableHead>\n                        <TableRow>\n                            <TableCell />\n                            <TableCell align='left'>Name</TableCell>\n                            <TableCell align='left'>Type</TableCell>\n                            <TableCell align='left'>Server URL</TableCell>\n                            {api.isWebSocket() ? (\n                                <>\n                                    <TableCell align='left'>WS Endpoint</TableCell>\n                                    <TableCell align='left'>WSS Endpoint</TableCell>\n                                </>\n                            ) : (\n                                <>\n                                    <TableCell align='left'>HTTP Endpoint</TableCell>\n                                    <TableCell align='left'>HTTPS Endpoint</TableCell>\n                                </>\n                            )}\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {settings.environment.map((row) => (\n                            <TableRow key={row.name}>\n                                <TableCell padding='checkbox'>\n                                    <Checkbox\n                                        disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                                        checked={gatewayEnvironments.includes(row.name)}\n                                        onChange={\n                                            (event) => {\n                                                const { checked, name } = event.target;\n                                                if (checked) {\n                                                    setGatewayEnvironments([...gatewayEnvironments, name]);\n                                                } else {\n                                                    setGatewayEnvironments(\n                                                        gatewayEnvironments.filter((env) => env !== name),\n                                                    );\n                                                }\n                                            }\n                                        }\n                                        name={row.name}\n                                        color='primary'\n                                    />\n                                </TableCell>\n                                <TableCell component='th' scope='row'>\n                                    {row.name}\n                                </TableCell>\n                                <TableCell align='left'>{row.type}</TableCell>\n                                <TableCell align='left'>{row.serverUrl}</TableCell>\n\n                                {api.isWebSocket() ? (\n                                    <>\n                                        <TableCell align='left'>{row.endpoints.ws}</TableCell>\n                                        <TableCell align='left'>{row.endpoints.wss}</TableCell>\n                                    </>\n                                ) : (\n                                    <>\n                                        <TableCell align='left'>{row.endpoints.http}</TableCell>\n                                        <TableCell align='left'>{row.endpoints.https}</TableCell>\n                                    </>\n                                )}\n                            </TableRow>\n                        ))}\n                    </TableBody>\n                </Table>\n            </Paper>\n\n            {!api.isWebSocket()\n                && (\n                    <MicroGateway\n                        selectedMgLabel={selectedMgLabel}\n                        setSelectedMgLabel={setSelectedMgLabel}\n                        api={api}\n                    />\n                )}\n            {\n                allDeployments\n                 && (\n                     allDeployments.map((clusters) => (clusters.name.toLowerCase() === 'kubernetes' && (\n                         <Kubernetes\n                             clusters={clusters}\n                             selectedDeployments={selectedDeployments}\n                             setSelectedDeployments={setSelectedDeployments}\n                             api={api}\n                         />\n                     )))\n                 )\n            }\n\n            <Grid\n                container\n                direction='row'\n                alignItems='flex-start'\n                spacing={1}\n            >\n                <Grid item>\n                    <Button\n                        className={classes.saveButton}\n                        disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api) || isUpdating}\n                        type='submit'\n                        variant='contained'\n                        color='primary'\n                        onClick={addEnvironments}\n                    >\n                        <FormattedMessage\n                            id='Apis.Details.Environments.Environments.save'\n                            defaultMessage='Save'\n                        />\n                        {isUpdating && <CircularProgress size={20} />}\n                    </Button>\n                </Grid>\n                <Grid item>\n                    <Link to={'/apis/' + api.id + '/overview'}>\n                        <Button className={classes.saveButton}>\n                            <FormattedMessage\n                                id='Apis.Details.Environments.Environments.cancel'\n                                defaultMessage='Cancel'\n                            />\n                        </Button>\n                    </Link>\n                </Grid>\n            </Grid>\n            {isRestricted(['apim:api_create'], api) && (\n                <Grid item>\n                    <Typography variant='body2' color='primary'>\n                        <FormattedMessage\n                            id='Apis.Details.Environments.Environments.update.not.allowed'\n                            defaultMessage={\n                                '* You are not authorized to update particular fields of'\n                                + ' the API due to insufficient permissions'\n                            }\n                        />\n                    </Typography>\n                </Grid>\n            )}\n        </>\n    );\n}\n","/*\n * Copyright (c), WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\nimport Button from '@material-ui/core/Button';\nimport MUIDataTable from 'mui-datatables';\nimport API from 'AppData/api';\nimport APIProduct from 'AppData/APIProduct';\nimport { FormattedMessage } from 'react-intl';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogActions from '@material-ui/core/DialogActions';\n\nconst columns = ['Name', 'Value'];\n\nconst options = {\n    filterType: 'checkbox',\n    sort: false,\n    search: false,\n    viewColumns: false,\n    filter: false,\n    selectableRowsHeader: false,\n    selectableRows: 'none',\n    pagination: false,\n    download: false,\n};\n\n// eslint-disable-next-line require-jsdoc\nfunction Invoice(props) {\n    const {\n        subscriptionId,\n        isMonetizedUsagePolicy,\n        isNotAuthorized,\n        api,\n    } = props;\n    const [showPopup, setShowPopup] = useState(false);\n    const [showErrorPopup, setShowErrorPopup] = useState(false);\n    const [invoice, setInvoice] = useState(null);\n\n    /**\n   * Handle the popup for invoice\n   */\n    const handlePopup = () => {\n        setShowPopup(true);\n        setInvoice(null);\n        if (api.apiType === 'APIProduct') {\n            const apiProduct = new APIProduct(api.name, api.context, api.policies);\n            const promiseInvoice = apiProduct.getMonetizationInvoice(subscriptionId);\n            promiseInvoice.then((response) => {\n                const invoiceData = [];\n                Object.keys(response.properties).map((invoiceItem) => {\n                    const insideArray = [];\n                    insideArray.push(invoiceItem);\n                    insideArray.push(response.properties[invoiceItem]);\n                    invoiceData.push(insideArray);\n                    return true;\n                });\n                setInvoice(invoiceData);\n            }).catch((error) => {\n                console.error(error);\n                setShowErrorPopup(true);\n            });\n        } else {\n            const promiseInvoice = api.getMonetizationInvoice(subscriptionId);\n            promiseInvoice.then((response) => {\n                const invoiceData = [];\n                Object.keys(response.properties).map((invoiceItem) => {\n                    const insideArray = [];\n                    insideArray.push(invoiceItem);\n                    insideArray.push(response.properties[invoiceItem]);\n                    invoiceData.push(insideArray);\n                    return true;\n                });\n                setInvoice(invoiceData);\n            }).catch((error) => {\n                console.error(error);\n                setShowErrorPopup(true);\n            });\n        }\n    };\n\n    /**\n   * Handle closing the popup for invoice\n   */\n    const handleClose = () => {\n        setShowPopup(false);\n    };\n\n    const handleAlertClose = () => {\n        setShowErrorPopup(false);\n    };\n\n    return (\n        <>\n            <Button\n                variant='outlined'\n                size='small'\n                color='primary'\n                disabled={!isMonetizedUsagePolicy || isNotAuthorized}\n                onClick={handlePopup}\n            >\n                <FormattedMessage\n                    id='Applications.Details.Invoice.view.btn'\n                    defaultMessage='View Invoice'\n                />\n            </Button>\n            <Dialog open={showPopup} onClose={handleClose} fullWidth='true'>\n                {invoice && (\n                    <MUIDataTable\n                        title='Upcoming Invoice'\n                        data={invoice}\n                        columns={columns}\n                        options={options}\n                    />\n                )}\n            </Dialog>\n            <Dialog open={showErrorPopup} onClose={handleAlertClose} fullWidth='true'>\n                <DialogTitle>No Data Available</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id='invoice-dialog-description'>\n                        Pending invoice data not found for this subscription.\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleAlertClose} color='primary'>\n                        Close\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n}\n\nInvoice.propTypes = {\n    subscriptionId: PropTypes.string.isRequired,\n    isMonetizedUsagePolicy: PropTypes.string.isRequired,\n    isNotAuthorized: PropTypes.string.isRequired,\n    api: PropTypes.instanceOf(API).isRequired,\n};\n\nexport default Invoice;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { Component } from 'react';\nimport { FormattedMessage, injectIntl, defineMessages } from 'react-intl';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport Paper from '@material-ui/core/Paper';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\nimport MUIDataTable from 'mui-datatables';\nimport InfoIcon from '@material-ui/icons/Info';\nimport UserIcon from '@material-ui/icons/Person';\n\nimport Alert from 'AppComponents/Shared/Alert';\nimport API from 'AppData/api';\nimport { ScopeValidation, resourceMethod, resourcePath } from 'AppData/ScopeValidation';\nimport AuthManager from 'AppData/AuthManager';\nimport Invoice from './Invoice';\n\nconst styles = (theme) => ({\n    heading: {\n        marginTop: theme.spacing(3),\n        marginBottom: theme.spacing(2),\n    },\n    button: {\n        margin: theme.spacing(1),\n    },\n    headline: { paddingTop: theme.spacing(1.25), paddingLeft: theme.spacing(2.5) },\n    popupHeadline: {\n        alignItems: 'center',\n        borderBottom: '2px solid #40E0D0',\n        textAlign: 'center',\n    },\n    table: {\n        '& td': {\n            fontSize: theme.typography.fontSize,\n        },\n        '& th': {\n            fontSize: theme.typography.fontSize * 1.2,\n        },\n    },\n    searchDiv: {\n        float: 'right',\n        paddingTop: theme.spacing(1.25),\n        paddingRight: theme.spacing(1.25),\n    },\n    searchRoot: {\n        paddingTop: theme.spacing(0.25),\n        paddingBottom: theme.spacing(0.25),\n        paddingRight: theme.spacing(0.5),\n        paddingLeft: theme.spacing(0.5),\n        display: 'flex',\n        alignItems: 'right',\n        width: theme.spacing(50),\n        borderBottom: '1px solid #E8E8E8',\n    },\n    searchInput: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    searchIconButton: {\n        padding: theme.spacing(1.25),\n    },\n    noDataMessage: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: '#888888',\n        width: '100%',\n    },\n    tableColumnSize: {\n        width: '14%',\n    },\n    tableColumnSize2: {\n        width: '30%',\n    },\n    dialogColumnSize: {\n        width: '50%',\n    },\n    dialog: {\n        float: 'center',\n        alignItems: 'center',\n    },\n    invoiceTable: {\n        '& td': {\n            fontSize: theme.typography.fontSize * 1.5,\n        },\n    },\n    uniqueCell: {\n        borderTop: '1px solid #000000',\n        fontWeight: 'bold',\n    },\n    mainTitle: {\n        paddingLeft: 0,\n        marginTop: theme.spacing(3),\n    },\n    titleWrapper: {\n        marginBottom: theme.spacing(3),\n    },\n    typography: {\n        padding: theme.spacing(2),\n    },\n    root: {\n        flexGrow: 1,\n    },\n    InfoToolTip: {\n        backgroundColor: theme.custom.disableColor,\n        color: theme.palette.getContrastText(theme.custom.disableColor),\n        fontSize: theme.typography.fontSize,\n        fontWeight: theme.typography.h6.fontWeight,\n        border: 'solid 1px ' + theme.palette.grey,\n        borderRadius: theme.shape.borderRadius,\n        padding: theme.spacing(2),\n    },\n    subscriberHeader: {\n        fontSize: theme.typography.h6.fontSize,\n        color: theme.typography.h6.color,\n        fontWeight: theme.typography.h6.fontWeight,\n    },\n});\n\nconst subscriptionStatus = {\n    BLOCKED: 'BLOCKED',\n    PROD_BLOCKED: 'PROD_ONLY_BLOCKED',\n};\n\n/**\n * Table pagination for subscriptions table\n *\n * @param props props used for SubscriptionTablePagination\n * @returns {*}\n */\nfunction SubscriptionTablePagination(props) {\n    const {\n        count, page, rowsPerPage, onChangePage,\n    } = props;\n\n    /**\n     * handleFirstPageButtonClick loads data of the first page\n     * */\n    function handleFirstPageButtonClick() {\n        if (onChangePage) {\n            onChangePage(0);\n        }\n    }\n\n    /**\n     * handleBackButtonClick load data of the prev page\n     * */\n    function handleBackButtonClick() {\n        if (onChangePage) {\n            onChangePage(page - 1);\n        }\n    }\n\n    /**\n     * handleNextButtonClick load data of the next page\n     * */\n    function handleNextButtonClick() {\n        if (onChangePage) {\n            onChangePage(page + 1);\n        }\n    }\n\n    /**\n     * handleLastPageButtonClick load data of the last page\n     * */\n    function handleLastPageButtonClick() {\n        if (onChangePage) {\n            onChangePage(Math.max(0, Math.ceil(count / rowsPerPage) - 1));\n        }\n    }\n\n    return (\n        <div\n            style={{ display: 'flex' }}\n        >\n            <IconButton\n                onClick={handleFirstPageButtonClick}\n                disabled={page === 0}\n            >\n                <FirstPageIcon />\n            </IconButton>\n            <IconButton\n                onClick={handleBackButtonClick}\n                disabled={page === 0}\n            >\n                <KeyboardArrowLeft />\n            </IconButton>\n            <IconButton\n                onClick={handleNextButtonClick}\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n            >\n                <KeyboardArrowRight />\n            </IconButton>\n            <IconButton\n                onClick={handleLastPageButtonClick}\n                disabled={page >= Math.ceil(count / rowsPerPage) - 1}\n            >\n                <LastPageIcon />\n            </IconButton>\n        </div>\n    );\n}\n\nSubscriptionTablePagination.propTypes = {\n    count: PropTypes.number.isRequired,\n    page: PropTypes.number.isRequired,\n    rowsPerPage: PropTypes.number.isRequired,\n    onChangePage: PropTypes.func.isRequired,\n};\n\n/**\n * Lists all subscriptions.\n *\n * @class SubscriptionsTable\n * @extends {React.Component}\n */\nclass SubscriptionsTable extends Component {\n    constructor(props) {\n        super(props);\n        this.api = props.api;\n        this.state = {\n            subscriptions: null,\n            totalSubscription: 0,\n            page: 0,\n            rowsPerPage: 5,\n            searchQuery: null,\n            rowsPerPageOptions: [5, 10, 25, 50, 100],\n            emptyColumnHeight: 60,\n            policies: [],\n            subscriberClaims: null,\n        };\n        this.formatSubscriptionStateString = this.formatSubscriptionStateString.bind(this);\n        this.blockSubscription = this.blockSubscription.bind(this);\n        this.blockProductionOnly = this.blockProductionOnly.bind(this);\n        this.unblockSubscription = this.unblockSubscription.bind(this);\n        this.handleChangePage = this.handleChangePage.bind(this);\n        this.handleChangeRowsPerPage = this.handleChangeRowsPerPage.bind(this);\n        this.filterSubscriptions = this.filterSubscriptions.bind(this);\n        this.isMonetizedPolicy = this.isMonetizedPolicy.bind(this);\n        this.renderClaims = this.renderClaims.bind(this);\n        this.isNotCreator = AuthManager.isNotCreator();\n        this.isNotPublisher = AuthManager.isNotPublisher();\n    }\n\n    componentDidMount() {\n        this.fetchSubscriptionData();\n    }\n\n    /**\n     * Returns the set of action buttons based on the current subscription state\n     *\n     * @param {*} state State of the subscription (PROD_ONLY_BLOCKED/BLOCKED/ACTIVE)\n     * @param {*} subscriptionId Subscription ID\n     * @returns {JSX} Action buttons in JSX\n     * @memberof SubscriptionsTable\n     */\n    getSubscriptionBlockingButtons(state, subscriptionId) {\n        const { classes } = this.props;\n        if (state === subscriptionStatus.PROD_BLOCKED) {\n            return (\n                <dev>\n                    <Button\n                        size='small'\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => this.blockProductionOnly(subscriptionId)}\n                        className={classes.button}\n                        disabled='true'\n                    >\n                        <FormattedMessage\n                            id='block.production.only'\n                            defaultMessage='Block Production Only'\n                        />\n                    </Button>\n                    <Button\n                        size='small'\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => this.blockSubscription(subscriptionId)}\n                        className={classes.button}\n                    >\n                        <FormattedMessage\n                            id='block.all'\n                            defaultMessage='Block All'\n                        />\n                    </Button>\n                    <Button\n                        size='small'\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => this.unblockSubscription(subscriptionId)}\n                        className={classes.button}\n                    >\n                        <FormattedMessage\n                            id='unblock'\n                            defaultMessage='Unblock'\n                        />\n                    </Button>\n                </dev>\n            );\n        } else if (state === subscriptionStatus.BLOCKED) {\n            return (\n                <dev>\n                    <Button\n                        size='small'\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => this.blockProductionOnly(subscriptionId)}\n                        className={classes.button}\n                    >\n                        <FormattedMessage\n                            id='block.production.only'\n                            defaultMessage='Block Production Only'\n                        />\n                    </Button>\n                    <Button\n                        size='small'\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => this.blockSubscription(subscriptionId)}\n                        className={classes.button}\n                        disabled='true'\n                    >\n                        <FormattedMessage\n                            id='block.all'\n                            defaultMessage='Block All'\n                        />\n                    </Button>\n                    <Button\n                        size='small'\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => this.unblockSubscription(subscriptionId)}\n                        className={classes.button}\n                    >\n                        <FormattedMessage\n                            id='unblock'\n                            defaultMessage='Unblock'\n                        />\n                    </Button>\n                </dev>\n            );\n        } else {\n            return (\n                <dev>\n                    <Button\n                        size='small'\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => this.blockProductionOnly(subscriptionId)}\n                        className={classes.button}\n                    >\n                        <FormattedMessage\n                            id='block.production.only'\n                            defaultMessage='Block Production Only'\n                        />\n                    </Button>\n                    <Button\n                        size='small'\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => this.blockSubscription(subscriptionId)}\n                        className={classes.button}\n                    >\n                        <FormattedMessage\n                            id='block.all'\n                            defaultMessage='Block All'\n                        />\n                    </Button>\n                    <Button\n                        size='small'\n                        variant='outlined'\n                        color='primary'\n                        onClick={() => this.unblockSubscription(subscriptionId)}\n                        className={classes.button}\n                        disabled='true'\n                    >\n                        <FormattedMessage\n                            id='unblock'\n                            defaultMessage='Unblock'\n                        />\n                    </Button>\n                </dev>\n            );\n        }\n    }\n\n    /**\n     * Returns subscription state string based on te current subscription state\n     *\n     * @param {*} state The current state of subscription\n     * @returns {JSX} Subscription state string\n     * @memberof SubscriptionsTable\n     */\n    formatSubscriptionStateString(state) {\n        if (state === subscriptionStatus.PROD_BLOCKED) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Subscriptions.SubscriptionsTable.blocked.production.only.subs.state'\n                    defaultMessage='Blocked Production Only'\n                />\n            );\n        } else if (state === subscriptionStatus.BLOCKED) {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Subscriptions.SubscriptionsTable.blocked.subs.state'\n                    defaultMessage='Blocked'\n                />\n            );\n        } else {\n            return (\n                <FormattedMessage\n                    id='Apis.Details.Subscriptions.SubscriptionsTable.active.subs.state'\n                    defaultMessage='Active'\n                />\n            );\n        }\n    }\n\n    /**\n     * Blocks the given subscription\n     *\n     * @param {*} subscriptionId Subscription ID\n     * @memberof SubscriptionsTable\n     */\n    blockSubscription(subscriptionId) {\n        const { intl } = this.props;\n        const api = new API();\n        const promisedSubscriptionUpdate = api.blockSubscriptions(subscriptionId, subscriptionStatus.BLOCKED);\n        promisedSubscriptionUpdate\n            .then(() => {\n                Alert.success(intl.formatMessage({\n                    id: 'Apis.Details.Subscriptions.SubscriptionsTable.subscription.blocked',\n                    defaultMessage: 'Subscription was blocked.',\n                }));\n                this.fetchSubscriptionData();\n            })\n            .catch((errorResponse) => {\n                console.error(errorResponse);\n                const { message } = errorResponse.response.body;\n                const messages = defineMessages({\n                    errorMessage: {\n                        id: 'Apis.Details.Subscriptions.SubscriptionsTable.error.subscription.block',\n                        defaultMessage: 'Error: Unable to block subscription. (Reason: {message})',\n                    },\n                });\n                Alert.error(intl.formatMessage(messages.errorMessage, { message }));\n            });\n    }\n\n    /**\n     * Blocks production only for the given subscription\n     *\n     * @param {*} subscriptionId Subscription ID\n     * @memberof SubscriptionsTable\n     */\n    blockProductionOnly(subscriptionId) {\n        const { intl } = this.props;\n        const api = new API();\n        const promisedSubscriptionUpdate = api.blockSubscriptions(subscriptionId, subscriptionStatus.PROD_BLOCKED);\n        promisedSubscriptionUpdate\n            .then(() => {\n                Alert.success(intl.formatMessage({\n                    id: 'Apis.Details.Subscriptions.SubscriptionsTable.subscription.blocked.prod.only',\n                    defaultMessage: 'Subscription was blocked for production only.',\n                }));\n                this.fetchSubscriptionData();\n            })\n            .catch((errorResponse) => {\n                console.error(errorResponse);\n                const { message } = errorResponse.response.body;\n                const messages = defineMessages({\n                    errorMessage: {\n                        id: 'Apis.Details.Subscriptions.SubscriptionsTable.error.subscription.block.prod.only',\n                        defaultMessage: 'Error: Unable to block subscription. (Reason: {message})',\n                    },\n                });\n                Alert.error(intl.formatMessage(messages.errorMessage, { message }));\n            });\n    }\n\n    /**\n     * Unblocks the given subscription\n     *\n     * @param {*} subscriptionId Subscription ID\n     * @memberof SubscriptionsTable\n     */\n    unblockSubscription(subscriptionId) {\n        const { intl } = this.props;\n        const api = new API();\n        const promisedSubscriptionUpdate = api.unblockSubscriptions(subscriptionId);\n        promisedSubscriptionUpdate\n            .then(() => {\n                Alert.success(intl.formatMessage({\n                    id: 'Apis.Details.Subscriptions.SubscriptionsTable.subscription.unblocked',\n                    defaultMessage: 'Subscription was unblocked.',\n                }));\n                this.fetchSubscriptionData();\n            })\n            .catch((errorResponse) => {\n                console.error(errorResponse);\n                const { message } = errorResponse.response.body;\n                const messages = defineMessages({\n                    errorMessage: {\n                        id: 'Apis.Details.Subscriptions.SubscriptionsTable.error.subscription.unblock',\n                        defaultMessage: 'Error: Unable to unblock subscription. (Reason: {message})',\n                    },\n                });\n                Alert.error(intl.formatMessage(messages.errorMessage, { message }));\n            });\n    }\n\n    /**\n     * Fetches subscription data\n     *\n     * @memberof SubscriptionsTable\n     */\n    fetchSubscriptionData() {\n        const api = new API();\n        const { page, rowsPerPage, searchQuery } = this.state;\n        const { intl } = this.props;\n        const promisedSubscriptions = api.subscriptions(this.api.id, page * rowsPerPage, rowsPerPage, searchQuery);\n        promisedSubscriptions\n            .then((response) => {\n                this.setState({\n                    subscriptions: response.body.list,\n                    totalSubscription: response.body.pagination.total,\n                });\n                for (let i = 0; i < response.body.list.length; i++) {\n                    const { subscriptionId } = response.body.list[i];\n                    const promisedInfo = api.getSubscriberInfo(subscriptionId);\n                    promisedInfo\n                        .then((resp) => {\n                            this.setState((prevState) => ({\n                                subscriberClaims: {\n                                    ...prevState.subscriberClaims,\n                                    [subscriptionId]: resp.body,\n                                },\n                            }));\n                        })\n                        .catch((errorMessage) => {\n                            console.error(errorMessage);\n                            Alert.error(intl.formatMessage({\n                                id: 'Apis.Details.Subscriptions.SubscriptionsTable.subscriber.info.error',\n                                defaultMessage: 'Error while retrieving the subscriber information',\n                            }));\n                        });\n                }\n            })\n            .catch((errorMessage) => {\n                console.error(errorMessage);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.Subscriptions.SubscriptionsTable.subscriptions.error',\n                    defaultMessage: 'Error while retrieving the subscriptions',\n                }));\n            });\n        api.getMonetization(this.props.api.id).then((status) => {\n            this.setState({ monetizationStatus: status.enabled });\n        });\n        api.getSubscriptionPolicies(this.api.id).then((policies) => {\n            const filteredPolicies = policies.filter((policy) => policy.tierPlan === 'COMMERCIAL');\n            this.setState({ policies: filteredPolicies });\n        });\n    }\n\n    /**\n     * handleChangePage handle change in selected page\n     *\n     * @param page selected page\n     * */\n    handleChangePage(page) {\n        this.setState({ page }, this.fetchSubscriptionData);\n    }\n\n    /**\n     * Checks whether the policy is a usage based monetization plan\n     *\n     * */\n    isMonetizedPolicy(policyName) {\n        const { policies, monetizationStatus } = this.state;\n        if (policies.length > 0) {\n            const filteredPolicies = policies.filter(\n                (policy) => policy.name === policyName && policy.monetizationAttributes.pricePerRequest != null,\n            );\n            return (filteredPolicies.length > 0 && monetizationStatus);\n        } else {\n            return false;\n        }\n    }\n\n    /**\n     * handleChangeRowsPerPage handle change in rows per page\n     *\n     * @param event rows per page change event\n     * */\n    handleChangeRowsPerPage(event) {\n        this.setState({ rowsPerPage: event.target.value, page: 0 }, this.fetchSubscriptionData);\n    }\n\n    /**\n     * Filter subscriptions based on user search value\n     *\n     * @param event onChange event of user search\n     */\n    filterSubscriptions(event) {\n        this.setState({ searchQuery: event.target.value }, this.fetchSubscriptionData);\n    }\n\n    /**\n     * Render claims based on the claim object\n     */\n    renderClaims(claimsObject) {\n        const { classes } = this.props;\n        if (claimsObject) {\n            return (\n                <div className={classes.root}>\n                    <Grid container spacing={1}>\n                        <Grid item>\n                            <UserIcon color='primary' />\n                        </Grid>\n                        <Grid item>\n                            {claimsObject.name}\n                        </Grid>\n                    </Grid>\n                    {claimsObject.claims && (\n                        <div>\n                            <Table className={classes.table}>\n                                <TableBody>\n                                    {claimsObject.claims.map((claim) => (\n                                        <TableRow hover>\n                                            <TableCell>{claim.name}</TableCell>\n                                            {claim.value ? (\n                                                <TableCell>{claim.value}</TableCell>\n                                            ) : (\n                                                <TableCell>Not Available</TableCell>\n                                            )}\n                                        </TableRow>\n                                    ))}\n                                </TableBody>\n                            </Table>\n                        </div>\n                    )}\n                </div>\n            );\n        }\n        return (\n            <div>\n                <Typography className={classes.typography}>\n                    <FormattedMessage\n                        id='Apis.Details.Subscriptions.Subscriber.no.claims'\n                        defaultMessage='No subscriber claims data available'\n                    />\n                </Typography>\n            </div>\n        );\n    }\n\n\n    /**\n     *\n     */\n    render() {\n        const {\n            subscriptions, page, rowsPerPage, totalSubscription, rowsPerPageOptions, emptyColumnHeight,\n            subscriberClaims,\n        } = this.state;\n        const { classes, api } = this.props;\n        if (!subscriptions) {\n            return (\n                <Grid container direction='row' justify='center' alignItems='center'>\n                    <Grid item>\n                        <CircularProgress />\n                    </Grid>\n                </Grid>\n            );\n        }\n        const columns = [\n            {\n                name: 'subscriptionId',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                },\n            },\n            {\n                name: 'applicationInfo.applicationId',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                },\n            },\n            {\n                name: 'applicationInfo.subscriber',\n                label: (\n                    <FormattedMessage\n                        id='Apis.Details.Subscriptions.Listing.column.header.subscriber'\n                        defaultMessage='Subscriber'\n                    />\n                ),\n                options: {\n                    sort: false,\n                    customBodyRender: (value, tableMeta) => {\n                        if (tableMeta.rowData) {\n                            return (\n                                <div>\n                                    <Tooltip\n                                        interactive\n                                        placement='top'\n                                        classes={{\n                                            tooltip: classes.InfoToolTip,\n                                        }}\n                                        title={(\n                                            <>\n                                                {subscriberClaims && (\n                                                    <div>\n                                                        {this.renderClaims(subscriberClaims[tableMeta.rowData[0]])}\n                                                    </div>\n                                                )}\n                                            </>\n                                        )}\n                                    >\n                                        <Grid container direction='row' alignItems='center' spacing={1}>\n                                            <Grid item>\n                                                <Typography>\n                                                    <InfoIcon color='action' />\n                                                </Typography>\n                                            </Grid>\n                                            <Grid item>\n                                                {value}\n                                            </Grid>\n                                        </Grid>\n                                    </Tooltip>\n                                </div>\n                            );\n                        }\n                        return null;\n                    },\n                },\n            },\n            {\n                name: 'applicationInfo.name',\n                label: (\n                    <FormattedMessage\n                        id='Apis.Details.Subscriptions.Listing.column.header.application'\n                        defaultMessage='Application'\n                    />\n                ),\n                options: {\n                    sort: false,\n                },\n            },\n            {\n                name: 'applicationInfo.description',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                },\n            },\n            {\n                name: 'applicationInfo.subscriptionCount',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                },\n            },\n            {\n                name: 'throttlingPolicy',\n                label: (\n                    <FormattedMessage\n                        id='Apis.Details.Subscriptions.Listing.column.header.throttling.tier'\n                        defaultMessage='Tier'\n                    />\n                ),\n                options: {\n                    sort: false,\n                },\n            },\n            {\n                name: 'subscriptionStatus',\n                label: (\n                    <FormattedMessage\n                        id='Apis.Details.Subscriptions.Listing.column.header.subscription.status'\n                        defaultMessage='Status'\n                    />\n                ),\n                options: {\n                    sort: false,\n                },\n            },\n            {\n                name: 'actions',\n                label: (\n                    <FormattedMessage\n                        id='Apis.Details.Subscriptions.Listing.column.header.subscription.actions'\n                        defaultMessage='Actions'\n                    />\n                ),\n                options: {\n                    sort: false,\n                    customBodyRender: (value, tableMeta) => {\n                        if (tableMeta.rowData) {\n                            const status = tableMeta.rowData[7];\n                            const subscriptionId = tableMeta.rowData[0];\n                            return (\n                                <ScopeValidation\n                                    resourceMethod={resourceMethod.POST}\n                                    resourcePath={resourcePath.BLOCK_SUBSCRIPTION}\n                                >\n                                    {\n                                        this.getSubscriptionBlockingButtons(\n                                            status,\n                                            subscriptionId,\n                                        )\n                                    }\n                                </ScopeValidation>\n                            );\n                        }\n                        return null;\n                    },\n                },\n            },\n            {\n                name: 'invoice',\n                label: (\n                    <FormattedMessage\n                        id='Apis.Details.Subscriptions.Listing.column.header.subscription.invoice'\n                        defaultMessage='Invoice'\n                    />\n                ),\n                options: {\n                    sort: false,\n                    customBodyRender: (value, tableMeta) => {\n                        if (tableMeta.rowData) {\n                            const throttlingPolicy = tableMeta.rowData[6];\n                            const subscriptionId = tableMeta.rowData[0];\n                            return (\n                                <Invoice\n                                    subscriptionId={subscriptionId}\n                                    isNotAuthorized={this.isNotCreator && this.isNotPublisher}\n                                    isMonetizedUsagePolicy={\n                                        this.isMonetizedPolicy(throttlingPolicy)\n                                    }\n                                    api={api}\n                                />\n                            );\n                        }\n                        return null;\n                    },\n                },\n            },\n        ];\n\n        const options = {\n            title: false,\n            print: false,\n            download: false,\n            viewColumns: false,\n            elevation: 1,\n            customToolbar: false,\n            search: false,\n            selectableRows: 'none',\n            rowsPerPageOptions: [5, 10, 25, 50, 100],\n            customFooter: () => {\n                return (\n                    <TablePagination\n                        rowsPerPageOptions={rowsPerPageOptions}\n                        colSpan={6}\n                        count={totalSubscription}\n                        rowsPerPage={rowsPerPage}\n                        page={page}\n                        onChangePage={this.handleChangePage}\n                        onChangeRowsPerPage={this.handleChangeRowsPerPage}\n                        ActionsComponent={SubscriptionTablePagination}\n                    />\n                );\n            },\n        };\n        const subMails = {};\n        const emails = subscriberClaims && Object.entries(subscriberClaims).map(([, v]) => {\n            let email = null;\n            if (!subMails[v.name]) {\n                email = v.claims.find((claim) => claim.URI === 'http://wso2.org/claims/emailaddress').value;\n                subMails[v.name] = email;\n            }\n            return email;\n        }).reduce((a, b) => {\n            return b !== null ? `${a || ''},${b}` : a;\n        });\n        let names = null;\n        if (subMails) {\n            Object.entries(subMails).map(([k, v]) => {\n                if (v) {\n                    if (names === null) {\n                        names = k;\n                    } else {\n                        names = `${names}, ${k}`;\n                    }\n                }\n                return null;\n            });\n        }\n        const Tip = names ? React.Fragment : Tooltip;\n        return (\n            <>\n                <div className={classes.heading}>\n                    <Typography variant='h4'>\n                        <FormattedMessage\n                            id='Apis.Details.Subscriptions.SubscriptionsTable.manage.subscriptions'\n                            defaultMessage='Manage Subscriptions'\n                        />\n                        {'   '}\n                        {subscriptions.length > 0 && (\n                            <Tip title='No contact details' placement='top'>\n                                <span>\n                                    <Button\n                                        target='_blank'\n                                        rel='noopener'\n                                        href={`mailto:?subject=Message from the API Publisher&cc=${emails}`\n                                            + `&body=Hi ${names},`}\n                                        size='small'\n                                        disabled={!names}\n                                        variant='outlined'\n                                    >\n                                        Contact Subscribers\n                                    </Button>\n                                </span>\n                            </Tip>\n                        )}\n                    </Typography>\n                    <Typography variant='caption' gutterBottom>\n                        <FormattedMessage\n                            id='Apis.Details.Subscriptions.SubscriptionsTable.sub.heading'\n                            defaultMessage='Manage subscriptions of the API'\n                        />\n                    </Typography>\n                </div>\n                <Paper elevation={0}>\n                    {subscriptions.length > 0 ? (\n                        <div>\n                            <MUIDataTable title='' data={subscriptions} columns={columns} options={options} />\n                        </div>\n                    )\n                        : (\n                            <div className={classes.noDataMessage} style={{ height: rowsPerPage * emptyColumnHeight }}>\n                                <FormattedMessage\n                                    id='Apis.Details.Subscriptions.SubscriptionsTable.no.subscriptions'\n                                    defaultMessage='No subscriptions data available'\n                                />\n                            </div>\n                        )}\n                </Paper>\n            </>\n        );\n    }\n}\n\nSubscriptionsTable.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({\n        id: PropTypes.string,\n    }).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(SubscriptionsTable));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { Component } from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Typography from '@material-ui/core/Typography';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Paper from '@material-ui/core/Paper';\nimport API from 'AppData/api';\nimport { isRestricted } from 'AppData/AuthManager';\n\nconst styles = (theme) => ({\n    subscriptionPoliciesPaper: {\n        marginTop: theme.spacing(2),\n        padding: theme.spacing(2),\n    },\n    grid: {\n        margin: theme.spacing(1.25),\n    },\n    gridLabel: {\n        marginTop: theme.spacing(1.5),\n    },\n    mainTitle: {\n        paddingLeft: 0,\n    },\n});\n\n/**\n * Manage subscription policies of the API\n * */\nclass SubscriptionPoliciesManage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            subscriptionPolicies: {},\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidMount() {\n        API.policies('subscription')\n            .then((res) => {\n                this.setState({ subscriptionPolicies: res.body.list });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n            });\n    }\n\n    /**\n     * Handle onChange of selected subsription policies\n     *\n     * @param event onChange event\n     */\n    handleChange(event) {\n        const { name, checked } = event.target;\n        const { setPolices, policies } = this.props;\n        let newSelectedPolicies = [...policies];\n        if (checked) {\n            newSelectedPolicies.push(name);\n        } else {\n            newSelectedPolicies = policies.filter((policy) => policy !== name);\n        }\n        setPolices(newSelectedPolicies);\n    }\n\n    render() {\n        const { classes, api, policies } = this.props;\n        const { subscriptionPolicies } = this.state;\n\n        return (\n            <>\n                <Typography variant='h4'>\n                    <FormattedMessage\n                        id='Apis.Details.Subscriptions.SubscriptionPoliciesManage.business.plans'\n                        defaultMessage='Business Plans'\n                    />\n                </Typography>\n                {api.apiType === API.CONSTS.APIProduct\n                    ? (\n                        <Typography variant='caption' gutterBottom>\n                            <FormattedMessage\n                                id='Apis.Details.Subscriptions.SubscriptionPoliciesManage.APIProduct.sub.heading'\n                                defaultMessage='Attach business plans to API'\n                            />\n                        </Typography>\n                    )\n                    : (\n                        <Typography variant='caption' gutterBottom>\n                            <FormattedMessage\n                                id='Apis.Details.Subscriptions.SubscriptionPoliciesManage.sub.heading'\n                                defaultMessage='Attach business plans to API'\n                            />\n                        </Typography>\n                    )}\n                <Paper className={classes.subscriptionPoliciesPaper}>\n                    <FormControl className={classes.formControl}>\n                        <FormGroup>\n                            { subscriptionPolicies && Object.entries(subscriptionPolicies).map((value) => (\n                                <FormControlLabel\n                                    key={value[1].name}\n                                    control={(\n                                        <Checkbox\n                                            disabled={isRestricted(['apim:api_publish', 'apim:api_create'], api)}\n                                            color='primary'\n                                            checked={policies.includes(value[1].name)}\n                                            onChange={(e) => this.handleChange(e)}\n                                            name={value[1].name}\n                                        />\n                                    )}\n                                    label={value[1].name + ' : ' + value[1].description}\n                                />\n                            ))}\n                        </FormGroup>\n                    </FormControl>\n                </Paper>\n            </>\n        );\n    }\n}\n\nSubscriptionPoliciesManage.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n    api: PropTypes.shape({ policies: PropTypes.array }).isRequired,\n    setPolices: PropTypes.func.isRequired,\n    policies: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(SubscriptionPoliciesManage));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport deburr from 'lodash/deburr';\nimport Downshift from 'downshift';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Chip from '@material-ui/core/Chip';\nimport API from 'AppData/api';\nimport CONSTS from 'AppData/Constants';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        height: 250,\n    },\n    container: {\n        flexGrow: 1,\n        position: 'relative',\n    },\n    paper: {\n        position: 'absolute',\n        zIndex: 1,\n        marginTop: theme.spacing(1),\n        left: 0,\n        right: 0,\n    },\n    chip: {\n        margin: theme.spacing(0.5, 0.25),\n    },\n    inputRoot: {\n        flexWrap: 'wrap',\n    },\n    inputInput: {\n        width: 'auto',\n        flexGrow: 1,\n    },\n    divider: {\n        height: theme.spacing(2),\n    },\n}));\n\n/**\n * Renders the input component\n */\nfunction renderInput(inputProps) {\n    const {\n        InputProps, classes, ref, ...other\n    } = inputProps;\n\n    return (\n        <TextField\n            InputProps={{\n                inputRef: ref,\n                classes: {\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                },\n                ...InputProps,\n            }}\n            {...other}\n        />\n    );\n}\n\nrenderInput.propTypes = {\n    classes: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n    }).isRequired,\n    InputProps: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n    }).isRequired,\n};\n\n/**\n * Renders the suggestion component\n */\nfunction renderSuggestion(suggestionProps) {\n    const {\n        suggestion, index, itemProps, highlightedIndex, tenantList,\n    } = suggestionProps;\n    const isHighlighted = highlightedIndex === index;\n    const isSelected = (tenantList || '').indexOf(suggestion) > -1;\n\n    return (\n        <MenuItem\n            {...itemProps}\n            key={suggestion}\n            selected={isHighlighted}\n            component='div'\n            style={{\n                fontWeight: isSelected ? 500 : 400,\n            }}\n        >\n            {suggestion}\n        </MenuItem>\n    );\n}\n\nrenderSuggestion.propTypes = {\n    highlightedIndex: PropTypes.oneOfType([PropTypes.oneOf([null]), PropTypes.number]).isRequired,\n    index: PropTypes.number.isRequired,\n    itemProps: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n    }).isRequired,\n    tenantList: PropTypes.shape([]).isRequired,\n    suggestion: PropTypes.string.isRequired,\n};\n\n/**\n * Gets suggestion list\n */\nfunction getSuggestions(value, suggestions, { showEmpty = false } = {}) {\n    const inputValue = deburr(value.trim()).toLowerCase();\n    const inputLength = inputValue.length;\n    let count = 0;\n\n    return inputLength === 0 && !showEmpty\n        ? []\n        : suggestions.filter((suggestion) => {\n            const keep = count < 15 && suggestion.slice(0, inputLength).toLowerCase() === inputValue;\n            if (keep) {\n                count += 1;\n            }\n            return keep;\n        });\n}\n\n/**\n * Downshift selection component\n */\nfunction DownshiftMultiple(props) {\n    const { tenantList, setTenantList } = props;\n    const { classes, suggestions } = props;\n    const [inputValue, setInputValue] = React.useState('');\n\n    function handleKeyDown(event) {\n        if (tenantList.length && !inputValue.length && event.key === 'Backspace') {\n            setTenantList(tenantList.slice(0, tenantList.length - 1));\n        }\n    }\n\n    function handleInputChange(event) {\n        setInputValue(event.target.value);\n    }\n\n    function handleChange(item) {\n        let newSelectedItem = [...tenantList];\n        if (newSelectedItem.indexOf(item) === -1) {\n            newSelectedItem = [...newSelectedItem, item];\n        }\n        setInputValue('');\n        setTenantList(newSelectedItem);\n    }\n\n    const handleDelete = (item) => () => {\n        const newSelectedItem = [...tenantList];\n        newSelectedItem.splice(newSelectedItem.indexOf(item), 1);\n        setTenantList(newSelectedItem);\n    };\n\n\n    return (\n        <Downshift\n            id='downshift-multiple'\n            inputValue={inputValue}\n            onChange={handleChange}\n            tenantList={tenantList}\n        >\n            {({\n                getInputProps,\n                getItemProps,\n                getLabelProps,\n                isOpen,\n                inputValue: inputValue2,\n                tenantList: tenantList2,\n                highlightedIndex,\n            }) => {\n                const {\n                    onBlur, onChange, onFocus, ...inputProps\n                } = getInputProps({\n                    onKeyDown: handleKeyDown,\n                    placeholder: 'Type and select tenants from the suggested list',\n                });\n\n                return (\n                    <div className={classes.container}>\n                        {renderInput({\n                            fullWidth: true,\n                            classes,\n                            label: 'Tenants',\n                            InputLabelProps: getLabelProps(),\n                            InputProps: {\n                                startAdornment: tenantList.map((item) => (\n                                    <Chip\n                                        key={item}\n                                        tabIndex={-1}\n                                        label={item}\n                                        className={classes.chip}\n                                        onDelete={handleDelete(item)}\n                                    />\n                                )),\n                                onBlur,\n                                onChange: (event) => {\n                                    handleInputChange(event);\n                                    onChange(event);\n                                },\n                                onFocus,\n                            },\n                            inputProps,\n                        })}\n\n                        {isOpen ? (\n                            <Paper className={classes.paper} square>\n                                {getSuggestions(inputValue2, suggestions).map((suggestion, index) => renderSuggestion({\n                                    suggestion,\n                                    index,\n                                    itemProps: getItemProps({ item: suggestion }),\n                                    highlightedIndex,\n                                    tenantList: tenantList2,\n                                }))}\n                            </Paper>\n                        ) : null}\n                    </div>\n                );\n            }}\n        </Downshift>\n    );\n}\n\nDownshiftMultiple.propTypes = {\n    classes: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n    }).isRequired,\n    setTenantList: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n    }).isRequired,\n    suggestions: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n    }).isRequired,\n    api: PropTypes.shape({\n        policies: PropTypes.array,\n    }).isRequired,\n    tenantList: PropTypes.shape([]).isRequired,\n};\n\n/**\n * Gets tenant list in order to populate suggestions list\n */\nexport default function IntegrationDownshift(props) {\n    const classes = useStyles();\n    const [suggestions, setsuggestions] = useState({});\n    const { setTenantList, api, tenantList } = props;\n\n    const restApi = new API();\n\n    useEffect(() => {\n        restApi.getTenantsByState(CONSTS.TENANT_STATE_ACTIVE)\n            .then((result) => {\n                const tenants = result.body.list;\n                const newSuggestions = tenants.map((tenant) => { return tenant.domain; });\n                setsuggestions(newSuggestions);\n            });\n    }, []);\n\n    return (\n        <div className={classes.root}>\n            <div className={classes.divider} />\n            <DownshiftMultiple\n                classes={classes}\n                suggestions={suggestions}\n                tenantList={tenantList}\n                setTenantList={setTenantList}\n                api={api}\n            />\n            <div className={classes.divider} />\n        </div>\n    );\n}\n\nIntegrationDownshift.propTypes = {\n    setTenantList: PropTypes.shape({\n        type: PropTypes.string,\n        inputType: PropTypes.string,\n    }).isRequired,\n    api: PropTypes.shape({\n        policies: PropTypes.array,\n    }).isRequired,\n    tenantList: PropTypes.shape([]).isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport Select from '@material-ui/core/Select';\nimport TenantAutocomplete from 'AppComponents/Apis/Details/Subscriptions/TenantAutocomplete';\nimport { isRestricted } from 'AppData/AuthManager';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 400,\n    },\n    textControl: {\n        margin: theme.spacing(1),\n        minWidth: 300,\n    },\n    selectEmpty: {\n        marginTop: theme.spacing(2),\n    },\n    subscriptionAvailabilityPaper: {\n        marginTop: theme.spacing(2),\n        paddingLeft: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n    },\n    grid: {\n        display: 'flex',\n        margin: theme.spacing(1.25),\n    },\n    gridLabel: {\n        marginTop: theme.spacing(3.5),\n    },\n    saveButton: {\n        marginTop: theme.spacing(2),\n    },\n    heading: {\n        marginTop: theme.spacing(3),\n    },\n    tenantsList: {\n        height: theme.spacing(12),\n    },\n}));\n\n/**\n * Allows user to select API availability for tenants\n * @export\n * @returns {React.Component} @inheritdoc\n */\nexport default function SimpleSelect(props) {\n    const classes = useStyles();\n    const {\n        api, setAvailability, tenantList, setTenantList,\n    } = props;\n    let currentAvailability;\n    if (api.subscriptionAvailability === null || api.subscriptionAvailability === 'CURRENT_TENANT') {\n        currentAvailability = 'currentTenant';\n    } else if (api.subscriptionAvailability === 'ALL_TENANTS') {\n        currentAvailability = 'allTenants';\n    } else if (api.subscriptionAvailability === 'SPECIFIC_TENANTS') {\n        currentAvailability = 'specificTenants';\n    }\n    const [values, setValues] = React.useState({\n        availability: currentAvailability,\n    });\n    const inputLabel = React.useRef(null);\n    const [labelWidth, setLabelWidth] = React.useState(0);\n    const isSpecificTenants = values.availability === 'specificTenants';\n    const isUIElementDisabled = isRestricted(['apim:api_publish', 'apim:api_create'], api);\n\n    React.useEffect(() => {\n        setLabelWidth(inputLabel.current.offsetWidth);\n    }, []);\n\n    /**\n     * Handle onchange for the subscription availability dropdown\n     * @param {string} value the new value selected for subscription availability\n     */\n    function subscriptionAvailableTenants(value) {\n        let availabilityValue;\n\n        setValues({\n            ...values,\n            availability: value,\n        });\n\n        if (value === 'currentTenant') {\n            availabilityValue = 'CURRENT_TENANT';\n            setTenantList([]);\n        } else if (value === 'allTenants') {\n            availabilityValue = 'ALL_TENANTS';\n            setTenantList([]);\n        } else if (value === 'specificTenants') {\n            availabilityValue = 'SPECIFIC_TENANTS';\n        }\n        setAvailability({\n            subscriptionAvailability: availabilityValue,\n        });\n    }\n\n    return (\n        <Grid item xs={12} md={12} lg={12}>\n            <Typography variant='h4' className={classes.heading}>\n                <FormattedMessage\n                    id='Apis.Details.Subscriptions.SubscriptionAvailability.subscription.availability'\n                    defaultMessage='Subscription Availability'\n                />\n            </Typography>\n            <Typography variant='caption' gutterBottom>\n                <FormattedMessage\n                    id='Apis.Details.Subscriptions.SubscriptionAvailability.sub.heading'\n                    defaultMessage='Make subscriptions available to tenants'\n                />\n            </Typography>\n            <Paper className={classes.subscriptionAvailabilityPaper}>\n                <form className={classes.root} autoComplete='off' onSubmit={(e) => { e.preventDefault(); }}>\n                    <Grid container xs={12} spacing={1} className={classes.grid}>\n                        <Grid item xs={10}>\n                            <FormControl\n                                variant='outlined'\n                                className={classes.formControl}\n                                disabled={isUIElementDisabled}\n                            >\n                                <InputLabel ref={inputLabel} htmlFor='outlined-age-simple' />\n                                <Select\n                                    value={values.availability}\n                                    onChange={({ target: { value } }) => {\n                                        subscriptionAvailableTenants(value);\n                                    }}\n                                    labelWidth={labelWidth}\n                                    displayEmpty\n                                    name='availability'\n                                    inputProps={{\n                                        name: 'availability',\n                                        id: 'outlined-availabi;ity-simple',\n                                    }}\n                                >\n                                    <MenuItem value='currentTenant'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Subscriptions.SubscriptionAvailability.current.tenant.only'\n                                            defaultMessage='Available to current tenant only'\n                                        />\n                                    </MenuItem>\n                                    <MenuItem value='allTenants'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Subscriptions.SubscriptionAvailability.all.tenants'\n                                            defaultMessage='Available to all the tenants'\n                                        />\n                                    </MenuItem>\n                                    <MenuItem value='specificTenants'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Subscriptions.SubscriptionAvailability.specific.tenants'\n                                            defaultMessage='Available to specific tenants'\n                                        />\n                                    </MenuItem>\n                                </Select>\n                            </FormControl>\n                        </Grid>\n                        {isSpecificTenants ? (\n                            <Grid item xs={8} className={classes.tenantsList}>\n                                <TenantAutocomplete setTenantList={setTenantList} tenantList={tenantList} api={api} />\n                            </Grid>\n                        ) : <Grid item xs={8} />}\n                    </Grid>\n                </form>\n            </Paper>\n        </Grid>\n    );\n}\nSimpleSelect.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n    api: PropTypes.shape({ policies: PropTypes.array }).isRequired,\n    setAvailability: PropTypes.func.isRequired,\n    setTenantList: PropTypes.func.isRequired,\n    tenantList: PropTypes.shape([]).isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CircularProgress, Grid } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport API from 'AppData/api';\nimport CONSTS from 'AppData/Constants';\nimport Progress from 'AppComponents/Shared/Progress';\nimport { FormattedMessage } from 'react-intl';\nimport { useAppContext } from 'AppComponents/Shared/AppContext';\nimport SubscriptionsTable from './SubscriptionsTable';\nimport SubscriptionPoliciesManage from './SubscriptionPoliciesManage';\nimport SubscriptionAvailability from './SubscriptionAvailability';\n\nconst useStyles = makeStyles((theme) => ({\n    buttonSection: {\n        marginTop: theme.spacing(2),\n    },\n    emptyBox: {\n        marginTop: theme.spacing(2),\n    },\n}));\n\n/**\n * Subscriptions component\n *\n * @class Subscriptions\n * @extends {Component}\n */\nfunction Subscriptions(props) {\n    const classes = useStyles();\n    const [api] = useAPI();\n    const { updateAPI } = props;\n    const restApi = new API();\n    const [tenants, setTenants] = useState(null);\n    const [policies, setPolices] = useState({});\n    const [availability, setAvailability] = useState({ subscriptionAvailability: api.subscriptionAvailability });\n    const [tenantList, setTenantList] = useState(api.subscriptionAvailableTenants);\n    const [subscriptions, setSubscriptions] = useState(null);\n    const [updateInProgress, setUpdateInProgress] = useState(false);\n    const { settings } = useAppContext();\n\n    /**\n     * Save subscription information (policies, subscriptionAvailability, subscriptionAvailableTenants)\n     */\n    function saveAPI() {\n        setUpdateInProgress(true);\n        const { subscriptionAvailability } = availability;\n        const newApi = {\n            policies,\n            subscriptionAvailability,\n            subscriptionAvailableTenants: tenantList,\n        };\n        updateAPI(newApi)\n            .then(() => {\n                Alert.info('Subscription configurations updated successfully');\n            })\n            .catch((error) => {\n                console.error(error);\n                Alert.error('Error occurred while updating subscription configurations');\n            }).finally(() => {\n                setUpdateInProgress(false);\n            });\n    }\n\n    useEffect(() => {\n        restApi.getTenantsByState(CONSTS.TENANT_STATE_ACTIVE)\n            .then((result) => {\n                setTenants(result.body.count);\n            });\n        restApi.subscriptions(api.id)\n            .then((result) => {\n                setSubscriptions(result.body.count);\n            });\n        setPolices([...api.policies]);\n    }, []);\n\n    if (typeof tenants !== 'number' || typeof subscriptions !== 'number') {\n        return (\n            <Grid container direction='row' justify='center' alignItems='center'>\n                <Grid item>\n                    <CircularProgress />\n                </Grid>\n            </Grid>\n        );\n    }\n    return (\n        <>\n            <SubscriptionPoliciesManage api={api} policies={policies} setPolices={setPolices} />\n            {tenants !== 0 && settings.crossTenantSubscriptionEnabled && (\n                <SubscriptionAvailability\n                    api={api}\n                    availability={availability}\n                    setAvailability={setAvailability}\n                    tenantList={tenantList}\n                    setTenantList={setTenantList}\n                />\n            )}\n            { updateInProgress && <Progress /> }\n            <Grid\n                container\n                direction='row'\n                alignItems='flex-start'\n                spacing={1}\n                className={classes.buttonSection}\n            >\n                <Grid item>\n                    <Button\n                        type='submit'\n                        variant='contained'\n                        color='primary'\n                        onClick={() => saveAPI()}\n                    >\n                        <FormattedMessage\n                            id='Apis.Details.Subscriptions.Subscriptions.save'\n                            defaultMessage='Save'\n                        />\n                    </Button>\n                </Grid>\n                <Grid item>\n                    <Link to={'/apis/' + api.id + '/overview'}>\n                        <Button>\n                            <FormattedMessage\n                                id='Apis.Details.Subscriptions.Subscriptions.cancel'\n                                defaultMessage='Cancel'\n                            />\n                        </Button>\n                    </Link>\n                </Grid>\n            </Grid>\n            <SubscriptionsTable api={api} />\n        </>\n    );\n}\n\nSubscriptions.propTypes = {\n    updateAPI: PropTypes.func.isRequired,\n};\n\nexport default withStyles(makeStyles)(Subscriptions);\n","/*\n * Copyright (c) 2018, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { TextField, Button, Typography } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid';\nimport FormControl from '@material-ui/core/FormControl';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Alert from 'AppComponents/Shared/Alert';\nimport API from 'AppData/api';\n\nconst styles = (theme) => ({\n    commentIcon: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n    },\n    commentText: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n        paddingLeft: theme.spacing(2),\n        paddingTop: theme.spacing.unig,\n        marginTop: theme.spacing(2),\n    },\n    textField: {\n        marginTop: 0,\n        width: '88%',\n    },\n    category: {\n        width: '12%',\n    },\n});\n\n/**\n   * Display a component to add a new comment\n   * @class CommmentAdd\n   * @extends {React.Component}\n   */\nclass CommentAdd extends React.Component {\n    /**\n     * Creates an instance of CommentAdd\n     * @param {*} props properies passed by the parent element\n     * @memberof CommentAdd\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            commentText: '',\n            category: 'General',\n            currentLength: 0,\n        };\n        this.inputChange = this.inputChange.bind(this);\n        this.handleClickAddComment = this.handleClickAddComment.bind(this);\n        this.handleClickCancel = this.handleClickCancel.bind(this);\n        this.handleCategoryChange = this.handleCategoryChange.bind(this);\n        this.filterCommentToAddReply = this.filterCommentToAddReply.bind(this);\n    }\n\n    /**\n     * Handles the comment text when input changes\n     * @param {Object} {target} target element\n     * @memberof CommentAdd\n     */\n    inputChange({ target }) {\n        this.setState({ commentText: target.value, currentLength: target.value.length });\n    }\n\n    /**\n     * Hides the component to add a new comment when cancelled\n     * @memberof CommentAdd\n     */\n    handleClickCancel() {\n        const { toggleShowReply } = this.props;\n        toggleShowReply();\n    }\n\n    /**\n     * Handles category when the category is changed\n     * @param {any} event Drop down select event\n     * @memberof CommentAdd\n     */\n    handleCategoryChange(event) {\n        this.setState({ category: event.target.value });\n    }\n\n    /**\n     * Filters the comment to add the reply\n     * @memberof CommentAdd\n     */\n    filterCommentToAddReply(commentToFilter) {\n        const { parentCommentId } = this.props;\n        return commentToFilter.commentId === parentCommentId;\n    }\n\n    /**\n     * Handles adding a new comment\n     * @memberof CommentAdd\n     */\n    handleClickAddComment() {\n        const {\n            api, parentCommentId, allComments, toggleShowReply, commentsUpdate,\n        } = this.props;\n        const { category, commentText } = this.state;\n        const Api = new API();\n        const apiId = api.id;\n        const comment = {\n            apiId: api.id,\n            category,\n            commentText: commentText.trim(),\n            parentCommentId,\n        };\n\n        // to check whether a string does not contain only white spaces\n        if (comment.commentText.replace(/\\s/g, '').length) {\n            Api.addComment(apiId, comment)\n                .then((newComment) => {\n                    this.setState({ commentText: '', category: 'General' });\n                    const addedComment = newComment.body;\n                    if (parentCommentId === null) {\n                        allComments.push(addedComment);\n                    } else {\n                        const index = allComments.findIndex(this.filterCommentToAddReply);\n                        allComments[index].replies.push(addedComment);\n                        toggleShowReply();\n                    }\n                    commentsUpdate(allComments);\n                })\n                .catch((error) => {\n                    console.error(error);\n                    if (error.response) {\n                        Alert.error(error.response.body.message);\n                    } else {\n                        Alert.error('Something went wrong while adding the comment');\n                    }\n                });\n        } else {\n            Alert.error('You cannot enter a blank comment');\n        }\n        this.setState({ currentLength: 0 });\n    }\n\n    /**\n     * Render method of the component\n     * @returns {React.Component} Comment html component\n     * @memberof CommentAdd\n     */\n    render() {\n        const { classes, cancelButton, theme } = this.props;\n        const { category, commentText, currentLength } = this.state;\n        return (\n            <Grid container spacing={7} className={classes.contentWrapper}>\n\n                <Grid item xs zeroMinWidth>\n                    <FormControl className={classes.category}>\n                        <Select\n                            value={category}\n                            onChange={this.handleCategoryChange}\n                        >\n                            <MenuItem value='General'>General</MenuItem>\n                            <MenuItem value='Feature Request'>Feature Request</MenuItem>\n                            <MenuItem value='Bug Report'>Bug Report</MenuItem>\n                        </Select>\n                    </FormControl>\n                    <TextField\n                        id='standard-multiline-flexible'\n                        autoFocus\n                        multiline\n                        className={classes.textField}\n                        margin='normal'\n                        placeholder='Write a comment'\n                        inputProps={{ maxLength: theme.custom.maxCommentLength }}\n                        value={commentText}\n                        onChange={this.inputChange}\n                    />\n                    <Typography className={classes.commentText} align='right'>\n                        {currentLength + '/' + theme.custom.maxCommentLength }\n                    </Typography>\n                    <Grid container spacing={2}>\n                        <Grid item>\n                            <Button variant='contained' color='primary' onClick={() => this.handleClickAddComment()}>\n                  Add Comment\n                            </Button>\n                        </Grid>\n                        {cancelButton\n                && (\n                    <Grid item>\n                        <Button onClick={() => this.handleClickCancel()} className={classes.button}>Cancel</Button>\n                    </Grid>\n                )}\n                    </Grid>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nCommentAdd.defaultProps = {\n    api: null,\n    parentCommentId: null,\n    toggleShowReply: null,\n    commentsUpdate: null,\n};\n\nCommentAdd.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    cancelButton: PropTypes.bool.isRequired,\n    api: PropTypes.instanceOf(Object),\n    parentCommentId: PropTypes.string,\n    toggleShowReply: PropTypes.func,\n    commentsUpdate: PropTypes.func,\n    allComments: PropTypes.instanceOf(Array).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(CommentAdd);\n","/*\n * Copyright (c) 2018, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { TextField, Button, Typography } from '@material-ui/core';\nimport FormControl from '@material-ui/core/FormControl';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Grid from '@material-ui/core/Grid';\nimport Alert from 'AppComponents/Shared/Alert';\nimport API from 'AppData/api';\n\nconst styles = (theme) => ({\n    textField: {\n        marginTop: 0,\n        width: '87.5%',\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n        paddingLeft: theme.spacing(2),\n        paddingTop: theme.spacing(1),\n        marginTop: theme.spacing(2),\n    },\n    category: {\n        width: '12%',\n        marginRight: '0.5%',\n    },\n});\n\n/**\n * Display a component to edit a comment\n * @class CommmentEdit\n * @extends {React.Component}\n */\nclass CommentEdit extends React.Component {\n    /**\n     * Creates an instance of CommentEdit\n     * @param {*} props properies passed by the parent element\n     * @memberof CommentEdit\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            commentText: '',\n            category: '',\n            currentLength: 0,\n        };\n        this.inputChange = this.inputChange.bind(this);\n        this.handleCategoryChange = this.handleCategoryChange.bind(this);\n        this.handleClickUpdateComment = this.handleClickUpdateComment.bind(this);\n        this.handleClickCancel = this.handleClickCancel.bind(this);\n        this.filterCommentToUpdate = this.filterCommentToUpdate.bind(this);\n        this.filterCommentToUpdateReply = this.filterCommentToUpdateReply.bind(this);\n    }\n\n    /**\n     * @memberof Comments\n     */\n    componentDidMount() {\n        const { comment } = this.props;\n        this.setState({\n            commentText: comment.commentText,\n            category: comment.category,\n            currentLength: comment.commentText.length,\n        });\n    }\n\n    /**\n     * Handles the comment text when input changes\n     * @param {Object} {target} target element\n     * @memberof CommentEdit\n     */\n    inputChange({ target }) {\n        this.setState({ commentText: target.value, currentLength: target.value.length });\n    }\n\n    /**\n     * Hides the component to edit a comment when cancelled\n     * @memberof CommentEdit\n     */\n    handleClickCancel() {\n        const { toggleShowEdit, commentsUpdate, allComments } = this.props;\n        toggleShowEdit();\n        commentsUpdate(allComments);\n    }\n\n    /**\n     * Handles category when the category is changed\n     * @param {any} event Drop down select event\n     * @memberof CommentEdit\n     */\n    handleCategoryChange(event) {\n        this.setState({ category: event.target.value });\n    }\n\n    /**\n     * Filters the comment to update\n     * @memberof CommentAdd\n     */\n    filterCommentToUpdate(commentToFilter) {\n        const { comment } = this.props;\n        return commentToFilter.commentId === comment.commentId;\n    }\n\n    /**\n     * Filters the comment to update\n     * @memberof CommentAdd\n     */\n    filterCommentToUpdateReply(commentToFilter) {\n        const { comment } = this.props;\n        return commentToFilter.commentId === comment.parentCommentId;\n    }\n\n    /**\n     * Handles updating a comment\n     * @memberof CommentEdit\n     */\n    handleClickUpdateComment() {\n        const {\n            api, comment, allComments, toggleShowEdit, commentsUpdate,\n        } = this.props;\n        const { category, commentText } = this.state;\n        const Api = new API();\n        const apiId = api.id;\n        const commentToEdit = comment;\n        commentToEdit.commentText = commentText.trim();\n        commentToEdit.category = category;\n\n        // to check whether a string does not contain only whitehis spaces\n        if (comment.commentText.replace(/\\s/g, '').length) {\n            Api.updateComment(apiId, commentToEdit.commentId, commentToEdit)\n                .then((result) => {\n                    const updatedComment = result.body;\n                    if (commentToEdit.parentCommentId === undefined) {\n                        const index = allComments.findIndex(this.filterCommentToUpdate);\n                        allComments[index].category = updatedComment.category;\n                        allComments[index].commentText = updatedComment.commentText;\n                    } else {\n                        const index = allComments.findIndex(this.filterCommentToUpdateReply);\n                        const replyIndex = allComments[index].replies.findIndex(this.filterCommentToUpdate);\n                        allComments[index].replies[replyIndex] = updatedComment;\n                    }\n                    toggleShowEdit();\n                    commentsUpdate(allComments);\n                })\n                .catch((error) => {\n                    console.error(error);\n                    if (error.response) {\n                        Alert.error(error.response.body.message);\n                    } else {\n                        Alert.error('Something went wrong while adding the comment');\n                    }\n                });\n        } else {\n            Alert.error('You cannot enter a blank comment');\n        }\n    }\n\n    /**\n     * Render method of the component\n     * @returns {React.Component} Comment html component\n     * @memberof CommentEdit\n     */\n    render() {\n        const { classes, theme } = this.props;\n        const { category, commentText, currentLength } = this.state;\n        return (\n            <div>\n                <FormControl className={classes.category}>\n                    <Select value={category} onChange={this.handleCategoryChange}>\n                        <MenuItem value='General'>General</MenuItem>\n                        <MenuItem value='Feature Request'>Feature Request</MenuItem>\n                        <MenuItem value='Bug Report'>Bug Report</MenuItem>\n                    </Select>\n                </FormControl>\n                <TextField\n                    id='multiline-static'\n                    autoFocus\n                    multiline\n                    className={classes.textField}\n                    margin='normal'\n                    placeholder='Write a comment'\n                    inputProps={{ maxLength: theme.custom.maxCommentLength }}\n                    value={commentText}\n                    onChange={this.inputChange}\n                />\n                <Typography className={classes.commentText} align='right'>\n                    {currentLength + '/' + theme.custom.maxCommentLength}\n                </Typography>\n                <Grid container spacing={2}>\n                    <Grid item>\n                        <Button variant='contained' color='primary' onClick={() => this.handleClickUpdateComment()}>\n                            Save\n                        </Button>\n                    </Grid>\n                    <Grid item>\n                        <Button onClick={() => this.handleClickCancel()} className={classes.button}>\n                            Cancel\n                        </Button>\n                    </Grid>\n                </Grid>\n            </div>\n        );\n    }\n}\n\nCommentEdit.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    api: PropTypes.instanceOf(Object).isRequired,\n    allComments: PropTypes.instanceOf(Array).isRequired,\n    commentsUpdate: PropTypes.func.isRequired,\n    toggleShowEdit: PropTypes.func.isRequired,\n    comment: PropTypes.instanceOf(Object).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(CommentEdit);\n","/*\n * Copyright (c) 2018, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid/Grid';\nimport { Typography } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport AuthManager from 'AppData/AuthManager';\nimport VerticalDivider from 'AppComponents/Shared/VerticalDivider';\n\nconst styles = (theme) => ({\n    link: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        cursor: 'pointer',\n    },\n    time: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        marginTop: theme.spacing(0.3),\n    },\n    verticalSpace: {\n        marginTop: theme.spacing(0.2),\n    },\n    disable: {\n        color: theme.custom.disableColor,\n    },\n    commentIcon: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n    },\n    commentText: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        marginTop: theme.spacing.unig,\n        width: '100%',\n        whiteSpace: 'pre-wrap',\n        overflowWrap: 'break-word',\n    },\n    root: {\n        marginTop: theme.spacing(2.5),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n        paddingLeft: theme.spacing(2),\n        paddingTop: theme.spacing.unig,\n    },\n});\n\n/**\n * Component to display options of the comment\n * @class CommentOptions\n * @extends {React.Component}\n */\nclass CommentOptions extends React.Component {\n    /**\n     * Creates an instance of CommentAdd\n     * @param {*} props properies passed by the parent element\n     * @memberof CommentAdd\n     */\n    constructor(props) {\n        super(props);\n        this.state = {};\n        this.showAddComment = this.showAddComment.bind(this);\n        this.showEditComment = this.showEditComment.bind(this);\n        this.handleClickOpen = this.handleClickOpen.bind(this);\n    }\n\n    /**\n     * Shows the component to add a new comment\n     * @param {any} index Index of comment in the array\n     * @memberof CommentOptions\n     */\n    showAddComment(index) {\n        const { editIndex, showAddComment } = this.props;\n        if (editIndex === -1) {\n            showAddComment(index);\n        }\n    }\n\n    /**\n     * Shows the component to edit a comment\n     * @param {any} index Index of comment in the array\n     * @memberof Comment\n     */\n    showEditComment(index) {\n        const { editIndex, showEditComment } = this.props;\n        if (editIndex === -1) {\n            showEditComment(index);\n        }\n    }\n\n    /**\n     * Shows the confimation dialog to delete a comment\n     * @param {Object} comment Comment that has to be deleted\n     * @memberof Comment\n     */\n    handleClickOpen(comment) {\n        const { editIndex, handleClickOpen } = this.props;\n        if (editIndex === -1) {\n            handleClickOpen(comment);\n        }\n    }\n\n    /**\n     * Returns the date and time in a particular format\n     * @param {any} timestamp Timestamp that has to be formatted\n     * @memberof CommentOptions\n     */\n    displayDate(timestamp) {\n        const localDate = new Date(timestamp);\n        const localDateString = localDate.toLocaleDateString(undefined, {\n            day: 'numeric',\n            month: 'short',\n            year: 'numeric',\n        });\n        const localTimeString = localDate.toLocaleTimeString(undefined, {\n            hour: '2-digit',\n            minute: '2-digit',\n        });\n\n        return localDateString + ' ' + localTimeString;\n    }\n\n    /**\n     * Render method of the component\n     * @returns {React.Component} Comment html component\n     * @memberof CommentOptions\n     */\n    render() {\n        const {\n            classes, comment, editIndex, index, theme,\n        } = this.props;\n        const canDelete = (comment.createdBy === AuthManager.getUser().name)\n            || (AuthManager.getUser().name === theme.custom.adminRole);\n        const canModify = comment.createdBy === AuthManager.getUser().name && comment.entryPoint === 'APIPublisher';\n        return (\n            <Grid container spacing={2} className={classes.verticalSpace} key={comment.commentId}>\n                {comment.parentCommentId == null && [\n                    <Grid item key='key-reply'>\n                        <Typography\n                            component='a'\n                            className={editIndex === -1 ? classes.link : classes.disable}\n                            onClick={() => this.showAddComment(index)}\n                        >\n                            Reply\n                        </Typography>\n                    </Grid>,\n                    <Grid item key='key-reply-vertical-divider'>\n                        <VerticalDivider height={15} />\n                    </Grid>,\n                ]}\n\n                {/* only the comment owner or admin can delete a comment */}\n                {canDelete && [\n                    <Grid item key='key-delete'>\n                        <Typography\n                            component='a'\n                            className={editIndex === -1 ? classes.link : classes.disable}\n                            onClick={() => this.handleClickOpen(comment)}\n                        >\n                            Delete\n                        </Typography>\n                    </Grid>,\n                    <Grid item key='key-delete-vertical-divider'>\n                        <VerticalDivider height={15} />\n                    </Grid>,\n                ]}\n\n                {/* only the comment owner can modify the comment from the exact entry point */}\n                {canModify && [\n                    <Grid item key='key-edit'>\n                        <Typography\n                            component='a'\n                            className={editIndex === -1 ? classes.link : classes.disable}\n                            onClick={() => this.showEditComment(index)}\n                        >\n                            Edit\n                        </Typography>\n                    </Grid>,\n                    <Grid item key='key-edit-verical-divider'>\n                        <VerticalDivider height={15} />\n                    </Grid>,\n                ]}\n                <Grid item className={classes.time}>\n                    <Typography component='a' variant='caption'>\n                        {this.displayDate(comment.createdTime)}\n                    </Typography>\n                </Grid>\n\n                {editIndex === index\n                    ? null\n                    : [\n                        <Grid item key='key-category-vertical-divider'>\n                            <VerticalDivider height={15} />\n                        </Grid>,\n                        <Grid item className={classes.time} key='key-category'>\n                            <Typography component='a' variant='caption'>\n                                {comment.category}\n                            </Typography>\n                        </Grid>,\n                    ]}\n            </Grid>\n        );\n    }\n}\n\nCommentOptions.defaultProps = {\n    showAddComment: null,\n};\n\nCommentOptions.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    editIndex: PropTypes.number.isRequired,\n    index: PropTypes.number.isRequired,\n    comment: PropTypes.instanceOf(Object).isRequired,\n    handleClickOpen: PropTypes.func.isRequired,\n    showEditComment: PropTypes.func.isRequired,\n    showAddComment: PropTypes.func,\n    theme: PropTypes.shape({}).isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(CommentOptions);\n","/*\n * Copyright (c) 2018, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Typography } from '@material-ui/core/';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccountBox from '@material-ui/icons/AccountBox';\nimport Grid from '@material-ui/core/Grid';\nimport Alert from 'AppComponents/Shared/Alert';\nimport ConfirmDialog from 'AppComponents/Shared/ConfirmDialog';\nimport API from 'AppData/api';\nimport CommentEdit from './CommentEdit';\nimport CommentOptions from './CommentOptions';\n\nconst styles = (theme) => ({\n    link: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        cursor: 'pointer',\n    },\n    commentIcon: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n    },\n    commentText: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        marginTop: theme.spacing(1),\n        width: '100%',\n        whiteSpace: 'pre-wrap',\n        overflowWrap: 'break-word',\n    },\n    root: {\n        marginTop: theme.spacing(2.5),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n        paddingLeft: theme.spacing(2),\n        paddingTop: theme.spacing(1),\n    },\n});\n\n/**\n * Display a particular comment and details\n * @class CommentReply\n * @extends {React.Component}\n */\nclass CommentReply extends React.Component {\n    /**\n     * Creates an instance of Comment\n     * @param {*} props properies passed by the parent element\n     * @memberof CommentReply\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            openDialog: false,\n            editIndex: -1,\n            deleteComment: null,\n        };\n        this.keyCount = 0;\n        this.getKey = this.getKey.bind(this);\n        this.handleClickDeleteComment = this.handleClickDeleteComment.bind(this);\n        this.handleShowEdit = this.handleShowEdit.bind(this);\n        this.handleClickOpen = this.handleClickOpen.bind(this);\n        this.showEditComment = this.showEditComment.bind(this);\n        this.handleConfirmDialog = this.handleConfirmDialog.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.filterRemainingComments = this.filterRemainingComments.bind(this);\n        this.filterCommentToDelete = this.filterCommentToDelete.bind(this);\n    }\n\n    /**\n     * Genereates unique keys for comments\n     * @memberof Comment\n     */\n    getKey() {\n        return this.keyCount++;\n    }\n\n    /**\n     * Filters the comments to be remained\n     * @memberof CommentReply\n     */\n    filterRemainingComments(commentToFilter) {\n        const { deleteComment } = this.state;\n        return commentToFilter.commentId !== deleteComment.commentId;\n    }\n\n    /**\n     * Filters the comments to be deleted\n     * @memberof CommentReply\n     */\n    filterCommentToDelete(commentToFilter) {\n        const { deleteComment } = this.state;\n        return commentToFilter.commentId === deleteComment.parentCommentId;\n    }\n\n    /**\n     * Shows the component to edit a comment\n     * @param {any} index Index of comment in the array\n     * @memberof CommentReply\n     */\n    showEditComment(index) {\n        const { editIndex } = this.state;\n        if (editIndex === -1) {\n            this.setState({ editIndex: index });\n        }\n    }\n\n    /**\n     * Hides the component to edit a comment\n     * @param {any} index Index of comment in the array\n     * @memberof CommentReply\n     */\n    handleShowEdit() {\n        this.setState({ editIndex: -1 });\n    }\n\n    /**\n     * Shows the confimation dialog to delete a comment\n     * @param {Object} comment Comment that has to be deleted\n     * @memberof CommentReply\n     */\n    handleClickOpen(comment) {\n        const { editIndex } = this.state;\n        if (editIndex === -1) {\n            this.setState({ deleteComment: comment, openDialog: true });\n        }\n    }\n\n    /**\n     * Hides the confimation dialog to delete a comment\n     * @memberof CommentReply\n     */\n    handleClose() {\n        this.setState({ openDialog: false });\n    }\n\n    /**\n     * Handles the Confirm Dialog\n     * @param {*} bool properies passed by the Confirm Dialog\n     * @memberof CommentReply\n     */\n    handleConfirmDialog(message) {\n        if (message) {\n            this.handleClickDeleteComment();\n        } else {\n            this.handleClose();\n        }\n    }\n\n    /**\n     * Handles deleting a comment\n     * @memberof CommentReply\n     */\n    handleClickDeleteComment() {\n        const Api = new API();\n        const { deleteComment } = this.state;\n        const { api, allComments, commentsUpdate } = this.props;\n        const commentIdOfCommentToDelete = deleteComment.commentId;\n        const parentCommentIdOfCommentToDelete = deleteComment.parentCommentId;\n        const apiId = api.id;\n        this.handleClose();\n\n        Api.deleteComment(apiId, commentIdOfCommentToDelete)\n            .then(() => {\n                if (parentCommentIdOfCommentToDelete === undefined) {\n                    const remainingComments = allComments.filter(this.filterRemainingComments);\n                    commentsUpdate(remainingComments);\n                } else {\n                    const index = allComments.findIndex(this.filterCommentToDelete);\n                    const remainingReplies = allComments[index].replies.filter(this.filterRemainingComments);\n                    allComments[index].replies = remainingReplies;\n                    commentsUpdate(allComments);\n                }\n            })\n            .catch((error) => {\n                console.error(error);\n                if (error.response) {\n                    Alert.error(error.response.body.message);\n                } else {\n                    Alert.error(`Something went wrong while deleting comment - ${commentIdOfCommentToDelete}`);\n                }\n            });\n    }\n\n    /**\n     * Render method of the component\n     * @returns {React.Component} Comment html component\n     * @memberof CommentReply\n     */\n    render() {\n        const {\n            classes, comments, api, allComments, commentsUpdate,\n        } = this.props;\n        const { editIndex, openDialog } = this.state;\n        const props = { api, allComments, commentsUpdate };\n        return [\n            comments\n                && comments.map((comment, index) => (\n                    <div key={this.getKey()} className={classes.contentWrapper}>\n                        <Grid container spacing={2} className={classes.root}>\n                            <Grid item>\n                                <AccountBox className={classes.commentIcon} />\n                            </Grid>\n                            <Grid item xs zeroMinWidth>\n                                <Typography noWrap className={classes.commentText} variant='body1'>\n                                    {comment.createdBy}\n                                </Typography>\n\n                                {index !== editIndex && (\n                                    <Typography className={classes.commentText}>{comment.commentText}</Typography>\n                                )}\n\n                                {index === editIndex && (\n                                    <CommentEdit {...props} comment={comment} toggleShowEdit={this.handleShowEdit} />\n                                )}\n                                <CommentOptions\n                                    classes={classes}\n                                    comment={comment}\n                                    editIndex={editIndex}\n                                    index={index}\n                                    showAddComment={this.showAddComment}\n                                    handleClickOpen={this.handleClickOpen}\n                                    showEditComment={this.showEditComment}\n                                />\n                            </Grid>\n                        </Grid>\n                    </div>\n                )),\n            <ConfirmDialog\n                key='key-dialog'\n                labelCancel='Cancel'\n                title='Confirm Delete'\n                message='Are you sure you want to delete this comment?'\n                labelOk='Yes'\n                callback={this.handleConfirmDialog}\n                open={openDialog}\n            />,\n        ];\n    }\n}\n\nCommentReply.defaultProps = {\n    api: null,\n};\n\nCommentReply.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    api: PropTypes.instanceOf(Object),\n    allComments: PropTypes.instanceOf(Array).isRequired,\n    commentsUpdate: PropTypes.func.isRequired,\n    comments: PropTypes.instanceOf(Array).isRequired,\n};\n\nexport default withStyles(styles)(CommentReply);\n","/*\n * Copyright (c) 2018, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Typography } from '@material-ui/core/';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccountBox from '@material-ui/icons/AccountBox';\nimport Grid from '@material-ui/core/Grid';\nimport Alert from 'AppComponents/Shared/Alert';\nimport ConfirmDialog from 'AppComponents/Shared/ConfirmDialog';\nimport API from 'AppData/api';\nimport CommentAdd from './CommentAdd';\nimport CommentEdit from './CommentEdit';\nimport CommentOptions from './CommentOptions';\nimport CommentReply from './CommentReply';\n\nconst styles = (theme) => ({\n    link: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        cursor: 'pointer',\n    },\n    commentIcon: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n    },\n    commentText: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        marginTop: theme.spacing.unig,\n        width: '100%',\n        whiteSpace: 'pre-wrap',\n        overflowWrap: 'break-word',\n    },\n    root: {\n        marginTop: theme.spacing(2.5),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n        paddingLeft: theme.spacing(2),\n        paddingTop: theme.spacing(2),\n    },\n});\n\n/**\n * Display a particular comment and details\n * @class Comment\n * @extends {React.Component}\n */\nclass Comment extends React.Component {\n    /**\n     * Creates an instance of Comment\n     * @param {*} props properies passed by the parent element\n     * @memberof Comment\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            openDialog: false,\n            replyIndex: -1,\n            editIndex: -1,\n            deleteComment: null,\n        };\n        this.keyCount = 0;\n        this.getKey = this.getKey.bind(this);\n        this.handleClickDeleteComment = this.handleClickDeleteComment.bind(this);\n        this.handleShowEdit = this.handleShowEdit.bind(this);\n        this.handleShowReply = this.handleShowReply.bind(this);\n        this.handleClickOpen = this.handleClickOpen.bind(this);\n        this.showAddComment = this.showAddComment.bind(this);\n        this.showEditComment = this.showEditComment.bind(this);\n        this.handleConfirmDialog = this.handleConfirmDialog.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.filterRemainingComments = this.filterRemainingComments.bind(this);\n        this.filterCommentToDelete = this.filterCommentToDelete.bind(this);\n    }\n\n    /**\n     * Genereates unique keys for comments\n     * @memberof Comment\n     */\n    getKey() {\n        return this.keyCount++;\n    }\n\n    /**\n     * Filters the comments to be remained\n     * @memberof Comment\n     */\n    filterRemainingComments(commentToFilter) {\n        const { deleteComment } = this.state;\n        return commentToFilter.commentId !== deleteComment.commentId;\n    }\n\n    /**\n     * Filters the comments to be deleted\n     * @memberof Comment\n     */\n    filterCommentToDelete(commentToFilter) {\n        const { deleteComment } = this.state;\n        return commentToFilter.commentId === deleteComment.parentCommentId;\n    }\n\n    /**\n     * Shows the component to add a new comment\n     * @param {any} index Index of comment in the array\n     * @memberof Comment\n     */\n    showAddComment(index) {\n        const { editIndex } = this.state;\n        if (editIndex === -1) {\n            this.setState({ replyIndex: index });\n        }\n    }\n\n    /**\n     * Shows the component to edit a comment\n     * @param {any} index Index of comment in the array\n     * @memberof Comment\n     */\n    showEditComment(index) {\n        const { editIndex } = this.state;\n        if (editIndex === -1) {\n            this.setState({ editIndex: index });\n        }\n    }\n\n    /**\n     * Hides the component to edit a comment\n     * @param {any} index Index of comment in the array\n     * @memberof Comment\n     */\n    handleShowEdit() {\n        this.setState({ editIndex: -1 });\n    }\n\n    /**\n     * Hides the component to add a new comment\n     * @param {any} index Index of comment in the array\n     * @memberof Comment\n     */\n    handleShowReply() {\n        this.setState({ replyIndex: -1 });\n    }\n\n    /**\n     * Shows the confimation dialog to delete a comment\n     * @param {Object} comment Comment that has to be deleted\n     * @memberof Comment\n     */\n    handleClickOpen(comment) {\n        const { editIndex } = this.state;\n        if (editIndex === -1) {\n            this.setState({ deleteComment: comment, openDialog: true });\n        }\n    }\n\n    /**\n     * Hides the confimation dialog to delete a comment\n     * @memberof Comment\n     */\n    handleClose() {\n        this.setState({ openDialog: false });\n    }\n\n    /**\n     * Handles the Confirm Dialog\n     * @param {*} bool properies passed by the Confirm Dialog\n     * @memberof Comment\n     */\n    handleConfirmDialog(message) {\n        if (message) {\n            this.handleClickDeleteComment();\n        } else {\n            this.handleClose();\n        }\n    }\n\n    /**\n     * Handles deleting a comment\n     * @memberof Comment\n     */\n    handleClickDeleteComment() {\n        const Api = new API();\n        const { deleteComment } = this.state;\n        const { api, allComments, commentsUpdate } = this.props;\n        const commentIdOfCommentToDelete = deleteComment.commentId;\n        const parentCommentIdOfCommentToDelete = deleteComment.parentCommentId;\n        const apiId = api.id;\n        this.handleClose();\n\n        Api.deleteComment(apiId, commentIdOfCommentToDelete)\n            .then(() => {\n                if (parentCommentIdOfCommentToDelete === undefined) {\n                    const remainingComments = allComments.filter(this.filterRemainingComments);\n                    commentsUpdate(remainingComments);\n                } else {\n                    const index = allComments.findIndex(this.filterCommentToDelete);\n                    const remainingReplies = allComments[index].replies.filter(this.filterRemainingComments);\n                    allComments[index].replies = remainingReplies;\n                    commentsUpdate(allComments);\n                }\n            })\n            .catch((error) => {\n                console.error(error);\n                if (error.response) {\n                    Alert.error(error.response.body.message);\n                } else {\n                    Alert.error(`Something went wrong while deleting comment - ${commentIdOfCommentToDelete}`);\n                }\n            });\n    }\n\n    /**\n     * Render method of the component\n     * @returns {React.Component} Comment html component\n     * @memberof Comment\n     */\n    render() {\n        const {\n            classes, comments, api, allComments, commentsUpdate,\n        } = this.props;\n        const { editIndex, replyIndex, openDialog } = this.state;\n        const props = { api, allComments, commentsUpdate };\n        return [\n            comments\n                && comments\n                    .slice(0)\n                    .reverse()\n                    .map((comment, index) => (\n                        <div key={this.getKey()} className={classes.contentWrapper}>\n                            <Grid container spacing={2} className={classes.root}>\n                                <Grid item>\n                                    <AccountBox className={classes.commentIcon} />\n                                </Grid>\n                                <Grid item xs zeroMinWidth>\n                                    <Typography noWrap className={classes.commentText} variant='body1'>\n                                        {comment.createdBy}\n                                    </Typography>\n\n                                    {index !== editIndex && (\n                                        <Typography className={classes.commentText}>{comment.commentText}</Typography>\n                                    )}\n\n                                    {index === editIndex && (\n                                        <CommentEdit\n                                            {...props}\n                                            comment={comment}\n                                            toggleShowEdit={this.handleShowEdit}\n                                        />\n                                    )}\n\n                                    <CommentOptions\n                                        classes={classes}\n                                        comment={comment}\n                                        editIndex={editIndex}\n                                        index={index}\n                                        showAddComment={this.showAddComment}\n                                        handleClickOpen={this.handleClickOpen}\n                                        showEditComment={this.showEditComment}\n                                    />\n\n                                    {index === replyIndex && (\n                                        <CommentAdd\n                                            {...props}\n                                            parentCommentId={comment.commentId}\n                                            toggleShowReply={this.handleShowReply}\n                                            cancelButton\n                                        />\n                                    )}\n                                    {comment.replies.length !== 0 && (\n                                        <CommentReply {...props} classes={classes} comments={comment.replies} />\n                                    )}\n                                </Grid>\n                            </Grid>\n                        </div>\n                    )),\n            <ConfirmDialog\n                key='key-dialog'\n                labelCancel='Cancel'\n                title='Confirm Delete'\n                message='Are you sure you want to delete this comment?'\n                labelOk='Yes'\n                callback={this.handleConfirmDialog}\n                open={openDialog}\n            />,\n        ];\n    }\n}\n\nComment.defaultProps = {\n    api: null,\n};\n\nComment.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    api: PropTypes.instanceOf(Object),\n    allComments: PropTypes.instanceOf(Array).isRequired,\n    commentsUpdate: PropTypes.func.isRequired,\n    comments: PropTypes.instanceOf(Array).isRequired,\n};\n\nexport default withStyles(styles)(Comment);\n","/*\n * Copyright (c) 2018, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Collapse from '@material-ui/core/Collapse';\nimport ArrowDropDownCircleOutlined from '@material-ui/icons/ArrowDropDownCircleOutlined';\nimport ArrowDropDown from '@material-ui/icons/ArrowDropDown';\nimport { Typography } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid/Grid';\nimport Alert from 'AppComponents/Shared/Alert';\nimport API from 'AppData/api';\nimport Comment from './Comment';\nimport CommentAdd from './CommentAdd';\n\nconst styles = (theme) => ({\n    root: {\n        display: 'flex',\n        alignItems: 'center',\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n        paddingLeft: theme.spacing(2),\n        paddingTop: theme.spacing.unig,\n    },\n    titleSub: {\n        cursor: 'pointer',\n    },\n    link: {\n        color: theme.palette.getContrastText(theme.palette.background.default),\n        cursor: 'pointer',\n    },\n    verticalSpace: {\n        marginTop: theme.spacing(0.2),\n    },\n    loadMoreLink: {\n        textDecoration: 'underline',\n    },\n});\n\n/**\n * Display a comment list\n * @class Comments\n * @extends {React.Component}\n */\nclass Comments extends Component {\n    /**\n     * Creates an instance of Comments\n     * @param {*} props properies passed by the parent element\n     * @memberof Comments\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            expanded: true,\n            allComments: [],\n            comments: [],\n            totalComments: 0,\n            startCommentsToDisplay: 0,\n        };\n        this.updateCommentList = this.updateCommentList.bind(this);\n        this.handleExpandClick = this.handleExpandClick.bind(this);\n        this.handleLoadMoreComments = this.handleLoadMoreComments.bind(this);\n    }\n\n    /**\n     * Gets all the comments for a particular API, when component mounts\n     * @memberof Comments\n     */\n    componentDidMount() {\n        const { api, theme } = this.props;\n        const Api = new API();\n        Api.getAllComments(api.id)\n            .then((result) => {\n                const commentList = result.body.list;\n                this.setState({ allComments: commentList, totalComments: commentList.length });\n                if (commentList.length < theme.custom.commentsLimit) {\n                    this.setState({ startCommentsToDisplay: 0, comments: commentList.slice(0, commentList.length) });\n                } else {\n                    this.setState({\n                        startCommentsToDisplay: commentList.length - theme.custom.commentsLimit,\n                        comments: commentList.slice(\n                            commentList.length - theme.custom.commentsLimit,\n                            commentList.length,\n                        ),\n                    });\n                }\n            })\n            .catch((error) => {\n                console.error(error);\n                if (error.response) {\n                    Alert.error(error.response.body.message);\n                } else {\n                    Alert.error('Something went wrong while retrieving comments');\n                }\n            });\n    }\n\n    /**\n     * Handles loading the previous comments\n     * @memberof Comments\n     */\n    handleLoadMoreComments() {\n        const { totalComments, startCommentsToDisplay, allComments } = this.state;\n        const { theme } = this.props;\n        if (startCommentsToDisplay - theme.custom.commentsLimit <= 0) {\n            this.setState({ startCommentsToDisplay: 0, comments: allComments.slice(0, totalComments) });\n        } else {\n            this.setState({\n                startCommentsToDisplay: startCommentsToDisplay - theme.custom.commentsLimit,\n                comments: allComments.slice(startCommentsToDisplay - theme.custom.commentsLimit, totalComments),\n            });\n        }\n    }\n\n    /**\n     * Handles expanding the comment section\n     * @memberof Comments\n     */\n    handleExpandClick() {\n        const { expanded } = this.state;\n        this.setState({ expanded: !expanded });\n    }\n\n    /**\n     * Updates the comment list, This is passed through props to child component\n     * @param {any} comments Updated comment list\n     * @memberof Comments\n     */\n    updateCommentList(comments) {\n        const { startCommentsToDisplay, totalComments } = this.state;\n        const { theme } = this.props;\n        let newStart;\n        let difference;\n        let newTotal;\n        this.setState({ allComments: comments });\n        if (totalComments < theme.custom.commentsLimit) {\n            newTotal = comments.length;\n            this.setState({ startCommentsToDisplay: 0, totalComments: newTotal, comments });\n        } else if (totalComments <= comments.length) {\n            difference = comments.length - totalComments;\n            newStart = startCommentsToDisplay + difference;\n            newTotal = comments.length;\n            this.setState({\n                startCommentsToDisplay: newStart,\n                totalComments: newTotal,\n                comments: comments.slice(newStart, newTotal),\n            });\n        } else {\n            difference = totalComments - comments.length;\n            if (startCommentsToDisplay === 0) {\n                newStart = startCommentsToDisplay;\n            } else {\n                newStart = startCommentsToDisplay - difference;\n            }\n            newTotal = comments.length;\n            this.setState({\n                startCommentsToDisplay: newStart,\n                totalComments: newTotal,\n                comments: comments.slice(newStart, newTotal),\n            });\n        }\n    }\n\n    /**\n     * Render method of the component\n     * @returns {React.Component} Comment html component\n     * @memberof Comments\n     */\n    render() {\n        const { classes, api } = this.props;\n        const {\n            comments, expanded, allComments, startCommentsToDisplay, totalComments,\n        } = this.state;\n        return (\n            <div className={classes.contentWrapper}>\n                <div className={classes.root}>\n                    <ArrowDropDownCircleOutlined onClick={this.handleExpandClick} aria-expanded={expanded} />\n                    <Typography onClick={this.handleExpandClick} variant='h4' className={classes.titleSub}>\n                        Comments\n                    </Typography>\n                </div>\n                <Collapse in={expanded} timeout='auto' unmountOnExit>\n                    <CommentAdd\n                        api={api}\n                        commentsUpdate={this.updateCommentList}\n                        allComments={allComments}\n                        parentCommentId={null}\n                        cancelButton={false}\n                    />\n                    <Comment\n                        comments={comments}\n                        api={api}\n                        commentsUpdate={this.updateCommentList}\n                        allComments={allComments}\n                    />\n                    {startCommentsToDisplay !== 0 && (\n                        <div className={classes.contentWrapper}>\n                            <Grid container spacing={8} className={classes.root}>\n                                <Grid item>\n                                    <Typography\n                                        className={classes.verticalSpace}\n                                        variant='body1'\n                                        onClick={this.handleLoadMoreComments}\n                                    >\n                                        <a className={classes.link + ' ' + classes.loadMoreLink}>\n                                            Load Previous Comments\n                                        </a>\n                                    </Typography>\n                                </Grid>\n                                <Grid>\n                                    <ArrowDropDown\n                                        onClick={this.handleLoadMoreComments}\n                                        className={classes.link + ' ' + classes.verticalSpace}\n                                    />\n                                </Grid>\n                                <Grid item>\n                                    <Typography className={classes.verticalSpace} variant='body1'>\n                                        Showing comments\n                                        {totalComments + -startCommentsToDisplay + ' of ' + totalComments}\n                                    </Typography>\n                                </Grid>\n                            </Grid>\n                        </div>\n                    )}\n                </Collapse>\n            </div>\n        );\n    }\n}\n\nComments.propTypes = {\n    classes: PropTypes.instanceOf(Object).isRequired,\n    api: PropTypes.instanceOf(Object).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(Comments);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Grid from '@material-ui/core/Grid';\nimport ChipInput from 'material-ui-chip-input';\nimport APIValidation from 'AppData/APIValidation';\nimport base64url from 'base64url';\nimport Error from '@material-ui/icons/Error';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Chip from '@material-ui/core/Chip';\nimport Icon from '@material-ui/core/Icon';\nimport Paper from '@material-ui/core/Paper';\nimport { red } from '@material-ui/core/colors/';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Api from 'AppData/api';\nimport { isRestricted } from 'AppData/AuthManager';\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1,\n        marginTop: 10,\n        display: 'flex',\n        flexDirection: 'column',\n        padding: 20,\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: theme.spacing(3),\n    },\n    titleLink: {\n        color: theme.palette.primary.main,\n        marginRight: theme.spacing(1),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    mainTitle: {\n        paddingLeft: 0,\n    },\n    FormControl: {\n        padding: `0 0 0 ${theme.spacing(1)}px`,\n        width: '100%',\n        marginTop: 0,\n    },\n    FormControlOdd: {\n        padding: `0 0 0 ${theme.spacing(1)}px`,\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        marginTop: 0,\n    },\n    FormControlLabel: {\n        marginBottom: theme.spacing(1),\n        marginTop: theme.spacing(1),\n        fontSize: theme.typography.caption.fontSize,\n    },\n    buttonSection: {\n        paddingTop: theme.spacing(3),\n    },\n    saveButton: {\n        marginRight: theme.spacing(1),\n    },\n    helpText: {\n        color: theme.palette.text.hint,\n        marginTop: theme.spacing(1),\n    },\n    extraPadding: {\n        paddingLeft: theme.spacing(2),\n    },\n    addNewOther: {\n        paddingTop: 40,\n    },\n    titleGrid: {\n        ' & .MuiGrid-item': {\n            padding: 0,\n            margin: 0,\n        },\n    },\n    descriptionForm: {\n        marginTop: theme.spacing(1),\n    },\n    progress: {\n        marginLeft: theme.spacing(1),\n    },\n});\n\n/**\n * Create new scopes for an API\n * @class CreateScope\n * @extends {Component}\n */\nclass CreateScope extends React.Component {\n    constructor(props) {\n        super(props);\n        this.api = new Api();\n        this.api_uuid = props.match.params.api_uuid;\n        const valid = [];\n        valid.name = {\n            invalid: false,\n            error: '',\n        };\n        valid.description = {\n            invalid: false,\n            error: '',\n        };\n        this.state = {\n            apiScopes: null,\n            apiScope: {},\n            validRoles: [],\n            valid,\n            roleValidity: true,\n            invalidRoles: [],\n            scopeAddDisabled: false,\n        };\n        this.addScope = this.addScope.bind(this);\n        this.validateScopeName = this.validateScopeName.bind(this);\n        this.handleScopeNameInput = this.handleScopeNameInput.bind(this);\n        this.validateScopeDescription = this.validateScopeDescription.bind(this);\n        this.handleRoleAddition = this.handleRoleAddition.bind(this);\n        this.handleRoleDeletion = this.handleRoleDeletion.bind(this);\n    }\n\n\n    handleRoleDeletion = (role) => {\n        const { validRoles, invalidRoles } = this.state;\n        if (invalidRoles.includes(role)) {\n            const invalidRolesArray = invalidRoles.filter((existingRole) => existingRole !== role);\n            this.setState({ invalidRoles: invalidRolesArray });\n            if (invalidRolesArray.length === 0) {\n                this.setState({ roleValidity: true });\n            }\n        } else {\n            this.setState({ validRoles: validRoles.filter((existingRole) => existingRole !== role) });\n        }\n    };\n\n    handleRoleAddition(role) {\n        const { validRoles, invalidRoles } = this.state;\n        const promise = APIValidation.role.validate(base64url.encode(role));\n        promise\n            .then(() => {\n                this.setState({\n                    roleValidity: true,\n                    validRoles: [...validRoles, role],\n                });\n            })\n            .catch((error) => {\n                if (error.status === 404) {\n                    this.setState({\n                        roleValidity: false,\n                        invalidRoles: [...invalidRoles, role],\n                    });\n                } else {\n                    Alert.error('Error when validating role: ' + role);\n                    console.error('Error when validating role ' + error);\n                }\n            });\n    }\n\n    validateScopeDescription({ target: { id, value } }) {\n        const { valid, apiScope } = this.state;\n        const { intl } = this.props;\n        apiScope[id] = value;\n        if (value && value.length !== '' && value.length >= 512) {\n            valid[id].invalid = true;\n            valid[id].error = intl.formatMessage({\n                id: 'Scopes.Create.Scope.description.length.exceeded',\n                defaultMessage: 'Exceeds maximum length limit of 512 characters',\n            });\n        } else {\n            valid[id].invalid = false;\n            valid[id].error = '';\n        }\n        this.setState({\n            valid,\n            apiScope,\n        });\n    }\n\n    validateScopeName(id, value) {\n        const { valid, apiScope } = this.state;\n        const {\n            api: { scopes },\n        } = this.props;\n        const { intl } = this.props;\n        apiScope[id] = value;\n        valid[id].invalid = !(value && value.length > 0);\n        // length validation\n        if (valid[id].invalid) {\n            valid[id].error = 'Scope name cannot be empty';\n        }\n        valid[id].invalid = !(value && value.length <= 60);\n        if (valid[id].invalid) {\n            valid[id].error = intl.formatMessage({\n                id: 'Scopes.Create.Scope.name.length.exceeded',\n                defaultMessage: 'Exceeds maximum length limit of 60 characters',\n            });\n        }\n\n        if (/\\s/.test(value)) {\n            valid[id].invalid = true;\n            valid[id].error = 'Scope name cannot have spaces';\n        }\n\n        const exist = scopes.find((scope) => {\n            return scope.name === value;\n        });\n        if (!valid[id].invalid && exist) {\n            valid[id].invalid = true;\n            valid[id].error = 'Scope name already exist';\n        }\n        if (!valid[id].invalid && /[!@#$%^&*(),?\"{}[\\]|<>\\t\\n]|(^apim:)/i.test(value)) {\n            valid[id].invalid = true;\n            valid[id].error = 'Field contains special characters';\n        }\n        if (!valid[id].invalid) {\n            const promise = APIValidation.scope.validate(base64url.encode(value));\n            promise\n                .then(() => {\n                    valid[id].invalid = true;\n                    valid[id].error = 'Scope name is already used by another API';\n                    this.setState({\n                        valid,\n                    });\n                })\n                .catch((error) => {\n                    if (error.status === 404) {\n                        valid[id].invalid = false;\n                        valid[id].error = '';\n                        this.setState({\n                            valid,\n                        });\n                    } else {\n                        Alert.error('Error when validating scope: ' + value);\n                        console.error('Error when validating scope ' + error);\n                    }\n                });\n        }\n        if (!valid[id].invalid) {\n            valid[id].error = '';\n        }\n        this.setState({\n            valid,\n            apiScope,\n        });\n        return valid[id].invalid;\n    }\n\n    /**\n     * Add new scope\n     * @memberof Scopes\n     */\n    addScope() {\n        const {\n            intl, api, history, updateAPI,\n        } = this.props;\n        const urlPrefix = api.apiType === 'APIProduct' ? 'api-products' : 'apis';\n        if (this.validateScopeName('name', this.state.apiScope.name)) {\n            // return status of the validation\n            return;\n        }\n        const scope = this.state.apiScope;\n        scope.bindings = this.state.validRoles;\n        const scopes = api.scopes.map((aScope) => {\n            return aScope;\n        });\n        scopes.push({\n            scope,\n            shared: false,\n        });\n        const updateProperties = { scopes };\n        const promisedApiUpdate = updateAPI(updateProperties);\n        this.setState({ scopeAddDisabled: true });\n        promisedApiUpdate\n            .then(() => {\n                Alert.info(intl.formatMessage({\n                    id: 'Apis.Details.Scopes.CreateScope.scope.added.successfully',\n                    defaultMessage: 'Scope added successfully',\n                }));\n                const { apiScopes } = this.state;\n                const redirectURL = '/' + urlPrefix + '/' + api.id + '/scopes/';\n                history.push(redirectURL);\n                this.setState({\n                    apiScopes,\n                    apiScope: {},\n                    validRoles: [],\n                });\n            })\n            .catch((error) => {\n                const { response } = error;\n                if (response.body) {\n                    const { description } = response.body;\n                    Alert.error(description);\n                }\n            })\n            .finally(() => {\n                this.setState({ scopeAddDisabled: false });\n            });\n    }\n\n    handleScopeNameInput({ target: { id, value } }) {\n        this.validateScopeName(id, value);\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof CreateScope\n     */\n    render() {\n        const { classes, api } = this.props;\n        const urlPrefix = api.apiType === 'APIProduct' ? 'api-products' : 'apis';\n        const url = `/${urlPrefix}/${api.id}/scopes`;\n        const {\n            roleValidity, validRoles, invalidRoles, scopeAddDisabled,\n        } = this.state;\n\n        return (\n            <Grid container spacing={3}>\n                <Grid item sm={12} md={12} />\n                {/*\n            Following two grids control the placement of whole create page\n            For centering the content better use `container` props, but instead used an empty grid item for flexibility\n             */}\n                <Grid item sm={0} md={0} lg={2} />\n                <Grid item sm={12} md={12} lg={8}>\n                    <Grid container spacing={5} className={classes.titleGrid}>\n                        <Grid item md={12}>\n                            <div className={classes.titleWrapper}>\n                                <Link to={url} className={classes.titleLink}>\n                                    <Typography variant='h4'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Scopes.Scopes.heading.scope.heading'\n                                            defaultMessage='Scopes'\n                                        />\n                                    </Typography>\n                                </Link>\n                                <Icon>keyboard_arrow_right</Icon>\n                                <Typography variant='h4'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Scopes.CreateScope.create.new.scope'\n                                        defaultMessage='Create New Scope'\n                                    />\n                                </Typography>\n                            </div>\n                        </Grid>\n                        <Grid item md={12}>\n                            <Paper elevation={0} className={classes.root}>\n                                <FormControl margin='normal'>\n                                    <TextField\n                                        id='name'\n                                        label='Name'\n                                        placeholder='Scope Name'\n                                        error={this.state.valid.name.invalid}\n                                        helperText={\n                                            this.state.valid.name.invalid ? (\n                                                this.state.valid.name.error\n                                            ) : (\n                                                <FormattedMessage\n                                                    id='Apis.Details.Scopes.CreateScope.short.description.name'\n                                                    defaultMessage='Enter Scope Name ( E.g.,: creator )'\n                                                />\n                                            )\n                                        }\n                                        fullWidth\n                                        margin='normal'\n                                        variant='outlined'\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        value={this.state.apiScope.name || ''}\n                                        onChange={this.handleScopeNameInput}\n                                    />\n                                </FormControl>\n                                <FormControl margin='normal' classes={{ root: classes.descriptionForm }}>\n                                    <TextField\n                                        id='description'\n                                        label='Description'\n                                        variant='outlined'\n                                        placeholder='Short description about the scope'\n                                        error={this.state.valid.description.invalid}\n                                        helperText={\n                                            this.state.valid.description.invalid ? (\n                                                this.state.valid.description.error\n                                            ) : (\n                                                <FormattedMessage\n                                                    id='Apis.Details.Scopes.CreateScope.description.about.the.scope'\n                                                    defaultMessage='Short description about the scope'\n                                                />\n                                            )\n                                        }\n                                        margin='normal'\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        onChange={this.validateScopeDescription}\n                                        value={this.state.apiScope.description || ''}\n                                        multiline\n                                    />\n                                </FormControl>\n                                <FormControl margin='normal'>\n                                    <ChipInput\n                                        label='Roles'\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant='outlined'\n                                        value={validRoles.concat(invalidRoles)}\n                                        alwaysShowPlaceholder={false}\n                                        placeholder='Enter roles and press Enter'\n                                        blurBehavior='clear'\n                                        InputProps={{\n                                            endAdornment: !roleValidity && (\n                                                <InputAdornment position='end'>\n                                                    <Error color='error' />\n                                                </InputAdornment>\n                                            ),\n                                        }}\n                                        onAdd={this.handleRoleAddition}\n                                        error={!roleValidity}\n                                        helperText={\n                                            !roleValidity ? (\n                                                <FormattedMessage\n                                                    id='Apis.Details.Scopes.Roles.Invalid'\n                                                    defaultMessage='Role is invalid'\n                                                />\n                                            ) : (\n                                                <FormattedMessage\n                                                    id='Apis.Details.Scopes.CreateScope.roles.help'\n                                                    defaultMessage='Enter a valid role and press `Enter`.'\n                                                />\n                                            )\n                                        }\n                                        chipRenderer={({ value }, key) => (\n                                            <Chip\n                                                key={key}\n                                                label={value}\n                                                onDelete={() => {\n                                                    this.handleRoleDeletion(value);\n                                                }}\n                                                style={{\n                                                    backgroundColor: invalidRoles.includes(value) ? red[300] : null,\n                                                    margin: '8px 8px 8px 0',\n                                                    float: 'left',\n                                                }}\n                                            />\n                                        )}\n                                    />\n                                </FormControl>\n                                <div className={classes.addNewOther}>\n                                    <Button\n                                        variant='contained'\n                                        color='primary'\n                                        onClick={this.addScope}\n                                        disabled={\n                                            isRestricted(['apim:api_create'], api)\n                                            || this.state.valid.name.invalid\n                                            || invalidRoles.length !== 0\n                                            || scopeAddDisabled\n                                            || this.state.valid.description.invalid\n                                        }\n                                        className={classes.saveButton}\n                                    >\n                                        {scopeAddDisabled ? (\n                                            <>\n                                                <FormattedMessage\n                                                    id='Apis.Details.Scopes.CreateScope.saving'\n                                                    defaultMessage='Saving'\n                                                />\n                                                <CircularProgress size={16} classes={{ root: classes.progress }} />\n                                            </>\n                                        ) : (\n                                            <FormattedMessage\n                                                id='Apis.Details.Scopes.CreateScope.save'\n                                                defaultMessage='Save'\n                                            />\n                                        )}\n                                    </Button>\n                                    <Link to={url}>\n                                        <Button>\n                                            <FormattedMessage\n                                                id='Apis.Details.Scopes.CreateScope.cancel'\n                                                defaultMessage='Cancel'\n                                            />\n                                        </Button>\n                                    </Link>\n                                </div>\n                            </Paper>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nCreateScope.propTypes = {\n    match: PropTypes.shape({\n        params: PropTypes.object,\n    }),\n    api: PropTypes.shape({\n        id: PropTypes.string,\n    }).isRequired,\n    history: PropTypes.shape({ push: PropTypes.func }).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n    updateAPI: PropTypes.func.isRequired,\n};\n\nCreateScope.defaultProps = {\n    match: { params: {} },\n};\n\nexport default injectIntl(withStyles(styles)(CreateScope));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Paper from '@material-ui/core/Paper';\nimport FormControl from '@material-ui/core/FormControl';\nimport ChipInput from 'material-ui-chip-input';\nimport APIValidation from 'AppData/APIValidation';\nimport Chip from '@material-ui/core/Chip';\nimport { red } from '@material-ui/core/colors/';\nimport Icon from '@material-ui/core/Icon';\nimport base64url from 'base64url';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Error from '@material-ui/core/SvgIcon/SvgIcon';\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1,\n        marginTop: 10,\n        display: 'flex',\n        flexDirection: 'column',\n        padding: 20,\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: theme.spacing(3),\n    },\n    titleLink: {\n        color: theme.palette.primary.main,\n        marginRight: theme.spacing(1),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    mainTitle: {\n        paddingLeft: 0,\n    },\n    FormControl: {\n        padding: `0 0 0 ${theme.spacing(1)}px`,\n        width: '100%',\n        marginTop: 0,\n    },\n    FormControlOdd: {\n        padding: `0 0 0 ${theme.spacing(1)}px`,\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        marginTop: 0,\n    },\n    FormControlLabel: {\n        marginBottom: theme.spacing(1),\n        marginTop: theme.spacing(1),\n        fontSize: theme.typography.caption.fontSize,\n    },\n    buttonSection: {\n        paddingTop: theme.spacing(3),\n    },\n    saveButton: {\n        marginRight: theme.spacing(2),\n    },\n    helpText: {\n        color: theme.palette.text.hint,\n        marginTop: theme.spacing(1),\n    },\n    extraPadding: {\n        paddingLeft: theme.spacing(2),\n    },\n    addNewOther: {\n        paddingTop: 40,\n    },\n    titleGrid: {\n        ' & .MuiGrid-item': {\n            padding: 0,\n            margin: 0,\n        },\n    },\n});\n\n/**\n * Create new scopes for an API\n * @class CreateScope\n * @extends {Component}\n */\nclass EditScope extends React.Component {\n    constructor(props) {\n        super(props);\n        // this.api = new Api();\n        this.api_uuid = props.match.params.api_uuid;\n        const { api, location } = this.props;\n        const thisScope = api.scopes.find((apiScope) => {\n            return apiScope.scope.name === location.state.scopeName;\n        });\n        this.state = {\n            apiScope: { ...thisScope },\n            validRoles: thisScope.scope.bindings,\n            invalidRoles: [],\n            roleValidity: true,\n        };\n        this.updateScope = this.updateScope.bind(this);\n        this.handleInputs = this.handleInputs.bind(this);\n        this.handleRoleDeletion = this.handleRoleDeletion.bind(this);\n        this.handleRoleAddition = this.handleRoleAddition.bind(this);\n        this.validateScopeDescription = this.validateScopeDescription.bind(this);\n    }\n\n\n    handleRoleDeletion = (role) => {\n        const { validRoles, invalidRoles } = this.state;\n        if (invalidRoles.includes(role)) {\n            const invalidRolesArray = invalidRoles.filter((existingRole) => existingRole !== role);\n            this.setState({ invalidRoles: invalidRolesArray });\n            if (invalidRolesArray.length === 0) {\n                this.setState({ roleValidity: true });\n            }\n        } else {\n            this.setState({ validRoles: validRoles.filter((existingRole) => existingRole !== role) });\n        }\n    };\n\n    /**\n     * Handle api scope addition event\n     * @param {any} event Button Click event\n     * @memberof Scopes\n     */\n    handleInputs(event) {\n        if (Array.isArray(event)) {\n            const { apiScope } = this.state;\n            apiScope.scope.bindings = event;\n            this.setState({\n                apiScope,\n            });\n        } else {\n            const input = event.target;\n            const { apiScope } = this.state;\n            apiScope[input.id] = input.value;\n            this.setState({\n                apiScope,\n            });\n        }\n    }\n\n    /**\n     * Add new scope\n     * @memberof Scopes\n     */\n    updateScope() {\n        const { apiScope, validRoles } = this.state;\n        const {\n            intl, api, history, updateAPI,\n        } = this.props;\n        const originalScope = apiScope.scope;\n        apiScope.scope = {\n            id: originalScope.id,\n            name: originalScope.name,\n            description: originalScope.description,\n            bindings: validRoles,\n        };\n        const urlPrefix = api.apiType === 'APIProduct' ? 'api-products' : 'apis';\n        const scopes = api.scopes.map((scopeObj) => {\n            if (scopeObj.scope.name === apiScope.scope.name) {\n                return apiScope;\n            } else {\n                return scopeObj;\n            }\n        });\n        const updateProperties = { scopes };\n        const promisedApiUpdate = updateAPI(updateProperties);\n        promisedApiUpdate.then(() => {\n            Alert.info(intl.formatMessage({\n                id: 'Apis.Details.Scopes.CreateScope.scope.updated.successfully',\n                defaultMessage: 'Scope updated successfully',\n            }));\n            const redirectURL = '/' + urlPrefix + '/' + api.id + '/scopes/';\n            history.push(redirectURL);\n        });\n        promisedApiUpdate.catch((error) => {\n            const { response } = error;\n            if (response.body) {\n                const { description } = response.body;\n                Alert.error(description);\n            }\n        });\n    }\n\n    handleRoleAddition(role) {\n        const { validRoles, invalidRoles } = this.state;\n        const promise = APIValidation.role.validate(base64url.encode(role));\n        promise\n            .then(() => {\n                this.setState({\n                    roleValidity: true,\n                    validRoles: [...validRoles, role],\n                });\n            })\n            .catch((error) => {\n                if (error.status === 404) {\n                    this.setState({\n                        roleValidity: false,\n                        invalidRoles: [...invalidRoles, role],\n                    });\n                } else {\n                    Alert.error('Error when validating role: ' + role);\n                    console.error('Error when validating role ' + error);\n                }\n            });\n    }\n\n    validateScopeDescription({ target: { value } }) {\n        const { apiScope } = this.state;\n        const originalScope = apiScope.scope;\n        apiScope.scope = {\n            id: originalScope.id,\n            name: originalScope.name,\n            description: value,\n            bindings: originalScope.bindings,\n        };\n        this.setState({\n            apiScope,\n        });\n    }\n\n    render() {\n        const { classes, api, isAPIProduct } = this.props;\n        const {\n            apiScope, roleValidity, validRoles, invalidRoles,\n        } = this.state;\n        const urlPrefix = isAPIProduct ? 'api-products' : 'apis';\n        const url = `/${urlPrefix}/${api.id}/scopes`;\n        return (\n            <Grid container spacing={3}>\n                <Grid item sm={12} md={12} />\n                {/*\n            Following two grids control the placement of whole create page\n            For centering the content better use `container` props, but instead used an empty grid item for flexibility\n             */}\n                <Grid item sm={0} md={0} lg={2} />\n                <Grid item sm={12} md={12} lg={8}>\n                    <Grid container spacing={5} className={classes.titleGrid}>\n                        <Grid item md={12}>\n                            <div className={classes.titleWrapper}>\n                                <Link to={url} className={classes.titleLink}>\n                                    <Typography variant='h4'>\n                                        <FormattedMessage\n                                            id='Apis.Details.Scopes.Scopes.heading.scope.heading'\n                                            defaultMessage='Scopes'\n                                        />\n                                    </Typography>\n                                </Link>\n                                <Icon>keyboard_arrow_right</Icon>\n                                <Typography variant='h4'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Scopes.EditScope.update.scope'\n                                        defaultMessage='Update Scope'\n                                    />\n                                </Typography>\n                            </div>\n                        </Grid>\n                        <Grid item md={12}>\n                            <Paper elevation={0} className={classes.root}>\n                                <FormControl margin='normal'>\n                                    <TextField\n                                        id='name'\n                                        label='Name'\n                                        fullWidth\n                                        margin='normal'\n                                        variant='outlined'\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        value={apiScope.scope.name}\n                                        onChange={this.handleScopeNameInput}\n                                        disabled\n                                    />\n                                </FormControl>\n                                <FormControl margin='normal'>\n                                    <TextField\n                                        id='description'\n                                        label='Description'\n                                        variant='outlined'\n                                        placeholder='Short description about the scope'\n                                        helperText={(\n                                            <FormattedMessage\n                                                id='Apis.Details.Scopes.EditScope.short.description.about.the.scope'\n                                                defaultMessage='Short description about the scope'\n                                            />\n                                        )}\n                                        margin='normal'\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        onChange={this.validateScopeDescription}\n                                        value={apiScope.scope.description || ''}\n                                        multiline\n                                    />\n                                </FormControl>\n                                <FormControl margin='normal'>\n                                    <ChipInput\n                                        label='Roles'\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        variant='outlined'\n                                        value={validRoles.concat(invalidRoles)}\n                                        alwaysShowPlaceholder={false}\n                                        placeholder='Enter roles and press Enter'\n                                        blurBehavior='clear'\n                                        InputProps={{\n                                            endAdornment: !roleValidity && (\n                                                <InputAdornment position='end'>\n                                                    <Error color='error' />\n                                                </InputAdornment>\n                                            ),\n                                        }}\n                                        onAdd={this.handleRoleAddition}\n                                        error={!roleValidity}\n                                        helperText={\n                                            !roleValidity ? (\n                                                <FormattedMessage\n                                                    id='Apis.Details.EditScopes.Roles.Invalid'\n                                                    defaultMessage='Role is invalid'\n                                                />\n                                            ) : (\n                                                <FormattedMessage\n                                                    id='Apis.Details.Scopes.EditScopes.roles.help'\n                                                    defaultMessage='Enter a valid role and press `Enter`.'\n                                                />\n                                            )\n                                        }\n                                        chipRenderer={({ value }, key) => (\n                                            <Chip\n                                                key={key}\n                                                label={value}\n                                                onDelete={() => {\n                                                    this.handleRoleDeletion(value);\n                                                }}\n                                                style={{\n                                                    backgroundColor: invalidRoles.includes(value) ? red[300] : null,\n                                                    margin: '8px 8px 8px 0',\n                                                    float: 'left',\n                                                }}\n                                            />\n                                        )}\n                                    />\n                                </FormControl>\n                                <div className={classes.addNewOther}>\n                                    <Button\n                                        variant='contained'\n                                        color='primary'\n                                        onClick={this.updateScope}\n                                        disabled={invalidRoles.length !== 0}\n                                        className={classes.saveButton}\n                                    >\n                                        <FormattedMessage\n                                            id='Apis.Details.Scopes.EditScope.update'\n                                            defaultMessage='Update'\n                                        />\n                                    </Button>\n                                    <Link to={url}>\n                                        <Button variant='contained'>\n                                            <FormattedMessage\n                                                id='Apis.Details.Scopes.EditScope.cancel'\n                                                defaultMessage='Cancel'\n                                            />\n                                        </Button>\n                                    </Link>\n                                </div>\n                            </Paper>\n                        </Grid>\n                    </Grid>\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nEditScope.propTypes = {\n    match: PropTypes.shape({\n        params: PropTypes.object,\n    }),\n    api: PropTypes.shape({\n        id: PropTypes.string,\n    }).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n    location: PropTypes.shape({\n        state: PropTypes.shape({\n            scopeName: PropTypes.string,\n        }),\n    }).isRequired,\n    history: PropTypes.shape({ push: PropTypes.func }).isRequired,\n    isAPIProduct: PropTypes.bool.isRequired,\n    updateAPI: PropTypes.func.isRequired,\n};\n\nEditScope.defaultProps = {\n    match: { params: {} },\n};\n\nexport default injectIntl(withRouter(withStyles(styles)(EditScope)));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState } from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Icon from '@material-ui/core/Icon';\nimport Alert from 'AppComponents/Shared/Alert';\nimport ConfirmDialog from 'AppComponents/Shared/ConfirmDialog';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst styles = {\n    appBar: {\n        position: 'relative',\n    },\n    flex: {\n        flex: 1,\n    },\n    popupHeader: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    splitWrapper: {\n        padding: 0,\n    },\n    docName: {\n        alignItems: 'center',\n        display: 'flex',\n    },\n    button: {\n        height: 30,\n        marginLeft: 30,\n    },\n};\n\nfunction Delete(props) {\n    const [api, updateAPI] = useAPI();\n    const { intl } = props;\n    const [open, setOpen] = useState(false);\n    const toggleOpen = () => {\n        setOpen(!open);\n    };\n    const deleteScope = () => {\n        const { scopeName } = props;\n        const ops = api.operations && JSON.parse(JSON.stringify(api.operations));\n        const operations = ops && ops.map((op) => {\n            // eslint-disable-next-line no-param-reassign\n            op.scopes = op.scopes.filter((scope) => {\n                return scope !== scopeName;\n            });\n            return op;\n        });\n        const scopes = api.scopes.filter((apiScope) => {\n            return apiScope.scope.name !== scopeName;\n        });\n        const updateProperties = { scopes, operations };\n        const setOpenLocal = setOpen; // Need to copy this to access inside the promise.then\n        const promisedUpdate = updateAPI(updateProperties);\n        promisedUpdate\n            .then(() => {\n                Alert.info(intl.formatMessage({\n                    id: 'Apis.Details.Resources.Resources.api.scope.deleted.successfully',\n                    defaultMessage: 'API Scope deleted successfully!',\n                }));\n                setOpenLocal(!open);\n            })\n            .catch((errorResponse) => {\n                console.error(errorResponse);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.Resources.Resources.something.went.wrong.while.updating.the.api',\n                    defaultMessage: 'Error occurred while updating API',\n                }));\n            });\n    };\n\n    const runAction = (confirm) => {\n        if (confirm) {\n            deleteScope();\n        } else {\n            setOpen(!open);\n        }\n    };\n    const { scopeName } = props;\n\n    return (\n        <div>\n            <Button onClick={toggleOpen} disabled={isRestricted(['apim:api_create'], api)}>\n                <Icon>delete_forever</Icon>\n                <FormattedMessage\n                    id='Apis.Details.Documents.Delete.document.delete'\n                    defaultMessage='Delete'\n                />\n            </Button>\n            <ConfirmDialog\n                key='key-dialog'\n                labelCancel={(\n                    <FormattedMessage\n                        id='Apis.Details.Documents.Delete.document.listing.label.cancel'\n                        defaultMessage='Cancel'\n                    />\n                )}\n                title={(\n                    <FormattedMessage\n                        id='Apis.Details.Documents.Delete.document.listing.delete.confirm'\n                        defaultMessage='Confirm Delete'\n                    />\n                )}\n                message={(\n                    <FormattedMessage\n                        id='Apis.Details.Documents.Delete.document.listing.label.ok.confirm'\n                        defaultMessage='Are you sure you want to delete scope {scope} ?'\n                        values={{ scope: scopeName }}\n                    />\n                )}\n                labelOk={(\n                    <FormattedMessage\n                        id='Apis.Details.Documents.Delete.document.listing.label.ok.yes'\n                        defaultMessage='Yes'\n                    />\n                )}\n                callback={runAction}\n                open={open}\n            />\n        </div>\n    );\n}\nDelete.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    scopeName: PropTypes.string.isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\nexport default injectIntl(withStyles(styles)(Delete));\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport 'react-tagsinput/react-tagsinput.css';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Api from 'AppData/api';\nimport { Progress } from 'AppComponents/Shared';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Button from '@material-ui/core/Button';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { Link } from 'react-router-dom';\nimport { List, ListItem, ListItemText } from '@material-ui/core';\nimport AddCircle from '@material-ui/icons/AddCircle';\nimport MUIDataTable from 'mui-datatables';\nimport Icon from '@material-ui/core/Icon';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport Grid from '@material-ui/core/Grid';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport Delete from './Delete';\n\nconst styles = (theme) => ({\n    root: {\n        paddingTop: 0,\n        paddingLeft: 0,\n    },\n    buttonProgress: {\n        position: 'relative',\n        margin: theme.spacing(1),\n    },\n    headline: { paddingTop: theme.spacing(1.25), paddingLeft: theme.spacing(2.5) },\n    heading: {\n        flexGrow: 1,\n        marginTop: 10,\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        marginBottom: theme.spacing(2),\n    },\n    mainTitle: {\n        paddingLeft: 0,\n    },\n    button: {\n        textDecoration: 'none',\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n        marginLeft: theme.spacing(1),\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n    content: {\n        margin: `${theme.spacing(2)}px 0 ${theme.spacing(2)}px 0`,\n    },\n    head: {\n        fontWeight: 200,\n    },\n});\n/**\n * Generate the scopes UI in API details page.\n * @class Scopes\n * @extends {React.Component}\n */\nclass Scopes extends React.Component {\n    /**\n     * Creates an instance of Scopes.\n     * @param {any} props Generic props\n     * @memberof Scopes\n     */\n    constructor(props) {\n        super(props);\n        this.api = new Api();\n        this.api_uuid = props.match.params.api_uuid;\n        this.api_data = props.api;\n    }\n\n    /**\n     * Render Scopes section\n     * @returns {React.Component} React Component\n     * @memberof Scopes\n     */\n    render() {\n        const {\n            intl, classes, api,\n        } = this.props;\n        const urlPrefix = (api.apiType === 'APIProduct') ? 'api-products' : 'apis';\n        const { scopes } = api;\n        const url = `/${urlPrefix}/${api.id}/scopes/create`;\n        const editUrl = `/${urlPrefix}/${api.id}/scopes/edit`;\n        const columns = [\n            intl.formatMessage({\n                id: 'Apis.Details.Scopes.Scopes.table.header.name',\n                defaultMessage: 'Name',\n            }),\n            intl.formatMessage({\n                id: 'Apis.Details.Scopes.Scopes.table.header.description',\n                defaultMessage: 'Description',\n            }),\n            {\n                options: {\n                    customBodyRender: (value, tableMeta) => {\n                        if (tableMeta.rowData) {\n                            const roles = value || [];\n                            return roles.join(',');\n                        }\n                        return false;\n                    },\n                    filter: false,\n                    sort: false,\n                    label: (\n                        <FormattedMessage\n                            id='Apis.Details.Scopes.Scopes.table.header.roles'\n                            defaultMessage='Roles'\n                        />\n                    ),\n                },\n            },\n            {\n                options: {\n                    customBodyRender: (value, tableMeta) => {\n                        if (value && tableMeta.rowData) {\n                            return (\n                                <List component='nav' className={classes.root}>\n                                    {value.map((resource) => (\n                                        <ListItem button>\n                                            <ListItemText primary={resource} />\n                                        </ListItem>\n                                    ))}\n                                </List>\n                            );\n                        }\n                        return false;\n                    },\n                    filter: false,\n                    sort: false,\n                    label: (\n                        <FormattedMessage\n                            id='Apis.Details.Scopes.Scopes.table.header.usages'\n                            defaultMessage='Used In'\n                        />\n                    ),\n                },\n            },\n            {\n                options: {\n                    customBodyRender: (value, tableMeta) => {\n                        if (tableMeta.rowData) {\n                            const scopeName = tableMeta.rowData[0];\n                            return (\n                                <table className={classes.actionTable}>\n                                    <tr>\n                                        <td>\n                                            <Link\n                                                to={\n                                                    !isRestricted(['apim:api_create'], api) && {\n                                                        pathname: editUrl,\n                                                        state: {\n                                                            scopeName,\n                                                        },\n                                                    }\n                                                }\n                                            >\n                                                <Button\n                                                    disabled={isRestricted(\n                                                        ['apim:api_create'],\n                                                        api,\n                                                    )}\n                                                >\n                                                    <Icon>edit</Icon>\n                                                    <FormattedMessage\n                                                        id='Apis.Details.Documents.Edit.documents.text.editor.edit'\n                                                        defaultMessage='Edit'\n                                                    />\n                                                </Button>\n                                            </Link>\n                                        </td>\n                                        <td>\n                                            <Delete scopeName={scopeName} api={api} isAPIProduct />\n                                        </td>\n                                    </tr>\n                                </table>\n                            );\n                        }\n                        return false;\n                    },\n                    filter: false,\n                    sort: false,\n                    label: (\n                        <FormattedMessage\n                            id='Apis.Details.Scopes.Scopes.table.header.actions'\n                            defaultMessage='Actions'\n                        />\n                    ),\n                },\n            },\n        ];\n        const options = {\n            filterType: 'multiselect',\n            selectableRows: false,\n            title: false,\n            filter: false,\n            sort: false,\n            print: false,\n            download: false,\n            viewColumns: false,\n            customToolbar: false,\n        };\n        const scopesList = api.scopes.filter((apiScope) => {\n            return !apiScope.shared;\n        }).map((apiScope) => {\n            const aScope = [];\n            aScope.push(apiScope.scope.name);\n            aScope.push(apiScope.scope.description);\n            aScope.push(apiScope.scope.bindings);\n            const resources = api.operations && api.operations\n                .filter((op) => {\n                    return op.scopes.includes(apiScope.scope.name);\n                })\n                .map((op) => {\n                    return op.target + ' ' + op.verb;\n                });\n            aScope.push(resources);\n            return aScope;\n        });\n\n        if (!scopes) {\n            return <Progress />;\n        }\n\n        if (scopes.length === 0) {\n            return (\n                <div className={classes.root}>\n                    <div className={classes.titleWrapper}>\n                        <Typography variant='h4' align='left' className={classes.mainTitle}>\n                            <FormattedMessage\n                                id='Apis.Details.Scopes.Scopes.heading.scope.heading'\n                                defaultMessage='Local Scopes'\n                            />\n                        </Typography>\n                        <Tooltip\n                            title={(\n                                <FormattedMessage\n                                    id='Apis.Details.Scopes.Scopes.heading.scope.title.tooltip'\n                                    defaultMessage='Manage scopes that are local to this API'\n                                />\n                            )}\n                            placement='top-end'\n                            aria-label='Local Scopes'\n                        >\n                            <IconButton size='small' aria-label='delete'>\n                                <HelpOutlineIcon fontSize='small' />\n                            </IconButton>\n                        </Tooltip>\n                    </div>\n                    <InlineMessage type='info' height={140}>\n                        <div className={classes.contentWrapper}>\n                            <Typography variant='h5' component='h3' className={classes.head}>\n                                <FormattedMessage\n                                    id='Apis.Details.Scopes.Scopes.create.scopes.title'\n                                    defaultMessage='Create API Local Scopes'\n                                />\n                            </Typography>\n                            <Typography component='p' className={classes.content}>\n                                <FormattedMessage\n                                    id='Apis.Details.Scopes.Scopes.scopes.enable.fine.gained.access.control'\n                                    defaultMessage={\n                                        'Scopes enable fine-grained access control to API resources'\n                                        + ' based on user roles.'\n                                    }\n                                />\n                            </Typography>\n                            <div className={classes.actions}>\n                                <Link to={!isRestricted(['apim:api_create'], api) && url}>\n                                    <Button\n                                        variant='contained'\n                                        color='primary'\n                                        className={classes.button}\n                                        disabled={isRestricted(['apim:api_create'], api)}\n                                    >\n                                        <FormattedMessage\n                                            id='Apis.Details.Scopes.Scopes.create.scopes.button'\n                                            defaultMessage='Create Scopes'\n                                        />\n                                    </Button>\n                                </Link>\n                            </div>\n                        </div>\n                    </InlineMessage>\n                </div>\n            );\n        }\n\n        return (\n            <div className={classes.heading}>\n                <div className={classes.titleWrapper}>\n                    <Typography variant='h4' align='left' className={classes.mainTitle}>\n                        <FormattedMessage\n                            id='Apis.Details.Scopes.Scopes.heading.scope.heading'\n                            defaultMessage='Local Scopes'\n                        />\n                    </Typography>\n                    <Tooltip\n                        title={(\n                            <FormattedMessage\n                                id='Apis.Details.Scopes.Scopes.heading.scope.title.tooltip2'\n                                defaultMessage='Manage scopes that are local to this API'\n                            />\n                        )}\n                        placement='top-end'\n                        aria-label='Local Scopes'\n                    >\n                        <IconButton size='small' aria-label='delete'>\n                            <HelpOutlineIcon fontSize='small' />\n                        </IconButton>\n                    </Tooltip>\n                    <Link to={!isRestricted(['apim:api_create'], api) && url}>\n                        <Button\n                            size='small'\n                            className={classes.button}\n                            disabled={isRestricted(['apim:api_create'], api)}\n                        >\n                            <AddCircle className={classes.buttonIcon} />\n                            <FormattedMessage\n                                id='Apis.Details.Scopes.Scopes.heading.scope.add_new'\n                                defaultMessage='Add New Local Scope'\n                            />\n                        </Button>\n                    </Link>\n                    {isRestricted(['apim:api_create'], api) && (\n                        <Grid item>\n                            <Typography variant='body2' color='primary'>\n                                <FormattedMessage\n                                    id='Apis.Details.Scopes.Scopes.update.not.allowed'\n                                    defaultMessage={\n                                        '*You are not authorized to update scopes of'\n                                        + ' the API due to insufficient permissions'\n                                    }\n                                />\n                            </Typography>\n                        </Grid>\n                    )}\n                </div>\n\n                <MUIDataTable title={false} data={scopesList} columns={columns} options={options} />\n            </div>\n        );\n    }\n}\n\nScopes.propTypes = {\n    match: PropTypes.shape({\n        params: PropTypes.object,\n    }),\n    api: PropTypes.instanceOf(Object).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n};\n\nScopes.defaultProps = {\n    match: { params: {} },\n};\n\nexport default injectIntl(withAPI(withStyles(styles)(Scopes)));\n","/*\n * Copyright (c) 2018, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport CreateScope from './CreateScope';\nimport EditScope from './EditScope';\nimport Scopes from './Scopes';\n\nconst Scope = () => {\n    const [api, updateAPI] = useAPI();\n    const urlPrefix = api.isAPIProduct() ? 'api-products' : 'apis';\n    return (\n        <Switch>\n            <Route exact path={'/' + urlPrefix + '/:api_uuid/scopes/'} component={Scopes} />\n            <Route\n                exact\n                path={'/' + urlPrefix + '/:api_uuid/scopes/create'}\n                component={(props) => <CreateScope api={api} {...props} updateAPI={updateAPI} />}\n            />\n            <Route\n                exact\n                path={'/' + urlPrefix + '/:api_uuid/scopes/edit'}\n                component={(props) => <EditScope api={api} {...props} updateAPI={updateAPI} />}\n            />\n            <Route component={ResourceNotFound} />\n        </Switch>\n    );\n};\n\nScope.propTypes = {\n    api: PropTypes.shape({\n        id: PropTypes.string,\n        additionalProperties: PropTypes.shape({\n            key: PropTypes.string,\n            value: PropTypes.string,\n        }).isRequired,\n    }).isRequired,\n};\n\nexport default Scope;\n","/*\n * Copyright (c) 2018, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { withStyles } from '@material-ui/core/styles';\nimport { FormattedMessage, injectIntl } from 'react-intl';\n\nimport API from 'AppData/api';\nimport Alert from 'AppComponents/Shared/Alert';\n\nconst styles = theme => ({\n    addNewWrapper: {\n        backgroundColor: theme.palette.background.paper,\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n        border: 'solid 1px ' + theme.palette.grey['300'],\n        borderRadius: theme.shape.borderRadius,\n        marginTop: theme.spacing(2),\n    },\n    addNewHeader: {\n        padding: theme.spacing(2),\n        backgroundColor: theme.palette.grey['300'],\n        fontSize: theme.typography.h6.fontSize,\n        color: theme.typography.h6.color,\n        fontWeight: theme.typography.h6.fontWeight,\n    },\n    addNewOther: {\n        padding: theme.spacing(2),\n    },\n    button: {\n        marginLeft: theme.spacing(2),\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    addJsonContent: {\n        whiteSpace: 'pre',\n    },\n});\n\nclass AddPolicy extends Component {\n    state = {\n        selectedPolicy: {\n            uuid: '',\n            name: 'Select',\n            policy: '',\n            type: '',\n        },\n        policies: [],\n    };\n\n    componentDidMount() {\n        const api = new API();\n        const promisedPolicies = api.getThreatProtectionPolicies();\n        promisedPolicies.then((response) => {\n            this.setState({ policies: response.obj.list });\n        });\n        const promisedApi = api.get(this.props.id);\n        promisedApi.then((response) => {\n            this.setState({ currentApi: response.obj });\n        });\n    }\n\n    handlePolicyAdd() {\n        const { intl } = this.props;\n        const policy = this.state.selectedPolicy;\n        if (policy.uuid === '' || policy.name === '') {\n            Alert.error(intl.formatMessage({\n                id: 'Apis.Details.Security.AddPolicy.select.policy',\n                defaultMessage: 'Please select a policy',\n            }));\n            return;\n        }\n\n        if (this.state.currentApi) {\n            const { currentApi } = this.state;\n            const api = new API();\n            const promisedPolicyAdd = api.addThreatProtectionPolicyToApi(currentApi.id, this.state.selectedPolicy.uuid);\n            promisedPolicyAdd.then((response) => {\n                if (response.status === 200) {\n                    Alert.info(intl.formatMessage({\n                        id: 'Apis.Details.Security.AddPolicy.threat.protection.policy.add.success',\n                        defaultMessage: 'Threat protection policy added successfully.',\n                    }));\n                    this.props.updateData();\n                } else {\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.Security.AddPolicy.threat.protection.policy.add.failure',\n                        defaultMessage: 'Failed to add threat protection policy.',\n                    }));\n                }\n            });\n        }\n    }\n\n    handleChange = () => (event) => {\n        const policyId = event.target.value;\n        const api = new API();\n        const promisedPolicy = api.getThreatProtectionPolicy(policyId);\n        promisedPolicy.then((response) => {\n            this.setState({ selectedPolicy: response.obj });\n        });\n    }\n\n    formatPolicy = (policy) => {\n        let formattedPolicy = policy;\n        formattedPolicy = formattedPolicy.replace(':', ' : ');\n        formattedPolicy = formattedPolicy.split(',').join(',\\n');\n        return formattedPolicy;\n    }\n\n    render() {\n        const { classes } = this.props;\n        return (\n            <div className={classes.contentWrapper}>\n                <div className={classes.addNewWrapper}>\n                    <Typography className={classes.addNewHeader}>\n                        <FormattedMessage\n                            id='Apis.Details.Security.AddPolicy.add.threat.protection.policy'\n                            defaultMessage='Add New Threat Protection Policy'\n                        />\n                    </Typography>\n                    <Divider className={classes.divider} />\n                    <div className={classes.addNewOther}>\n                        <InputLabel htmlFor='selectedPolicy'>\n                            <FormattedMessage\n                                id='Apis.Details.Security.AddPolicy.policy'\n                                defaultMessage='Policy'\n                            />\n                        </InputLabel>\n                        &nbsp;&nbsp;\n                        <Select\n                            value={this.state.selectedPolicy.uuid}\n                            onChange={this.handleChange('selectedPolicy')}\n                            input={<Input name='selectedPolicy' id='selectedPolicy' />}\n                        >\n                            {this.state.policies.map((n) => {\n                                return (\n                                    <MenuItem key={n.uuid} value={n.uuid}>{n.name}</MenuItem>\n                                );\n                            })};\n                        </Select>\n                        <br />\n                        <br />\n                        <p>\n                            <FormattedMessage\n                                id='Apis.Details.Security.AddPolicy.policy.type.label'\n                                defaultMessage='Policy Type: '\n                            />\n                            {this.state.selectedPolicy.type}\n                        </p>\n                        <div>\n                            <p>\n                                <FormattedMessage\n                                    id='Apis.Details.Security.AddPolicy.policy.label'\n                                    defaultMessage='Policy: '\n                                />\n                            </p>\n                            <div className={classes.addJsonContent}>\n                                {this.formatPolicy(this.state.selectedPolicy.policy)}\n                            </div>\n                        </div>\n                    </div>\n                    <Divider className={classes.divider} />\n                    <div className={classes.addNewOther}>\n                        <Button variant='contained' color='primary' onClick={() => this.handlePolicyAdd()}>\n                            <FormattedMessage\n                                id='Apis.Details.Security.AddPolicy.add.policy.to.api'\n                                defaultMessage='Add Policy to API'\n                            />\n                        </Button>\n                        <Button className={classes.button} onClick={this.props.toggleShowAddPolicy}>\n                            <FormattedMessage\n                                id='Apis.Details.Security.AddPolicy.cancel'\n                                defaultMessage='Cancel'\n                            />\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nAddPolicy.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    toggleShowAddPolicy: PropTypes.func.isRequired,\n    id: PropTypes.string.isRequired,\n    updateData: PropTypes.func.isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\n\nexport default injectIntl(withStyles(styles)(AddPolicy));\n\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { Component } from 'react';\n\nimport Api from 'AppData/api';\nimport Alert from 'AppComponents/Shared/Alert';\nimport PropTypes from 'prop-types';\n\nimport Typography from '@material-ui/core/Typography';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport AddCircle from '@material-ui/icons/AddCircle';\nimport Divider from '@material-ui/core/Divider';\nimport { FormattedMessage, injectIntl } from 'react-intl';\n\nimport AddPolicy from './AddPolicy';\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        marginTop: 10,\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    mainTitle: {\n        paddingLeft: 0,\n    },\n    button: {\n        marginLeft: theme.spacing(2),\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n    },\n    buttonIcon: {\n        marginRight: 10,\n    },\n    table: {\n        '& td': {\n            fontSize: theme.typography.fontSize,\n        },\n        '& th': {\n            fontSize: theme.typography.fontSize * 1.2,\n        },\n        tableLayout: 'fixed',\n    },\n    addNewHeader: {\n        padding: theme.spacing(2),\n        backgroundColor: theme.palette.grey['300'],\n        fontSize: theme.typography.h6.fontSize,\n        color: theme.typography.h6.color,\n        fontWeight: theme.typography.h6.fontWeight,\n    },\n    addNewWrapper: {\n        backgroundColor: theme.palette.background.paper,\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n        border: 'solid 1px ' + theme.palette.grey['300'],\n        borderRadius: theme.shape.borderRadius,\n        marginTop: theme.spacing(2),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    addJsonContent: {\n        whiteSpace: 'pre',\n    },\n});\n\nclass SecurityOverview extends Component {\n    constructor(props) {\n        super(props);\n        this.api = new Api();\n        this.state = {\n            api: {\n                name: '',\n            },\n            policies: [],\n            showAddPolicy: false,\n        };\n        this.updateData = this.updateData.bind(this);\n        this.toggleShowAddPolicy = this.toggleShowAddPolicy.bind(this);\n        this.updateData = this.updateData.bind(this);\n    }\n\n    componentDidMount() {\n        this.updateData();\n    }\n\n    updateData() {\n        const promisedApi = this.api.get(this.props.match.params.api_uuid);\n        promisedApi.then((response) => {\n            this.setState({ api: response.obj });\n            this.updatePolicyData();\n        });\n    }\n\n    updatePolicyData() {\n        this.setState({ policies: [] });\n        const policyIds = this.state.api.threatProtectionPolicies.list;\n        for (let i = 0; i < policyIds.length; i++) {\n            const id = policyIds[i].policyId;\n            const promisedPolicies = this.api.getThreatProtectionPolicy(id);\n            promisedPolicies.then((response) => {\n                const updatedPolicies = this.state.policies;\n                updatedPolicies.push(response.obj);\n                this.setState({ policies: updatedPolicies });\n            });\n        }\n    }\n\n    deletePolicy(id) {\n        const { intl } = this.props;\n        const associatedApi = this.state.api;\n        const promisedPolicyDelete = this.api.deleteThreatProtectionPolicyFromApi(associatedApi.id, id);\n        promisedPolicyDelete.then((response) => {\n            if (response.status === 200) {\n                Alert.info(intl.formatMessage({\n                    id: 'Apis.Details.Security.SecurityOverview.policy.remove.success',\n                    defaultMessage: 'Policy removed successfully.',\n                }));\n\n                //   remove policy from local api\n                const index = associatedApi.threatProtectionPolicies.list.indexOf({ policyId: id });\n                associatedApi.threatProtectionPolicies.list.splice(index, 1);\n                this.setState({ api: associatedApi });\n                this.updatePolicyData();\n            } else {\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.Security.SecurityOverview.policy.remove.failure',\n                    defaultMessage: 'Failed to remove policy.',\n                }));\n            }\n        });\n    }\n\n    toggleShowAddPolicy = () => {\n        this.setState({ showAddPolicy: !this.state.showAddPolicy });\n    }\n\n    formatPolicy = (policy) => {\n        let formattedPolicy = policy;\n        formattedPolicy = formattedPolicy.replace(':', ' : ');\n        formattedPolicy = formattedPolicy.split(',').join(',\\n');\n        return formattedPolicy;\n    }\n\n    render() {\n        let data = [];\n        if (this.state.policies) {\n            data = this.state.policies;\n        }\n        const { classes } = this.props;\n        const { showAddPolicy } = this.state;\n\n        return (\n            <div className={classes.root}>\n                <div className={classes.contentWrapper}>\n                    <div className={classes.titleWrapper}>\n                        <Typography variant='h4' align='left' className={classes.mainTitle}>\n                            <FormattedMessage\n                                id='Apis.Details.Security.SecurityOverview.threat.protection.policies'\n                                defaultMessage='Threat Protection Policies'\n                            />\n                        </Typography>\n                        <Button size='small' className={classes.button} onClick={this.toggleShowAddPolicy}>\n                            <AddCircle className={classes.buttonIcon} />\n                            <FormattedMessage\n                                id='Apis.Details.Security.SecurityOverview.add.threat.protection.policy'\n                                defaultMessage='Add New Threat Protection Policy'\n                            />\n                        </Button>\n                    </div>\n                </div>\n                <div className={classes.contentWrapper}>\n                    {showAddPolicy &&\n                    <AddPolicy\n                        id={this.state.api.id}\n                        toggleShowAddPolicy={this.toggleShowAddPolicy}\n                        updateData={this.updateData}\n                    />\n                    }\n                </div>\n                <br />\n                <div className={classes.contentWrapper}>\n                    <div className={classes.addNewWrapper}>\n                        <Typography className={classes.addNewHeader}>\n                            <FormattedMessage\n                                id='Apis.Details.Security.SecurityOverview.manage.threat.protection.policies'\n                                defaultMessage='Manage Threat Protection Policies'\n                            />\n                        </Typography>\n                        <Divider className={classes.divider} />\n                        <Table className={classes.table}>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>\n                                        <FormattedMessage\n                                            id='Apis.Details.Security.SecurityOverview.policy.name'\n                                            defaultMessage='Policy Name'\n                                        />\n                                    </TableCell>\n                                    <TableCell>\n                                        <FormattedMessage\n                                            id='Apis.Details.Security.SecurityOverview.policy.type'\n                                            defaultMessage='Policy Type'\n                                        />\n                                    </TableCell>\n                                    <TableCell>\n                                        <FormattedMessage\n                                            id='Apis.Details.Security.SecurityOverview.policy'\n                                            defaultMessage='Policy'\n                                        />\n                                    </TableCell>\n                                    <TableCell />\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {data.map((n) => {\n                                    return (\n                                        <TableRow key={n.uuid}>\n                                            <TableCell>{n.name + (n.uuid === 'GLOBAL-JSON' ? ' (GLOBAL)' : '')}</TableCell>\n                                            <TableCell>{n.type}</TableCell>\n                                            <TableCell>\n                                                <div className={classes.addJsonContent}>\n                                                    {this.formatPolicy(n.policy)}\n                                                </div>\n                                            </TableCell>\n                                            <TableCell>\n                                                <span>\n                                                    <Button color='accent' onClick={() => this.deletePolicy(n.uuid)} >\n                                                        <FormattedMessage\n                                                            id='Apis.Details.Security.SecurityOverview.delete'\n                                                            defaultMessage='Delete'\n                                                        />\n                                                    </Button>\n                                                </span>\n                                            </TableCell>\n                                        </TableRow>\n                                    );\n                                })}\n                            </TableBody>\n                        </Table>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nSecurityOverview.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    match: PropTypes.shape({\n        params: PropTypes.shape({\n            api_uuid: PropTypes.string,\n        }),\n    }).isRequired,\n    intl: PropTypes.shape({}).isRequired,\n};\n\n\nexport default injectIntl(withStyles(styles)(SecurityOverview));\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport SecurityOverview from './SecurityOverview';\n\nconst Security = () => {\n    return (\n        <Switch>\n            <Route path='/apis/:api_uuid/security' component={SecurityOverview} />\n        </Switch>\n    );\n};\n\nexport default Security;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { Component } from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport API from 'AppData/api';\nimport PropTypes from 'prop-types';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { CircularProgressbarWithChildren } from 'react-circular-progressbar';\nimport 'react-circular-progressbar/dist/styles.css';\nimport Paper from '@material-ui/core/Paper';\nimport { withStyles, createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport { Line } from 'rc-progress';\nimport Progress from 'AppComponents/Shared/Progress';\nimport { withRouter } from 'react-router';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\n\nimport MUIDataTable from 'mui-datatables';\n\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport MonacoEditor from 'react-monaco-editor';\n\nconst styles = (theme) => ({\n    rootPaper: {\n        padding: theme.spacing(3),\n        margin: theme.spacing(2),\n    },\n    inlineDecoration: {\n        background: '#FF0000',\n    },\n    contentLine: {\n        background: '#add8e6',\n    },\n    htmlToolTip: {\n        backgroundColor: '#f5f5f9',\n        color: 'rgba(0, 0, 0, 0.87)',\n        maxWidth: 220,\n        fontSize: theme.typography.pxToRem(14),\n        border: '1px solid #dadde9',\n        '& b': {\n            fontWeight: theme.typography.fontWeightMedium,\n        },\n    },\n    helpButton: {\n        padding: 0,\n        minWidth: 20,\n        'margin-left': 10,\n    },\n    helpIcon: {\n        fontSize: 16,\n    },\n    tableRow: {\n        'background-color': '#d3d3d3',\n    },\n    referenceErrorTypography: {\n        width: '70%',\n        marginTop: '15%',\n    },\n    referenceTypography: {\n        width: '70%',\n    },\n    subheadingTypography: {\n        paddingTop: 30,\n        paddingLeft: 20,\n    },\n    paperDiv: {\n        marginTop: 30,\n    },\n    sectionHeadingTypography: {\n        marginBottom: 18,\n    },\n    auditSummaryDiv: {\n        display: 'flex',\n        marginTop: 25,\n    },\n    auditSummarySubDiv: {\n        width: 250,\n        marginLeft: 40,\n        marginRight: 40,\n        display: 'table',\n    },\n    circularProgressBarScore: {\n        fontSize: 70,\n        color: '#3d98c7',\n        marginTop: 18,\n    },\n    circularProgressBarScoreFooter: {\n        fontSize: 18,\n        marginTop: 10,\n    },\n    auditSummaryDivRight: {\n        flexGrow: 1,\n        marginLeft: 200,\n        marginTop: 10,\n    },\n    columnOne: {\n        display: 'block',\n        width: '50%',\n        float: 'left',\n    },\n    columnTwo: {\n        width: '40%',\n        float: 'right',\n    },\n    head: {\n        fontWeight: 200,\n        marginBottom: 20,\n    },\n    linkText: {\n        float: 'right',\n    },\n});\n\n\n/**\n * This Component hosts the API Security Audit Component\n * More specifically, rendering of the Security Audit\n * Report.\n */\nclass APISecurityAudit extends Component {\n    /**\n     * @inheritdoc\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            report: null,\n            overallScore: 0,\n            numErrors: 0,\n            externalApiId: null,\n            loading: false,\n            apiDefinition: null,\n        };\n        this.criticalityObject = {\n            1: 'INFO',\n            2: 'LOW',\n            3: 'MEDIUM',\n            4: 'HIGH',\n            5: 'CRITICAL',\n        };\n        this.searchTerm = null;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    componentDidMount() {\n        this.setState({ loading: true });\n        const { apiId, history, intl } = this.props;\n        const currentApi = new API();\n        const promisedDefinition = currentApi.getSwagger(apiId);\n        promisedDefinition.then((response) => {\n            this.setState({\n                apiDefinition: JSON.stringify(response.obj, null, 1),\n            });\n        })\n            .catch((error) => {\n                console.log(error);\n            });\n\n        currentApi.getSecurityAuditReport(apiId)\n            .then((response) => {\n                this.setState({\n                    report: response.body.report,\n                    overallScore: response.body.grade,\n                    numErrors: response.body.numErrors,\n                    externalApiId: response.body.externalApiId,\n                    loading: false,\n                });\n            })\n            .catch((error) => {\n                console.log(error);\n                this.setState({ loading: false });\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.APIDefinition.AuditApi.GetReportError',\n                    defaultMessage: 'Something went wrong while retrieving the API Security Report',\n                }));\n                const redirectUrl = '/apis/' + apiId + '/api definition';\n                history.push(redirectUrl);\n            });\n    }\n\n    getMuiTheme = () => createMuiTheme({\n        typography: {\n            useNextVariants: true,\n        },\n        overrides: {\n            MUIDataTableBodyCell: {\n                root: {\n                    width: '30%',\n                },\n            },\n            MUIDataTableSelectCell: {\n                root: {\n                    display: 'none',\n                },\n            },\n            MUIDataTableToolbarSelect: {\n                title: {\n                    display: 'none',\n                },\n            },\n        },\n    });\n\n    getErrorMuiTheme = () => createMuiTheme({\n        typography: {\n            useNextVariants: true,\n        },\n        overrides: {\n            MUIDataTableBodyCell: {\n                root: {\n                    width: '100%',\n                },\n            },\n            MUIDataTableSelectCell: {\n                root: {\n                    display: 'none',\n                },\n            },\n            MUIDataTableToolbarSelect: {\n                title: {\n                    display: 'none',\n                },\n            },\n        },\n    });\n\n    /**\n     * Get Row data for MUI Table\n     * @param {*} issues Issues array\n     * @param {String} category The category of the issue\n     * @param {*} rowType The type of row - normal or error\n     * @return {*} dataObject The dataObject array\n     */\n    getRowData(issues, category, rowType) {\n        const dataObject = [];\n        for (const item in issues) {\n            if ({}.hasOwnProperty.call(issues, item)) {\n                for (let i = 0; i < issues[item].issues.length; i++) {\n                    const rowObject = [];\n                    if (rowType === 'error') {\n                        if (issues[item].issues[i].specificDescription) {\n                            rowObject.push(\n                                issues[item].issues[i].specificDescription, issues[item].issues[i].pointer,\n                                category, rowType, item,\n                            );\n                        } else {\n                            rowObject.push(\n                                issues[item].description, issues[item].issues[i].pointer,\n                                category, rowType, item,\n                            );\n                        }\n                    } else if (rowType === 'normal') {\n                        if (issues[item].issues[i].specificDescription) {\n                            rowObject.push(\n                                this.criticalityObject[issues[item].criticality],\n                                issues[item].issues[i].specificDescription,\n                                this.roundScore(issues[item].issues[i].score), issues[item].issues[i].pointer,\n                                issues[item].issues[i].tooManyImpacted,\n                                issues[item].issues[i].pointersAffected, category, issues[item].tooManyError,\n                                rowType, item,\n                            );\n                        } else {\n                            rowObject.push(\n                                this.criticalityObject[issues[item].criticality],\n                                issues[item].description, this.roundScore(issues[item].issues[i].score),\n                                issues[item].issues[i].pointer, issues[item].issues[i].tooManyImpacted,\n                                issues[item].issues[i].pointersAffected, category, issues[item].tooManyError,\n                                rowType, item,\n                            );\n                        }\n                    }\n                    dataObject.push(rowObject);\n                }\n            }\n        }\n        return dataObject;\n    }\n\n    /**\n     * Method to get the URL to display for each issue\n     * @param {*} category Category of the issue\n     * @returns {*} String URL\n     */\n    getMoreDetailUrl(category) {\n        const baseUrl = 'https://apisecurity.io/ref/';\n        let url = '';\n\n        switch (category) {\n            case 'OpenAPI Format Requirements':\n                url = baseUrl + 'oasconformance/';\n                break;\n            case 'Security':\n                url = baseUrl + 'security/';\n                break;\n            case 'Data Validation':\n                url = baseUrl + 'datavalidation/datavalidation/';\n                break;\n            default:\n                url = baseUrl;\n        }\n        return url;\n    }\n\n    /**\n     * editorDidMount method for Monaco Editor\n     * @param {*} editor Monaco Editor editor\n     * @param {*} monaco Monaco Editor monaco\n     * @param {String} searchTerm SearchTerm for pointer\n     */\n    editorDidMount = (editor, monaco, searchTerm) => {\n        const { classes } = this.props;\n        if (searchTerm !== '') {\n            const lastTerms = [];\n            const termObject = searchTerm.split('/');\n            const regexPatterns = [];\n            for (let i = 0; i < termObject.length; i++) {\n                if (termObject[i] !== '' && termObject[i] !== '0') {\n                    let appendedString = '\"' + termObject[i] + '\":';\n                    if (appendedString.includes('~1')) {\n                        appendedString = appendedString.replace(/~1/i, '/');\n                    }\n                    regexPatterns.push(appendedString);\n                }\n            }\n\n            for (let j = 0; j < regexPatterns.length; j++) {\n                if (regexPatterns[j] !== '') {\n                    if (j !== 0 && lastTerms.length !== 0 && lastTerms[lastTerms.length - 1] !== null) {\n                        lastTerms.push(editor.getModel().findNextMatch(\n                            regexPatterns[j],\n                            { lineNumber: lastTerms[lastTerms.length - 1].range.endLineNumber, column: 1 },\n                            true, true, null, false,\n                        ));\n                    } else {\n                        lastTerms.push(editor.getModel().findNextMatch(regexPatterns[j], 1, true, true, null, true));\n                    }\n                }\n            }\n            const finalMatchIndex = lastTerms.length - 1;\n            if (lastTerms[finalMatchIndex] != null) {\n                editor.revealLineInCenter(lastTerms[finalMatchIndex].range.startLineNumber);\n                editor.deltaDecorations([], [\n                    {\n                        range: new monaco.Range(\n                            lastTerms[finalMatchIndex].range.startLineNumber,\n                            lastTerms[finalMatchIndex].range.startColumn,\n                            lastTerms[finalMatchIndex].range.endLineNumber,\n                            lastTerms[finalMatchIndex].range.endColumn,\n                        ),\n                        options: {\n                            isWholeLine: true,\n                            className: classes.inlineDecoration,\n                            glyphMarginClassName: classes.contentLine,\n                        },\n                    },\n                ]);\n            }\n        }\n    }\n\n    /**\n     * Method to round off the score of a section of the report\n     * @param {*} score Score of section\n     * @returns {*} roundScore Rounded off score\n     */\n    roundScore(score) {\n        if (score !== 0) {\n            return Math.round(score * 100) / 100;\n        } else {\n            return 0;\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    render() {\n        const { classes } = this.props;\n        const {\n            report, overallScore, numErrors, externalApiId, loading, apiDefinition,\n        } = this.state;\n\n        const reportObject = JSON.parse(report);\n        const linkToDetailedReport = 'https://platform.42crunch.com/apis/' + externalApiId + '/security-audit-report';\n        if (loading) {\n            return (\n                <div>\n                    <InlineMessage type='info' height={140}>\n                        <div className={classes.contentWrapper}>\n                            <Typography\n                                variant='h5'\n                                component='h3'\n                                className={classes.head}\n                            >\n                                <FormattedMessage\n                                    id='Apis.Details.APIDefinition.AuditApi.WaitForReport'\n                                    defaultMessage='Please wait...'\n                                />\n                            </Typography>\n                            <Typography component='p' className={classes.content}>\n                                <FormattedMessage\n                                    id='Apis.Details.APIDefinition.AuditApi.WaitForReport.Content'\n                                    defaultMessage='Auditing an API for the first time will take some time'\n                                />\n                            </Typography>\n                        </div>\n                    </InlineMessage>\n                    <Progress />\n                </div>\n            );\n        }\n        const columns = [\n            {\n                name: 'Severity',\n                options: {\n                    filter: true,\n                    sort: true,\n                },\n            },\n            {\n                name: 'Description',\n                options: {\n                    filter: true,\n                    sort: true,\n                },\n            },\n            {\n                name: 'Score Impact',\n                options: {\n                    filter: true,\n                    sort: true,\n                },\n            },\n            {\n                name: 'Pointer',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n            {\n                name: 'Too Many Impacted',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n            {\n                name: 'Pointers Affected',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n            {\n                name: 'Issue Category',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n            {\n                name: 'Too Many Errors',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n            {\n                name: 'isError',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n            {\n                name: 'ReferenceUrl',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n        ];\n\n        const errorColumns = [\n            {\n                name: 'Description',\n                options: {\n                    filter: true,\n                    sort: true,\n                },\n            },\n            {\n                name: 'Pointer',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n            {\n                name: 'Issue Category',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n            {\n                name: 'isError',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n            {\n                name: 'ReferenceUrl',\n                options: {\n                    display: 'excluded',\n                    filter: false,\n                    sort: false,\n                },\n            },\n        ];\n\n        const editorOptions = {\n            selectOnLineNumbers: true,\n            readOnly: true,\n            smoothScrolling: true,\n            wordWrap: 'on',\n            glyphMargin: true,\n        };\n\n        const options = {\n            filterType: 'dropdown',\n            responsive: 'stacked',\n            print: false,\n            download: false,\n            selectableRows: false,\n            expandableRows: true,\n            expandableRowsOnClick: true,\n            renderExpandableRow: (rowData) => {\n                let searchTerm = null;\n                if (rowData[3] === 'error') {\n                    searchTerm = reportObject.index[rowData[1]];\n\n                    return (\n                        <TableRow className={classes.tableRow}>\n                            <TableCell className={classes.columnOne}>\n                                <MonacoEditor\n                                    height='250px'\n                                    theme='vs-dark'\n                                    value={apiDefinition}\n                                    options={editorOptions}\n                                    editorDidMount={(editor, monaco) => this.editorDidMount(editor, monaco, searchTerm)}\n                                />\n                            </TableCell>\n                            <TableCell className={classes.columnTwo}>\n                                <Typography variant='body1' className={classes.referenceErrorTypography}>\n                                    <FormattedMessage\n                                        id='Apis.Details.APIDefinition.AuditApi.ReferenceSection'\n                                        description='Link to visit for detail on how to remedy issue'\n                                        defaultMessage='Visit this {link} to view a detailed description, possible\n                                        exploits and remediation for this issue.'\n                                        values={{\n                                            link: (\n                                                <strong>\n                                                    <a\n                                                        href={this.getMoreDetailUrl(rowData[2])}\n                                                        target='_blank'\n                                                        rel='noopener noreferrer'\n                                                    >\n                                                        link\n                                                    </a>\n                                                </strong>),\n                                        }}\n                                    />\n                                </Typography>\n                            </TableCell>\n                        </TableRow>\n                    );\n                } else {\n                    searchTerm = reportObject.index[rowData[3]];\n                    return (\n                        <TableRow className={classes.tableRow}>\n                            <TableCell colSpan='2'>\n                                <MonacoEditor\n                                    width='85%'\n                                    height='250px'\n                                    theme='vs-dark'\n                                    value={apiDefinition}\n                                    options={editorOptions}\n                                    editorDidMount={(editor, monaco) => this.editorDidMount(editor, monaco, searchTerm)}\n                                />\n                            </TableCell>\n                            <TableCell>\n                                <Typography variant='body1' className={classes.referenceTypography}>\n                                    <FormattedMessage\n                                        id='Apis.Details.APIDefinition.AuditApi.ReferenceSection'\n                                        description='Link to visit for detail on how to remedy issue'\n                                        defaultMessage='Visit this {link} to view a detailed description, possible\n                                        exploits and remediation for this issue.'\n                                        values={{\n                                            link: (\n                                                <strong>\n                                                    <a\n                                                        href={this.getMoreDetailUrl(rowData[6])}\n                                                        target='_blank'\n                                                        rel='noopener noreferrer'\n                                                    >\n                                                        link\n                                                    </a>\n                                                </strong>),\n                                        }}\n                                    />\n                                </Typography>\n                            </TableCell>\n                        </TableRow>\n                    );\n                }\n            },\n        };\n        return (\n            <div>\n                {report && (\n                    <div\n                        width='100%'\n                        height='calc(100vh - 51px)'\n                    >\n                        <Typography variant='h4' className={classes.subheadingTypography}>\n                            <FormattedMessage\n                                id='Apis.Details.APIDefinition.AuditApi.ApiSecurityAuditReport'\n                                defaultMessage='API Security Audit Report'\n                            />\n                        </Typography>\n                        <div className={classes.paperDiv}>\n                            <Paper elevation={1} className={classes.rootPaper}>\n                                <div>\n                                    <Typography variant='h5' className={classes.sectionHeadingTypography}>\n                                        <FormattedMessage\n                                            id='Apis.Details.APIDefinition.AuditApi.AuditScoreSummary'\n                                            defaultMessage='Audit Score and Summary'\n                                        />\n                                    </Typography>\n                                    <Typography variant='body1' className={classes.linkText}>\n                                        <FormattedMessage\n                                            id='Apis.Details.APIDefinition.AuditApi.LinkToDetailedReport'\n                                            defaultMessage='{linkToDetailedReportText} {link} {afterLinkText}'\n                                            values={{\n                                                linkToDetailedReportText: 'Check out the ',\n                                                link: (\n                                                    <b>\n                                                        <a\n                                                            href={linkToDetailedReport}\n                                                            target='_blank'\n                                                            rel='noopener noreferrer'\n                                                        >\n                                                        detailed Report\n                                                        </a>\n                                                    </b>),\n                                                afterLinkText: ' from 42Crunch',\n                                            }}\n                                        />\n                                    </Typography>\n                                    <div className={classes.auditSummaryDiv}>\n                                        <div className={classes.auditSummarySubDiv}>\n                                            <CircularProgressbarWithChildren\n                                                value={overallScore}\n                                            >\n                                                <Typography\n                                                    variant='body1'\n                                                    className={classes.circularProgressBarScore}\n                                                >\n                                                    <FormattedMessage\n                                                        id='Apis.Details.APIDefinition.AuditApi\n                                                                    .OverallScoreProgress'\n                                                        defaultMessage='{overallScore}'\n                                                        values={{\n                                                            overallScore: (\n                                                                <strong>{Math.round(overallScore)}</strong>\n                                                            ),\n                                                        }}\n                                                    />\n                                                </Typography>\n                                                <Typography\n                                                    variant='body1'\n                                                    className={classes.circularProgressBarScoreFooter}\n                                                >\n                                                    <FormattedMessage\n                                                        id='Apis.Details.APIDefinition.AuditApi.ScoreFooter'\n                                                        defaultMessage='out of 100'\n                                                    />\n                                                </Typography>\n                                            </CircularProgressbarWithChildren>\n                                        </div>\n                                        <div className={classes.auditSummaryDivRight}>\n                                            {{}.hasOwnProperty.call(reportObject, 'score')\n                                                && (\n                                                    <Typography variant='body1'>\n                                                        <FormattedMessage\n                                                            id='Apis.Details.APIDefinition.AuditApi.overallScore'\n                                                            defaultMessage='{overallScoreText} {overallScore} / 100'\n                                                            values={{\n                                                                overallScoreText: <strong>Overall Score:</strong>,\n                                                                overallScore: this.roundScore(overallScore),\n                                                            }}\n                                                        />\n                                                    </Typography>\n                                                )}\n                                            {numErrors !== null\n                                                && (\n                                                    <Typography variant='body1'>\n                                                        <FormattedMessage\n                                                            id='Apis.Details.APIDefinition.AuditApi.TotalNumOfErrors'\n                                                            defaultMessage='{totalNumOfErrorsText} {totalNumOfErrors}'\n                                                            values={{\n                                                                totalNumOfErrorsText: (\n                                                                    <strong>Total Number of Errors: </strong>\n                                                                ),\n                                                                totalNumOfErrors: numErrors,\n                                                            }}\n                                                        />\n                                                    </Typography>\n                                                )}\n                                            {{}.hasOwnProperty.call(reportObject, 'criticality')\n                                                && (\n                                                    <>\n                                                        <Typography variant='body1'>\n                                                            <FormattedMessage\n                                                                id={'Apis.Details.APIDefinition'\n                                                                + '.AuditApi.OverallCriticality'}\n                                                                defaultMessage={\n                                                                    '{overallCriticalityText} {overallCriticality}'\n                                                                }\n                                                                values={{\n                                                                    overallCriticalityText: (\n                                                                        <strong>Overall Severity:</strong>\n                                                                    ),\n                                                                    overallCriticality: (\n                                                                        this.criticalityObject[reportObject.criticality]\n                                                                    ),\n                                                                }}\n                                                            />\n                                                            <Tooltip\n                                                                placement='right'\n                                                                classes={{\n                                                                    tooltip: classes.htmlTooltip,\n                                                                }}\n                                                                title={(\n                                                                    <>\n                                                                        <FormattedMessage\n                                                                            id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.severity'}\n                                                                            defaultMessage='Severity ranges from: '\n                                                                        />\n                                                                        <br />\n                                                                        <FormattedMessage\n                                                                            id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.info'}\n                                                                            defaultMessage='1. INFO'\n                                                                        />\n                                                                        <br />\n                                                                        <FormattedMessage\n                                                                            id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.low'}\n                                                                            defaultMessage='2. LOW'\n                                                                        />\n                                                                        <br />\n                                                                        <FormattedMessage\n                                                                            id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.medium'}\n                                                                            defaultMessage='3. MEDIUM'\n                                                                        />\n                                                                        <br />\n                                                                        <FormattedMessage\n                                                                            id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.high'}\n                                                                            defaultMessage='4. HIGH'\n                                                                        />\n                                                                        <br />\n                                                                        <FormattedMessage\n                                                                            id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.critical'}\n                                                                            defaultMessage='5. CRITICAL'\n                                                                        />\n                                                                        <br />\n                                                                    </>\n                                                                )}\n                                                            >\n                                                                <Button className={classes.helpButton}>\n                                                                    <HelpOutline className={classes.helpIcon} />\n                                                                </Button>\n                                                            </Tooltip>\n                                                        </Typography>\n                                                    </>\n                                                )}\n                                            <hr />\n                                            {{}.hasOwnProperty.call(reportObject, 'security')\n                                                && (\n                                                    <Typography variant='body1'>\n                                                        <FormattedMessage\n                                                            id='Apis.Details.APIDefinition.AuditApi.SecuritySummary'\n                                                            defaultMessage='{securitySummary}'\n                                                            values={{\n                                                                securitySummary: (\n                                                                    <strong>\n                                                                    Security -\n                                                                    (\n                                                                        {\n                                                                            this.roundScore(reportObject.security.score)\n                                                                        }\n                                                                        {' '}\n                                                                        / 30)\n                                                                    </strong>\n                                                                ),\n                                                            }}\n                                                        />\n                                                        <Line\n                                                            percent={((this.roundScore(reportObject.security.score)\n                                                                / 30\n                                                            ) * 100)}\n                                                            strokeColor='#3d98c7'\n                                                        />\n                                                    </Typography>\n                                                )}\n                                            {{}.hasOwnProperty.call(reportObject, 'data')\n                                                && (\n                                                    <Typography variant='body1'>\n                                                        <FormattedMessage\n                                                            id={'Apis.Details.APIDefinition'\n                                                            + '.AuditApi.DataValidationSummary'}\n                                                            defaultMessage='{dataValidationSummary}'\n                                                            values={{\n                                                                dataValidationSummary: (\n                                                                    <strong>\n                                                                    Data Validation -\n                                                                    (\n                                                                        {this.roundScore(reportObject.data.score)}\n                                                                        {' '}\n                                                                        / 70)\n                                                                    </strong>\n                                                                ),\n                                                            }}\n                                                        />\n                                                        <Line\n                                                            percent={((this.roundScore(reportObject.data.score) / 70\n                                                            ) * 100)}\n                                                            strokeColor='#3d98c7'\n                                                        />\n                                                    </Typography>\n                                                )}\n                                            {{}.hasOwnProperty.call(reportObject, 'validationErrors')\n                                                && (\n                                                    <InlineMessage type='warning' height={140}>\n                                                        <div className={classes.contentWrapper}>\n                                                            <Typography\n                                                                variant='h5'\n                                                                component='h3'\n                                                                className={classes.head}\n                                                            >\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                    + '.AuditApi.FailedToValidate.Heading'}\n                                                                    defaultMessage='Failed to Validate OpenAPI File'\n                                                                />\n                                                            </Typography>\n                                                            <Typography component='p' className={classes.content}>\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                    + '.AuditApi.FailedToValidate.Content'}\n                                                                    defaultMessage={'Fix the critical errors '\n                                                                    + 'shown below and run the audit again.'}\n                                                                />\n                                                            </Typography>\n                                                        </div>\n                                                    </InlineMessage>\n                                                )}\n                                        </div>\n                                    </div>\n                                </div>\n                            </Paper>\n                        </div>\n                        {\n                            <div className={classes.paperDiv}>\n                                <Paper elevation={1} className={classes.rootPaper}>\n                                    <div>\n                                        <Typography variant='h5' className={classes.sectionHeadingTypography}>\n                                            <FormattedMessage\n                                                id='Apis.Details.APIDefinition.AuditApi.OpenApiFormatRequirements'\n                                                defaultMessage='OpenAPI Format Requirements'\n                                            />\n                                        </Typography>\n                                        {{}.hasOwnProperty.call(reportObject, 'semanticErrors')\n                                            && (\n                                                <>\n                                                    <div>\n                                                        <Typography variant='body1'>\n                                                            <MuiThemeProvider theme={this.getMuiTheme()}>\n                                                                <MUIDataTable\n                                                                    title='Semantic Errors'\n                                                                    data={this.getRowData(\n                                                                        reportObject.semanticErrors.issues,\n                                                                        'OpenAPI Format Requirements',\n                                                                        'error',\n                                                                    )}\n                                                                    columns={errorColumns}\n                                                                    options={options}\n                                                                />\n                                                            </MuiThemeProvider>\n                                                        </Typography>\n                                                    </div>\n                                                </>\n                                            )}\n                                        {{}.hasOwnProperty.call(reportObject, 'validationErrors')\n                                            && (\n                                                <>\n                                                    <div>\n                                                        <Typography variant='body1'>\n                                                            <MuiThemeProvider theme={this.getErrorMuiTheme()}>\n                                                                <MUIDataTable\n                                                                    title='Structural Errors'\n                                                                    data={this.getRowData(\n                                                                        reportObject.validationErrors.issues,\n                                                                        'OpenAPI Format Requirements',\n                                                                        'error',\n                                                                    )}\n                                                                    columns={errorColumns}\n                                                                    options={options}\n                                                                />\n                                                            </MuiThemeProvider>\n                                                        </Typography>\n                                                    </div>\n                                                </>\n                                            )}\n                                        {{}.hasOwnProperty.call(reportObject, 'warnings')\n                                            && (\n                                                <>\n                                                    <div>\n                                                        <Typography variant='body1'>\n                                                            <MuiThemeProvider theme={this.getErrorMuiTheme()}>\n                                                                <MUIDataTable\n                                                                    title='Best Practices Issues'\n                                                                    data={this.getRowData(\n                                                                        reportObject.warnings.issues,\n                                                                        'OpenAPI Format Requirements',\n                                                                        'error',\n                                                                    )}\n                                                                    columns={errorColumns}\n                                                                    options={options}\n                                                                />\n                                                            </MuiThemeProvider>\n                                                        </Typography>\n                                                    </div>\n                                                </>\n                                            )}\n                                        {!{}.hasOwnProperty.call(reportObject, 'validationErrors')\n                                        && !{}.hasOwnProperty.call(reportObject, 'semanticErrors')\n                                        && !{}.hasOwnProperty.call(reportObject, 'warnings')\n                                        && (\n                                            <Typography variant='body1'>\n                                                <FormattedMessage\n                                                    id='Apis.Details.APIDefinition.AuditApi.OASNoIssuesFound'\n                                                    defaultMessage='No Issues Found'\n                                                />\n                                            </Typography>\n                                        )}\n                                    </div>\n                                </Paper>\n                            </div>\n                        }\n                        {{}.hasOwnProperty.call(reportObject, 'security')\n                            && (\n                                <div className={classes.paperDiv}>\n                                    <Paper elevation={1} className={classes.rootPaper}>\n                                        <div>\n                                            <Typography variant='h5' className={classes.sectionHeadingTypography}>\n                                                <FormattedMessage\n                                                    id='Apis.Details.APIDefinition.AuditApi.Security'\n                                                    defaultMessage='Security'\n                                                />\n                                            </Typography>\n                                            <Typography variant='body1'>\n                                                <FormattedMessage\n                                                    id='Apis.Details.APIDefinition.AuditApi.SecurityNumOfIssues'\n                                                    defaultMessage='{securityNumOfIssuesText} {securityNumOfIssues}'\n                                                    values={{\n                                                        securityNumOfIssuesText: (\n                                                            <strong>Number of Issues:</strong>\n                                                        ),\n                                                        securityNumOfIssues: reportObject.security.issueCounter,\n                                                    }}\n                                                />\n                                            </Typography>\n                                            <Typography variant='body1'>\n                                                <FormattedMessage\n                                                    id='Apis.Details.APIDefinition.AuditApi.SecurityScore'\n                                                    defaultMessage='{securityScoreText} {securityScore}  / 30'\n                                                    values={{\n                                                        securityScoreText: (\n                                                            <strong>Score:</strong>\n                                                        ),\n                                                        securityScore: (\n                                                            (Math.round(reportObject.security.score * 100) / 100)\n                                                        ),\n                                                    }}\n                                                />\n                                            </Typography>\n                                            <>\n                                                <Typography variant='body1'>\n                                                    <FormattedMessage\n                                                        id='Apis.Details.APIDefinition.AuditApi.securityCriticality'\n                                                        defaultMessage='{securityCriticalityText} {securityCriticality}'\n                                                        values={{\n                                                            securityCriticalityText: (\n                                                                <strong>Severity:</strong>\n                                                            ),\n                                                            securityCriticality: (\n                                                                // eslint-disable-next-line max-len\n                                                                this.criticalityObject[reportObject.security.criticality]\n                                                            ),\n                                                        }}\n                                                    />\n                                                    <Tooltip\n                                                        placement='right'\n                                                        classes={{\n                                                            tooltip: classes.htmlTooltip,\n                                                        }}\n                                                        title={(\n                                                            <>\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.severity'}\n                                                                    defaultMessage='Severity ranges from: '\n                                                                />\n                                                                <br />\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.info'}\n                                                                    defaultMessage='1. INFO'\n                                                                />\n                                                                <br />\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.low'}\n                                                                    defaultMessage='2. LOW'\n                                                                />\n                                                                <br />\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.medium'}\n                                                                    defaultMessage='3. MEDIUM'\n                                                                />\n                                                                <br />\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.high'}\n                                                                    defaultMessage='4. HIGH'\n                                                                />\n                                                                <br />\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.critical'}\n                                                                    defaultMessage='5. CRITICAL'\n                                                                />\n                                                                <br />\n                                                            </>\n                                                        )}\n                                                    >\n                                                        <Button className={classes.helpButton}>\n                                                            <HelpOutline className={classes.helpIcon} />\n                                                        </Button>\n                                                    </Tooltip>\n                                                </Typography>\n                                            </>\n                                            {(reportObject.security.issueCounter !== 0)\n                                            && (\n                                                <div>\n                                                    <hr />\n                                                    <Typography variant='body1'>\n                                                        <MuiThemeProvider theme={this.getMuiTheme()}>\n                                                            <MUIDataTable\n                                                                title='Issues'\n                                                                data={this.getRowData(\n                                                                    reportObject.security.issues,\n                                                                    'Security',\n                                                                    'normal',\n                                                                )}\n                                                                columns={columns}\n                                                                options={options}\n                                                            />\n                                                        </MuiThemeProvider>\n                                                    </Typography>\n                                                </div>\n                                            )}\n                                        </div>\n                                    </Paper>\n                                </div>\n                            )}\n                        {{}.hasOwnProperty.call(reportObject, 'data')\n                            && (\n                                <div className={classes.paperDiv}>\n                                    <Paper elevation={1} className={classes.rootPaper}>\n                                        <div>\n                                            <Typography variant='h5' className={classes.sectionHeadingTypography}>\n                                                <FormattedMessage\n                                                    id='Apis.Details.APIDefinition.AuditApi.DataValidation'\n                                                    defaultMessage='Data Validation'\n                                                />\n                                            </Typography>\n                                            <Typography variant='body1'>\n                                                <FormattedMessage\n                                                    id='Apis.Details.APIDefinition.AuditApi.DataValidationNumOfIssues'\n                                                    defaultMessage='{dataNumOfIssuesText} {dataNumOfIssues}'\n                                                    values={{\n                                                        dataNumOfIssuesText: (\n                                                            <strong>Number of Issues:</strong>\n                                                        ),\n                                                        dataNumOfIssues: reportObject.data.issueCounter,\n                                                    }}\n                                                />\n                                            </Typography>\n                                            <Typography variant='body1'>\n                                                <FormattedMessage\n                                                    id='Apis.Details.APIDefinition.AuditApi.DataValidationScore'\n                                                    defaultMessage='{dataScoreText} {dataScore}  / 70'\n                                                    values={{\n                                                        dataScoreText: (\n                                                            <strong>Score:</strong>\n                                                        ),\n                                                        dataScore: (\n                                                            (Math.round(reportObject.data.score * 100) / 100)\n                                                        ),\n                                                    }}\n                                                />\n                                            </Typography>\n                                            <>\n                                                <Typography variant='body1'>\n                                                    <FormattedMessage\n                                                        id='Apis.Details.APIDefinition.AuditApi.dataCriticality'\n                                                        defaultMessage='{dataCriticalityText} {dataCriticality}'\n                                                        values={{\n                                                            dataCriticalityText: (\n                                                                <strong>Severity:</strong>\n                                                            ),\n                                                            dataCriticality: (\n                                                                this.criticalityObject[reportObject.data.criticality]\n                                                            ),\n                                                        }}\n                                                    />\n                                                    <Tooltip\n                                                        placement='right'\n                                                        classes={{\n                                                            tooltip: classes.htmlTooltip,\n                                                        }}\n                                                        title={(\n                                                            <>\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.severity'}\n                                                                    defaultMessage='Severity ranges from: '\n                                                                />\n                                                                <br />\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.info'}\n                                                                    defaultMessage='1. INFO'\n                                                                />\n                                                                <br />\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.low'}\n                                                                    defaultMessage='2. LOW'\n                                                                />\n                                                                <br />\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.medium'}\n                                                                    defaultMessage='3. MEDIUM'\n                                                                />\n                                                                <br />\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.high'}\n                                                                    defaultMessage='4. HIGH'\n                                                                />\n                                                                <br />\n                                                                <FormattedMessage\n                                                                    id={'Apis.Details.APIDefinition'\n                                                                            + '.AuditApi.tooltip.critical'}\n                                                                    defaultMessage='5. CRITICAL'\n                                                                />\n                                                                <br />\n                                                            </>\n                                                        )}\n                                                    >\n                                                        <Button className={classes.helpButton}>\n                                                            <HelpOutline className={classes.helpIcon} />\n                                                        </Button>\n                                                    </Tooltip>\n                                                </Typography>\n                                            </>\n                                            {(reportObject.data.issueCounter !== 0)\n                                            && (\n                                                <div>\n                                                    <hr />\n                                                    <Typography variant='body1'>\n                                                        <MuiThemeProvider theme={this.getMuiTheme()}>\n                                                            <MUIDataTable\n                                                                title='Issues'\n                                                                data={this.getRowData(\n                                                                    reportObject.data.issues,\n                                                                    'Data Validation',\n                                                                    'normal',\n                                                                )}\n                                                                columns={columns}\n                                                                options={options}\n                                                            />\n                                                        </MuiThemeProvider>\n                                                    </Typography>\n                                                </div>\n                                            )}\n                                        </div>\n                                    </Paper>\n                                </div>\n                            )}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nAPISecurityAudit.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    apiId: PropTypes.string.isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    history: PropTypes.shape({\n        push: PropTypes.func.isRequired,\n    }).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n};\n\nexport default withRouter(injectIntl(withStyles(styles)(APISecurityAudit)));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useReducer, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { Typography } from '@material-ui/core';\nimport CloudUploadRounded from '@material-ui/icons/CloudUploadRounded';\nimport Alert from 'AppComponents/Shared/Alert';\nimport API from 'AppData/api.js';\nimport { isRestricted } from 'AppData/AuthManager';\nimport { useAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport ProvideWSDL from 'AppComponents/Apis/Create/WSDL/Steps/ProvideWSDL';\nimport ProvideOpenAPI from '../../Create/OpenAPI/Steps/ProvideOpenAPI';\nimport ProvideGraphQL from '../../Create/GraphQL/Steps/ProvideGraphQL';\n\n\nconst useStyles = makeStyles(() => ({\n    importDefinitionDialogHeader: {\n        fontWeight: '600',\n    },\n    buttonIcon: {\n        marginRight: 10,\n    },\n}));\n\n/**\n *\n *\n * @export\n * @param {*} props\n * @returns\n */\nexport default function ImportDefinition(props) {\n    const { setSchemaDefinition } = props;\n    const classes = useStyles();\n    const [openAPIDefinitionImport, setOpenAPIDefinitionImport] = useState(false);\n    const [isImporting, setIsImporting] = useState(false);\n    const [api] = useAPI();\n    const intl = useIntl();\n    const isGraphQL = api.isGraphql();\n    const isSOAP = api.isSOAP();\n\n    const handleAPIDefinitionImportOpen = () => {\n        setOpenAPIDefinitionImport(true);\n    };\n\n    const handleAPIDefinitionImportCancel = () => {\n        setOpenAPIDefinitionImport(false);\n    };\n\n    function apiInputsReducer(currentState, inputAction) {\n        const { action, value } = inputAction;\n        switch (action) {\n            case 'inputValue':\n            case 'isFormValid':\n                return { ...currentState, [action]: value };\n            case 'inputType':\n                return { ...currentState, [action]: value, inputValue: value === 'url' ? '' : null };\n            case 'preSetAPI':\n                return {\n                    ...currentState,\n                    content: value.content,\n                };\n            default:\n                return currentState;\n        }\n    }\n\n    const [apiInputs, inputsDispatcher] = useReducer(apiInputsReducer, {\n        type: '',\n        inputType: 'url',\n        inputValue: '',\n        formValidity: false,\n        mode: 'update',\n    });\n\n    /**\n     * Updates OpenAPI definition\n     */\n    function updateOASDefinition() {\n        setIsImporting(true);\n        const {\n            inputValue, inputType, content,\n        } = apiInputs;\n        const isFileInput = inputType === 'file';\n        if (isFileInput) {\n            const reader = new FileReader();\n            const contentType = inputValue.type.includes('yaml') ? 'yaml ' : 'json';\n            reader.onloadend = (event) => {\n                setSchemaDefinition(event.currentTarget.result, contentType);\n            };\n            reader.readAsText(inputValue);\n        }\n        const newAPI = new API();\n        const promisedResponse = isFileInput ? newAPI.updateAPIDefinitionByFile(api.id, inputValue)\n            : newAPI.updateAPIDefinitionByUrl(api.id, inputValue);\n        promisedResponse\n            .then(() => {\n                Alert.success(intl.formatMessage({\n                    id: 'Apis.Details.APIDefinition.APIDefinition.api.definition.updated.successfully',\n                    defaultMessage: 'API Definition Updated Successfully',\n                }));\n                setOpenAPIDefinitionImport(false);\n                if (!isFileInput) {\n                    // Test to starting the content with'{' character ignoring white spaces\n                    const isJSONRegex = RegExp(/^\\s*{/); // TODO: not a solid test need to support from REST API ~tmkb\n                    const contentType = isJSONRegex.test(content) ? 'json' : 'yaml';\n                    setSchemaDefinition(content, contentType);\n                }\n            })\n            .catch((error) => {\n                console.error(error);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.APIDefinition.APIDefinition.error.while.updating.api.definition',\n                    defaultMessage: 'Error while updating the API Definition',\n                }));\n            }).finally(() => setIsImporting(false));\n    }\n\n    /**\n     * Update the graphQL api with its operation\n     * @param {*}  api\n     * @param {*}  graphQLInfo\n     */\n    function updateGraphQLAPIDefinition(graphQLSchema) {\n        const promisedAPI = api.updateGraphQLAPIDefinition(api.id, graphQLSchema);\n        promisedAPI\n            .then((response) => {\n                api.operations = response.obj;\n                Alert.success(intl.formatMessage({\n                    id: 'Apis.Details.APIDefinition.APIDefinition.graphQLDefinition.updated.successfully',\n                    defaultMessage: 'Schema Definition Updated Successfully',\n                }));\n                setOpenAPIDefinitionImport(false);\n                setSchemaDefinition(graphQLSchema);\n            })\n            .catch((err) => {\n                console.log(err);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.APIDefinition.APIDefinition.error.updating.graphQL.schema',\n                    defaultMessage: 'Error while updating GraphQL schema',\n                }));\n            });\n    }\n\n\n    /**\n     * Updates GraphQL schema definition\n     */\n    function updateGraphQLSchema() {\n        const {\n            inputValue,\n        } = apiInputs;\n\n        const promisedValidation = API.validateGraphQLFile(inputValue);\n        promisedValidation\n            .then((response) => {\n                const { isValid, graphQLInfo } = response.obj;\n                if (isValid === true) {\n                    updateGraphQLAPIDefinition(graphQLInfo.graphQLSchema.schemaDefinition);\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n                Alert.error(intl.formatMessage({\n                    id: 'Error.while.validating.the.imported.graphQLSchema',\n                    defaultMessage: 'Error while validating the imported schema',\n                }));\n            });\n    }\n\n    /**\n     * Updates WSDL definition\n     */\n    function updateWSDL() {\n        const {\n            inputType, inputValue,\n        } = apiInputs;\n        const isFileInput = inputType === 'file';\n        let promisedAPI;\n        if (isFileInput) {\n            promisedAPI = api.updateWSDLByFileOrArchive(api.id, inputValue);\n        } else {\n            promisedAPI = api.updateWSDLByUrl(api.id, inputValue);\n        }\n        promisedAPI\n            .then(() => {\n                Alert.success(intl.formatMessage({\n                    id: 'Apis.Details.APIDefinition.ImportDefinition.WSDL.updated.successfully',\n                    defaultMessage: 'WSDL Updated Successfully',\n                }));\n                setOpenAPIDefinitionImport(false);\n                setSchemaDefinition(isFileInput && inputValue.type === 'application/zip');\n            })\n            .catch((err) => {\n                console.log(err);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.APIDefinition.ImportDefinition.error.updating.WSDL',\n                    defaultMessage: 'Error while updating WSDL',\n                }));\n            });\n    }\n\n    /**\n     * Handles API definition import\n     */\n    function importDefinition() {\n        if (isGraphQL) {\n            updateGraphQLSchema();\n        } else if (isSOAP) {\n            updateWSDL();\n        } else {\n            updateOASDefinition();\n        }\n    }\n    /**\n     *\n     * Set the validity of the API definition imports\n     * @param {*} isValidForm\n     * @param {*} validationState\n     */\n    function handleOnValidate(isFormValid) {\n        inputsDispatcher({\n            action: 'isFormValid',\n            value: isFormValid,\n        });\n    }\n\n    let dialogTitle = (\n        <FormattedMessage\n            id='Apis.Details.APIDefinition.APIDefinition.import.definition.oas'\n            defaultMessage='Import OpenAPI Definition'\n        />\n    );\n    let dialogContent = (\n        <ProvideOpenAPI\n            onValidate={handleOnValidate}\n            apiInputs={apiInputs}\n            inputsDispatcher={inputsDispatcher}\n        />\n    );\n    let btnText = (\n        <FormattedMessage\n            id='Apis.Details.APIDefinition.APIDefinition.import.definition'\n            defaultMessage='Import Definition'\n        />\n    );\n    if (isGraphQL) {\n        dialogTitle = (\n            <FormattedMessage\n                id='Apis.Details.APIDefinition.APIDefinition.import.definition.graphql'\n                defaultMessage='Import GraphQL Schema Definition'\n            />\n        );\n        dialogContent = (\n            <ProvideGraphQL\n                onValidate={handleOnValidate}\n                apiInputs={apiInputs}\n                inputsDispatcher={inputsDispatcher}\n            />\n        );\n    }\n    if (isSOAP) {\n        dialogTitle = (\n            <FormattedMessage\n                id='Apis.Details.APIDefinition.APIDefinition.import.definition.wsdl'\n                defaultMessage='Import WSDL'\n            />\n        );\n        dialogContent = (\n            <ProvideWSDL\n                onValidate={handleOnValidate}\n                apiInputs={apiInputs}\n                inputsDispatcher={inputsDispatcher}\n            />\n        );\n        btnText = (\n            <FormattedMessage\n                id='Apis.Details.APIDefinition.APIDefinition.import.wsdl'\n                defaultMessage='Import WSDL'\n            />\n        );\n    }\n\n    return (\n        <>\n            <Button\n                size='small'\n                className={classes.button}\n                onClick={handleAPIDefinitionImportOpen}\n                disabled={isRestricted(['apim:api_create'], api)}\n            >\n                <CloudUploadRounded className={classes.buttonIcon} />\n                {btnText}\n            </Button>\n            <Dialog onBackdropClick={setOpenAPIDefinitionImport} open={openAPIDefinitionImport}>\n                <DialogTitle>\n                    <Typography className={classes.importDefinitionDialogHeader}>\n                        {dialogTitle}\n                    </Typography>\n                </DialogTitle>\n                <DialogContent>\n                    {dialogContent}\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleAPIDefinitionImportCancel}>\n                        <FormattedMessage\n                            id='Apis.Details.APIDefinition.APIDefinition.import.definition.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </Button>\n                    <Button\n                        onClick={importDefinition}\n                        variant='contained'\n                        color='primary'\n                        disabled={!apiInputs.isFormValid || isImporting}\n                    >\n                        <FormattedMessage\n                            id='Apis.Details.APIDefinition.APIDefinition.import.definition.import'\n                            defaultMessage='Import'\n                        />\n                        {isImporting && <CircularProgress size={20} />}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </>\n    );\n}\n\nImportDefinition.propTypes = {\n    setSchemaDefinition: PropTypes.func.isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { Suspense, lazy } from 'react';\nimport AppContext from 'AppComponents/Shared/AppContext';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport EditRounded from '@material-ui/icons/EditRounded';\nimport CloudDownloadRounded from '@material-ui/icons/CloudDownloadRounded';\nimport LockRounded from '@material-ui/icons/LockRounded';\nimport SwapHorizontalCircle from '@material-ui/icons/SwapHorizontalCircle';\nimport Dialog from '@material-ui/core/Dialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\nimport Paper from '@material-ui/core/Paper';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { Progress } from 'AppComponents/Shared';\nimport Typography from '@material-ui/core/Typography';\nimport Slide from '@material-ui/core/Slide';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport YAML from 'js-yaml';\nimport Alert from 'AppComponents/Shared/Alert';\nimport API from 'AppData/api.js';\nimport { doRedirectToLogin } from 'AppComponents/Shared/RedirectToLogin';\nimport { withRouter } from 'react-router';\nimport { isRestricted } from 'AppData/AuthManager';\nimport ResourceNotFound from '../../../Base/Errors/ResourceNotFound';\nimport APISecurityAudit from './APISecurityAudit';\nimport ImportDefinition from './ImportDefinition';\n\nconst EditorDialog = lazy(() => import('./SwaggerEditorDrawer' /* webpackChunkName: \"EditorDialog\" */));\nconst MonacoEditor = lazy(() => import('react-monaco-editor' /* webpackChunkName: \"APIDefMonacoEditor\" */));\n\nconst styles = (theme) => ({\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    swaggerEditorWrapper: {\n        height: '100vh',\n        overflowY: 'auto',\n    },\n    buttonIcon: {\n        marginRight: 10,\n    },\n    topBar: {\n        display: 'flex',\n        flexDirection: 'row',\n        marginBottom: theme.spacing(2),\n    },\n    converterWrapper: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        flex: '1',\n        fontSize: '0.6964285714285714rem',\n    },\n    downloadLink: {\n        color: 'black',\n    },\n    button: {\n        marginLeft: theme.spacing(1),\n    },\n    progressLoader: {\n        marginLeft: theme.spacing(1),\n    },\n});\n/**\n * This component holds the functionality of viewing the api definition content of an api. The initial view is a\n * read-only representation of the api definition file.\n * Users can either edit the content by clicking the 'Edit' button or upload a new api definition file by clicking\n * 'Import API Definition'.\n * */\nclass APIDefinition extends React.Component {\n    /**\n     * @inheritDoc\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            openEditor: false,\n            swagger: null,\n            swaggerModified: null,\n            graphQL: null,\n            format: null,\n            convertTo: null,\n            isAuditApiClicked: false,\n            securityAuditProperties: [],\n            isSwaggerValid: true,\n            isUpdating: false,\n        };\n        this.handleNo = this.handleNo.bind(this);\n        this.handleOk = this.handleOk.bind(this);\n        this.openEditor = this.openEditor.bind(this);\n        this.transition = this.transition.bind(this);\n        this.closeEditor = this.closeEditor.bind(this);\n        this.hasJsonStructure = this.hasJsonStructure.bind(this);\n        this.getConvertToFormat = this.getConvertToFormat.bind(this);\n        this.onAuditApiClick = this.onAuditApiClick.bind(this);\n        this.onChangeFormatClick = this.onChangeFormatClick.bind(this);\n        this.openUpdateConfirmation = this.openUpdateConfirmation.bind(this);\n        this.updateSwaggerDefinition = this.updateSwaggerDefinition.bind(this);\n        this.onChangeSwaggerContent = this.onChangeSwaggerContent.bind(this);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    componentDidMount() {\n        const { api } = this.props;\n        const { settings } = this.context;\n        let promisedApi;\n        if (api.type === 'GRAPHQL') {\n            promisedApi = api.getSchema(api.id);\n        } else {\n            promisedApi = api.getSwagger(api.id);\n        }\n\n        this.setState({ securityAuditProperties: settings.securityAuditProperties });\n\n        promisedApi\n            .then((response) => {\n                if (api.type === 'GRAPHQL') {\n                    this.setState({\n                        graphQL: response.obj.schemaDefinition,\n                        format: 'txt',\n                    });\n                } else {\n                    this.setState({\n                        swagger: YAML.safeDump(YAML.safeLoad(response.data)),\n                        swaggerModified: YAML.safeDump(YAML.safeLoad(response.data)),\n                        format: 'yaml',\n                        convertTo: this.getConvertToFormat('yaml'),\n                    });\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n    }\n\n\n    /**\n      * Set isAuditApiClicked to true when Audit API is clicked\n      */\n    onAuditApiClick() {\n        this.setState({ isAuditApiClicked: true });\n    }\n\n    /**\n     * Toggle the format of the api definition.\n     * JSON -> YAML, YAML -> JSON\n     */\n    onChangeFormatClick() {\n        const { format, swagger, convertTo } = this.state;\n        let formattedString = '';\n        if (convertTo === 'json') {\n            formattedString = JSON.stringify(YAML.load(swagger), null, 1);\n        } else {\n            formattedString = YAML.safeDump(YAML.safeLoad(swagger));\n        }\n        this.setState({\n            swagger: formattedString,\n            swaggerModified: formattedString,\n            format: convertTo,\n            convertTo: format,\n        });\n    }\n\n    /**\n     * Method to handle swagger content change\n     *\n     * @param {string} modifiedContent : The modified swagger content.\n     * */\n    onChangeSwaggerContent(modifiedContent) {\n        const { format } = this.state;\n        /**\n         * Validate for the basic json/ yaml format.\n         * */\n        try {\n            if (format === 'json') {\n                JSON.parse(modifiedContent, null);\n            } else {\n                YAML.load(modifiedContent);\n            }\n            this.setState({ isSwaggerValid: true, swaggerModified: modifiedContent });\n        } catch (e) {\n            this.setState({ isSwaggerValid: false, swaggerModified: modifiedContent });\n        }\n    }\n\n    setSchemaDefinition = (schemaContent, contentType) => {\n        const { api } = this.props;\n        const isGraphql = api.isGraphql();\n        if (isGraphql) {\n            this.setState({ graphQL: schemaContent });\n        } else {\n            this.setState({\n                swagger: schemaContent,\n                swaggerModified: schemaContent,\n                convertTo: this.getConvertToFormat(contentType),\n                format: contentType,\n            });\n        }\n    };\n\n    /**\n     * Util function to get the format which the definition can be converted to.\n     * @param {*} format : The current format of definition.\n     * @returns {string} The possible conversion format.\n     */\n    getConvertToFormat(format) {\n        return format === 'json' ? 'yaml' : 'json';\n    }\n\n    /**\n     * Checks whether the swagger content is json type.\n     * @param {string} definition The swagger string.\n     * @return {boolean} Whether the content is a json or not.\n     * */\n    hasJsonStructure(definition) {\n        if (typeof definition !== 'string') return false;\n        try {\n            const result = JSON.parse(definition);\n            return result && typeof result === 'object';\n        } catch (err) {\n            return false;\n        }\n    }\n\n    /**\n     * Handles the yes button action of the save api definition confirmation dialog box.\n     */\n    handleOk() {\n        const { swaggerModified } = this.state;\n        this.setState({ openDialog: false }, () => this.updateSwaggerDefinition(swaggerModified, '', ''));\n    }\n\n    /**\n     * Handles the No button action of the save api definition confirmation dialog box.\n     */\n    handleNo() {\n        this.setState({ openDialog: false });\n    }\n\n    /**\n     * Method to set the state for opening the swagger editor drawer.\n     * Swagger editor loads the definition content from the local storage. Hence we set the swagger content to the\n     * local storage.\n     * */\n    openEditor() {\n        this.setState({ openEditor: true });\n    }\n\n    /**\n     * Sets the state to close the swagger-editor drawer.\n     * */\n    closeEditor() {\n        this.setState({ openEditor: false });\n        const { intl, api, history } = this.props;\n        const { isAuditApiClicked } = this.state;\n        if (isAuditApiClicked === true) {\n            Alert.info(intl.formatMessage({\n                id: 'Apis.Details.APIDefinition.info.updating.auditapi',\n                defaultMessage: 'To reflect the changes made, you need to click Audit API',\n            }));\n            const redirectUrl = '/apis/' + api.id + '/api definition';\n            history.push(redirectUrl);\n        }\n    }\n\n    /**\n     * Handles the transition of the drawer.\n     * @param {object} props list of props\n     * @return {object} The Slide transition component\n     * */\n    transition(props) {\n        return <Slide direction='up' {...props} />;\n    }\n\n    /**\n     * Updates swagger content in the local storage.\n     * */\n    openUpdateConfirmation() {\n        this.setState({ openDialog: true });\n    }\n\n    /**\n     * Updates swagger definition of the api.\n     * @param {string} swaggerContent The swagger file that needs to be updated.\n     * @param {string} specFormat The current format of the definition\n     * @param {string} toFormat The format it can be converted to.\n     * */\n    updateSwaggerDefinition(swaggerContent, specFormat, toFormat) {\n        const { api, intl, updateAPI } = this.props;\n        this.setState({ isUpdating: true });\n        let parsedContent = {};\n        if (this.hasJsonStructure(swaggerContent)) {\n            parsedContent = JSON.parse(swaggerContent);\n        } else {\n            try {\n                parsedContent = YAML.load(swaggerContent);\n            } catch (err) {\n                console.log(err);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.APIDefinition.APIDefinition.error.while.updating.api.definition',\n                    defaultMessage: 'Error occurred while updating the API Definition',\n                }));\n                return;\n            }\n        }\n        const promise = api.updateSwagger(parsedContent);\n        promise\n            .then((response) => {\n                const { endpointImplementationType } = api;\n                if (endpointImplementationType === 'INLINE') {\n                    api.generateMockScripts(api.id);\n                }\n                if (response) {\n                    Alert.success(intl.formatMessage({\n                        id: 'Apis.Details.APIDefinition.APIDefinition.api.definition.updated.successfully',\n                        defaultMessage: 'API Definition updated successfully',\n                    }));\n                    if (specFormat && toFormat) {\n                        this.setState({ swagger: swaggerContent, format: specFormat, convertTo: toFormat });\n                    } else {\n                        this.setState({ swagger: swaggerContent });\n                    }\n                }\n                /*\n                 *updateAPI() will make a /GET call to get the latest api once the swagger definition is updated.\n                 *Otherwise, we need to refresh the page to get changes.\n                 */\n                updateAPI();\n                this.setState({ isUpdating: false });\n            })\n            .catch((err) => {\n                console.log(err);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.APIDefinition.APIDefinition.error.while.updating.api.definition',\n                    defaultMessage: 'Error occurred while updating the API Definition',\n                }));\n                this.setState({ isUpdating: false });\n            });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    render() {\n        const {\n            swagger, graphQL, openEditor, openDialog, format, convertTo, notFound, isAuditApiClicked,\n            securityAuditProperties, isSwaggerValid, swaggerModified, isUpdating,\n        } = this.state;\n        const { classes, resourceNotFountMessage, api } = this.props;\n        let downloadLink;\n        let fileName;\n        let isGraphQL = 0;\n\n        if (graphQL !== null) {\n            downloadLink = 'data:text/' + format + ';charset=utf-8,' + encodeURIComponent(graphQL);\n            fileName = api.provider + '-' + api.name + '-' + api.version + '.graphql';\n            isGraphQL = 1;\n        } else {\n            downloadLink = 'data:text/' + format + ';charset=utf-8,' + encodeURIComponent(swagger);\n            fileName = 'swagger.' + format;\n        }\n        const editorOptions = {\n            selectOnLineNumbers: true,\n            readOnly: true,\n            smoothScrolling: true,\n            wordWrap: 'on',\n        };\n\n        if (notFound) {\n            return <ResourceNotFound message={resourceNotFountMessage} />;\n        }\n        if (!swagger && !graphQL && api === 'undefined') {\n            return <Progress />;\n        }\n\n        return (\n            <>\n                <div className={classes.topBar}>\n                    <div className={classes.titleWrapper}>\n                        <Typography variant='h4'>\n                            {graphQL ? (\n                                <FormattedMessage\n                                    id='Apis.Details.APIDefinition.APIDefinition.schema.definition'\n                                    defaultMessage='Schema Definition'\n                                />\n                            ) : (\n                                <FormattedMessage\n                                    id='Apis.Details.APIDefinition.APIDefinition.api.definition'\n                                    defaultMessage='API Definition'\n                                />\n                            )}\n                        </Typography>\n                        {!(graphQL || api.type === 'APIProduct') && (\n                            <Button\n                                size='small'\n                                className={classes.button}\n                                onClick={this.openEditor}\n                                disabled={isRestricted(['apim:api_create'], api)}\n                            >\n                                <EditRounded className={classes.buttonIcon} />\n                                <FormattedMessage\n                                    id='Apis.Details.APIDefinition.APIDefinition.edit'\n                                    defaultMessage='Edit'\n                                />\n                            </Button>\n                        )}\n                        {api.type !== 'APIProduct' && (\n                            <ImportDefinition setSchemaDefinition={this.setSchemaDefinition} />\n                        )}\n                        <a className={classes.downloadLink} href={downloadLink} download={fileName}>\n                            <Button size='small' className={classes.button}>\n                                <CloudDownloadRounded className={classes.buttonIcon} />\n                                <FormattedMessage\n                                    id='Apis.Details.APIDefinition.APIDefinition.download.definition'\n                                    defaultMessage='Download Definition'\n                                />\n                            </Button>\n                        </a>\n\n                        {(securityAuditProperties.apiToken && securityAuditProperties.collectionId\n                        && api.type !== 'GRAPHQL')\n                            && (\n                                <Button size='small' className={classes.button} onClick={this.onAuditApiClick}>\n                                    <LockRounded className={classes.buttonIcon} />\n                                    <FormattedMessage\n                                        id='Apis.Details.APIDefinition.APIDefinition.audit.api'\n                                        defaultMessage='Audit API'\n                                    />\n                                </Button>\n                            )}\n\n                        {isRestricted(['apim:api_create'], api) && (\n                            <Typography variant='body2' color='primary'>\n                                <FormattedMessage\n                                    id='Apis.Details.APIDefinition.APIDefinition.update.not.allowed'\n                                    defaultMessage='Unauthorized: Insufficient permissions to update API Definition'\n                                />\n                            </Typography>\n                        )}\n                    </div>\n                    {isGraphQL === 0 && (\n                        <div className={classes.titleWrapper}>\n                            <Button size='small' className={classes.button} onClick={this.onChangeFormatClick}>\n                                <SwapHorizontalCircle className={classes.buttonIcon} />\n                                <FormattedMessage\n                                    id='Apis.Details.APIDefinition.APIDefinition.convert.to'\n                                    defaultMessage='Convert to'\n                                />\n                                {' '}\n                                {convertTo}\n                            </Button>\n                        </div>\n                    )}\n                </div>\n                <div>\n                    <Suspense fallback={<Progress />}>\n                        {isAuditApiClicked ? (\n                            <APISecurityAudit apiId={api.id} />\n                        ) : (\n                            <MonacoEditor\n                                language={format}\n                                width='100%'\n                                height='calc(100vh - 51px)'\n                                theme='vs-dark'\n                                value={swagger !== null ? swagger : graphQL}\n                                options={editorOptions}\n                            />\n                        )}\n                    </Suspense>\n                </div>\n                <Dialog fullScreen open={openEditor} onClose={this.closeEditor} TransitionComponent={this.transition}>\n                    <Paper square className={classes.popupHeader}>\n                        <IconButton\n                            className={classes.button}\n                            color='inherit'\n                            onClick={this.closeEditor}\n                            aria-label={(\n                                <FormattedMessage\n                                    id='Apis.Details.APIDefinition.APIDefinition.btn.close'\n                                    defaultMessage='Close'\n                                />\n                            )}\n                        >\n                            <Icon>close</Icon>\n                        </IconButton>\n\n                        <Button\n                            className={classes.button}\n                            variant='contained'\n                            color='primary'\n                            onClick={this.openUpdateConfirmation}\n                            disabled={!isSwaggerValid || isUpdating}\n                        >\n                            <FormattedMessage\n                                id='Apis.Details.APIDefinition.APIDefinition.documents.swagger.editor.update.content'\n                                defaultMessage='Update Content'\n                            />\n                            {isUpdating && <CircularProgress className={classes.progressLoader} size={24} />}\n                        </Button>\n                    </Paper>\n                    <Suspense\n                        fallback={(\n                            <Progress />\n                        )}\n                    >\n                        <EditorDialog\n                            swagger={swaggerModified}\n                            language={format}\n                            onEditContent={this.onChangeSwaggerContent}\n                        />\n                    </Suspense>\n                </Dialog>\n                <Dialog\n                    open={openDialog}\n                    onClose={this.handleNo}\n                    aria-labelledby='alert-dialog-title'\n                    aria-describedby='alert-dialog-description'\n                >\n                    <DialogTitle id='alert-dialog-title'>\n                        <Typography align='left'>\n                            <FormattedMessage\n                                id='Apis.Details.APIDefinition.APIDefinition.save.api.definition'\n                                defaultMessage='Save API Definition'\n                            />\n                        </Typography>\n                    </DialogTitle>\n                    <DialogContent>\n                        <DialogContentText id='alert-dialog-description'>\n                            <FormattedMessage\n                                id='Apis.Details.APIDefinition.APIDefinition.api.definition.save.confirmation'\n                                defaultMessage={\n                                    'Are you sure you want to save the API Definition? This might affect the'\n                                    + ' existing resources.'\n                                }\n                            />\n                        </DialogContentText>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleNo} color='primary'>\n                            <FormattedMessage\n                                id='Apis.Details.APIDefinition.APIDefinition.btn.no'\n                                defaultMessage='CANCEL'\n                            />\n                        </Button>\n                        <Button onClick={this.handleOk} color='primary' autoFocus variant='contained'>\n                            <FormattedMessage\n                                id='Apis.Details.APIDefinition.APIDefinition.btn.yes'\n                                defaultMessage='SAVE'\n                            />\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </>\n        );\n    }\n}\n\nAPIDefinition.contextType = AppContext;\nAPIDefinition.propTypes = {\n    classes: PropTypes.shape({\n        button: PropTypes.shape({}),\n        popupHeader: PropTypes.shape({}),\n        buttonIcon: PropTypes.shape({}),\n        root: PropTypes.shape({}),\n        topBar: PropTypes.shape({}),\n        titleWrapper: PropTypes.shape({}),\n        mainTitle: PropTypes.shape({}),\n        converterWrapper: PropTypes.shape({}),\n        dropzone: PropTypes.shape({}),\n        downloadLink: PropTypes.shape({}),\n    }).isRequired,\n    api: PropTypes.shape({\n        updateSwagger: PropTypes.func,\n        getSwagger: PropTypes.func,\n        id: PropTypes.string,\n        apiType: PropTypes.oneOf([API.CONSTS.API, API.CONSTS.APIProduct]),\n    }).isRequired,\n    history: PropTypes.shape({\n        push: PropTypes.object,\n    }).isRequired,\n    location: PropTypes.shape({\n        pathname: PropTypes.object,\n    }).isRequired,\n    resourceNotFountMessage: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n    updateAPI: PropTypes.func.isRequired,\n};\nexport default withRouter(injectIntl(withStyles(styles, { withTheme: true })(APIDefinition)));\n","/*\n * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { Suspense, lazy } from 'react';\nimport AppContext from 'AppComponents/Shared/AppContext';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport CloudDownloadRounded from '@material-ui/icons/CloudDownloadRounded';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { Progress } from 'AppComponents/Shared';\nimport Typography from '@material-ui/core/Typography';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport API from 'AppData/api.js';\nimport { withRouter } from 'react-router';\nimport { isRestricted } from 'AppData/AuthManager';\nimport Utils from 'AppData/Utils';\nimport Alert from 'AppComponents/Shared/Alert';\nimport ResourceNotFound from '../../../Base/Errors/ResourceNotFound';\nimport ImportDefinition from './ImportDefinition';\n\nconst MonacoEditor = lazy(() => import('react-monaco-editor' /* webpackChunkName: \"APIDefMonacoEditor\" */));\n\nconst styles = (theme) => ({\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    swaggerEditorWrapper: {\n        height: '100vh',\n        overflowY: 'auto',\n    },\n    buttonIcon: {\n        marginRight: 10,\n    },\n    topBar: {\n        display: 'flex',\n        flexDirection: 'row',\n        marginBottom: theme.spacing(2),\n    },\n    converterWrapper: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        flex: '1',\n        fontSize: '0.6964285714285714rem',\n    },\n    downloadLink: {\n        color: 'black',\n    },\n    button: {\n        marginLeft: theme.spacing(1),\n    },\n});\n\n/**\n * This component holds the functionality of viewing the WSDL content of an api. The view is a\n * read-only representation of the WSDL file. If the API has a WSDL ZIP archive, the preview will not be\n * available and it will be indicated in the UI.\n * Users can upload a new api definition file by clicking 'Import WSDL'.\n *\n * @class WSDL\n * @extends {Component}\n * */\nclass WSDL extends React.Component {\n    /**\n     * @inheritDoc\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            isArchive: false,\n            wsdl: null,\n        };\n        this.loadWSDLInEditor = this.loadWSDLInEditor.bind(this);\n        this.handleDownloadWSDLZip = this.handleDownloadWSDLZip.bind(this);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    componentDidMount() {\n        const { api, intl } = this.props;\n        const promisedWSDLInfo = api.getWSDLInfo(api.id);\n        promisedWSDLInfo\n            .then((response) => {\n                const wsdlType = response.obj.type;\n                if (wsdlType === 'WSDL') {\n                    this.loadWSDLInEditor(api);\n                } else {\n                    this.setState({ isArchive: true, wsdl: null });\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else {\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.APIDefinition.WSDL.error.loading.wsdl.info',\n                        defaultMessage: 'Error loading WSDL',\n                    }));\n                }\n            });\n    }\n\n    /**\n     * Downloads and loads the API's WSDL in the editor. If the WSDL is ZIP, the operation is skipped\n     * and it is indicated in the UI.\n     *\n     *  @param {boolean} isArchive states whether the WSDL is a ZIP\n     */\n    setSchemaDefinition = (isArchive) => {\n        this.setState({ isArchive, wsdl: null });\n        if (!isArchive) {\n            const { api } = this.props;\n            this.loadWSDLInEditor(api);\n        }\n    }\n\n    /**\n     * Downloads and loads the API's WSDL in the editor.\n     *\n     * @param {*} api API\n     */\n    loadWSDLInEditor(api) {\n        const { intl } = this.props;\n        const promisedApi = api.getWSDL(api.id);\n\n        promisedApi\n            .then((response) => {\n                response.data.text().then((text) => {\n                    this.setState({\n                        isArchive: false,\n                        wsdl: text,\n                    });\n                });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ notFound: true });\n                } else {\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.APIDefinition.WSDL.error.loading.wsdl',\n                        defaultMessage: 'Error loading WSDL',\n                    }));\n                }\n            });\n    }\n\n    /**\n     * Downloads WSDL ZIP file.\n     *\n     */\n    handleDownloadWSDLZip() {\n        const { api, intl } = this.props;\n        const wsdlZipContent = api.getWSDL(api.id);\n        wsdlZipContent.then((response) => {\n            Utils.forceDownload(response);\n        })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.APIDefinition.WSDL.download.error',\n                    defaultMessage: 'Error downloading WSDL ZIP file',\n                }));\n            });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    render() {\n        const {\n            wsdl, notFound, isArchive,\n        } = this.state;\n        const { classes, resourceNotFountMessage, api } = this.props;\n\n        const editorOptions = {\n            selectOnLineNumbers: true,\n            readOnly: true,\n            smoothScrolling: true,\n            wordWrap: 'on',\n            cursorStyle: 'line-thin',\n        };\n\n        if (notFound) {\n            return <ResourceNotFound message={resourceNotFountMessage} />;\n        }\n\n        if (!isArchive && !wsdl) {\n            return <Progress />;\n        }\n\n        let downloadWidget;\n        const downloadButtonContent = (\n            <>\n                <CloudDownloadRounded className={classes.buttonIcon} />\n                <FormattedMessage\n                    id='Apis.Details.APIDefinition.WSDL.download.definition'\n                    defaultMessage='Download WSDL'\n                />\n            </>\n        );\n        if (!isArchive) {\n            const downloadLink = 'data:text/xml;charset=utf-8,' + encodeURIComponent(wsdl);\n            const fileName = api.name + '-' + api.version + '.wsdl';\n            downloadWidget = (\n                <a className={classes.downloadLink} href={downloadLink} download={fileName}>\n                    <Button size='small' className={classes.button}>\n                        {downloadButtonContent}\n                    </Button>\n                </a>\n            );\n        } else {\n            downloadWidget = (\n                <Button size='small' className={classes.button} onClick={this.handleDownloadWSDLZip}>\n                    {downloadButtonContent}\n                </Button>\n            );\n        }\n\n        return (\n            <>\n                <div className={classes.topBar}>\n                    <div className={classes.titleWrapper}>\n                        <Typography variant='h4'>\n                            <FormattedMessage\n                                id='Apis.Details.APIDefinition.WSDL.wsdl.definition'\n                                defaultMessage='WSDL Definition'\n                            />\n                        </Typography>\n                        <ImportDefinition setSchemaDefinition={this.setSchemaDefinition} />\n                        {downloadWidget}\n                        {isRestricted(['apim:api_create'], api) && (\n                            <Typography variant='body2' color='primary'>\n                                <FormattedMessage\n                                    id='Apis.Details.APIDefinition.WSDL.update.not.allowed'\n                                    defaultMessage='Unauthorized: Insufficient permissions to update WSDL Definition'\n                                />\n                            </Typography>\n                        )}\n                    </div>\n                </div>\n                <div>\n                    <Suspense fallback={<Progress />}>\n                        {isArchive ? (\n                            <InlineMessage type='info' height={80} className={classes.emptyBox}>\n                                <div className={classes.contentWrapper}>\n                                    <Typography component='p' className={classes.content}>\n                                        <FormattedMessage\n                                            id='Apis.Details.APIDefinition.WSDL.preview.not.available'\n                                            defaultMessage='The API has a WSDL ZIP hence the preview is not available.'\n                                        />\n                                    </Typography>\n                                </div>\n                            </InlineMessage>\n                        ) : (\n                            <MonacoEditor\n                                language='xml'\n                                width='100%'\n                                height='calc(100vh - 51px)'\n                                theme='vs-dark'\n                                value={wsdl}\n                                options={editorOptions}\n                            />\n                        )}\n\n                    </Suspense>\n                </div>\n            </>\n        );\n    }\n}\n\nWSDL.contextType = AppContext;\nWSDL.propTypes = {\n    classes: PropTypes.shape({\n        button: PropTypes.shape({}),\n        popupHeader: PropTypes.shape({}),\n        buttonIcon: PropTypes.shape({}),\n        root: PropTypes.shape({}),\n        topBar: PropTypes.shape({}),\n        titleWrapper: PropTypes.shape({}),\n        mainTitle: PropTypes.shape({}),\n        converterWrapper: PropTypes.shape({}),\n        dropzone: PropTypes.shape({}),\n        downloadLink: PropTypes.shape({}),\n    }).isRequired,\n    api: PropTypes.shape({\n        updateSwagger: PropTypes.func,\n        getSwagger: PropTypes.func,\n        id: PropTypes.string,\n        apiType: PropTypes.oneOf([API.CONSTS.API, API.CONSTS.APIProduct]),\n    }).isRequired,\n    history: PropTypes.shape({\n        push: PropTypes.object,\n    }).isRequired,\n    location: PropTypes.shape({\n        pathname: PropTypes.object,\n    }).isRequired,\n    resourceNotFountMessage: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n};\nexport default withRouter(injectIntl(withStyles(styles, { withTheme: true })(WSDL)));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nconst suggestions = {\n    common: [\n        {\n            label: 'Overview',\n            route: 'overview',\n        },\n        {\n            label: 'MetaData',\n            route: 'overview',\n        },\n        {\n            label: 'Runtime Configurations',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Transport Level Security',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Mutual SSL',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Design Configurations',\n            route: 'configuration',\n        },\n        {\n            label: 'Manage SSL Certificates',\n            route: 'configuration',\n        },\n        {\n            label: 'HTTP HTTPS enable disable',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Application Level Security',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Enable/Disable OAuth2',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Enable/Disable Basic Auth',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Enable/Disable Api Key',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Authorization Headers',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'CORS Configuration',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Backend Throughput',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Message Mediation',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Response',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Request',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Backend',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Access Control Allow Origins',\n            route: 'configuration',\n        },\n        {\n            label: 'Access Control Allow Headers',\n            route: 'configuration',\n        },\n        {\n            label: 'Access Control Allow Credentials',\n            route: 'configuration',\n        },\n        {\n            label: 'Response caching',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Publisher Access Control',\n            route: 'configuration',\n        },\n        {\n            label: 'Developer Portal Visibility',\n            route: 'configuration',\n        },\n        {\n            label: 'Tags',\n            route: 'configuration',\n        },\n        {\n            label: 'Default Version',\n            route: 'configuration',\n        },\n        {\n            label: 'Image',\n            route: 'configuration',\n        },\n        {\n            label: 'Description',\n            route: 'configuration',\n        },\n        {\n            label: 'Documents',\n            route: 'documents',\n        },\n        {\n            label: 'Add New Documents',\n            route: 'documents',\n        },\n        {\n            label: 'API Help',\n            route: 'documents',\n        },\n        {\n            label: 'Markdown Documents',\n            route: 'documents',\n        },\n        {\n            label: 'Business Information',\n            route: 'business info',\n        },\n        {\n            label: 'Business Owner',\n            route: 'business info',\n        },\n        {\n            label: 'Technical Owner',\n            route: 'business info',\n        },\n        {\n            label: 'Properties',\n            route: 'business info',\n        },\n        {\n            label: 'Subscriptions',\n            route: 'subscriptions',\n        },\n        {\n            label: 'Subscription Policies',\n            route: 'subscriptions',\n        },\n        {\n            label: 'Subscription Availability',\n            route: 'subscriptions',\n        },\n    ],\n    apiOnly: [\n        {\n            label: 'API Gateways',\n            route: 'environments',\n        },\n        {\n            label: 'Microgateway Labels',\n            route: 'environments',\n        },\n        {\n            label: 'Environments',\n            route: 'environments',\n        },\n        {\n            label: 'Lifecycle',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Publish API',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Block API',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Depricate API',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Change Lifecycle',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Deploy as a Prototype API',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Requirements',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Mediation Policies',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Monetization',\n            route: 'monetization',\n        },\n        {\n            label: 'Monetization Properties',\n            route: 'monetization',\n        },\n        {\n            label: 'Commercial Policies',\n            route: 'monetization',\n        },\n        {\n            label: 'Create New Version',\n            route: 'new_version',\n        },\n        {\n            label: 'Prototyped API',\n            route: 'endpoints',\n        },\n        {\n            label: 'AWS Lambda Endpoints',\n            route: 'endpoints',\n        },\n        {\n            label: 'HTTP/HTTPS Endpoints',\n            route: 'endpoints',\n        },\n        {\n            label: 'HTTP/SOAP Endpoints',\n            route: 'endpoints',\n        },\n        {\n            label: 'Dynamic Endpoints',\n            route: 'endpoints',\n        },\n        {\n            label: 'Endpoint Security',\n            route: 'endpoints',\n        },\n        {\n            label: 'Certificates',\n            route: 'endpoints',\n        },\n        {\n            label: 'Production Endpoint',\n            route: 'endpoints',\n        },\n        {\n            label: 'Sandbox Endpoint',\n            route: 'endpoints',\n        },\n        {\n            label: 'Failover Endpoint',\n            route: 'endpoints',\n        },\n        {\n            label: 'Load Balance Endpoint',\n            route: 'endpoints',\n        },\n        {\n            label: 'Endpoints',\n            route: 'endpoints',\n        },\n        {\n            label: 'API Definition',\n            route: 'api definition',\n        },\n        {\n            label: 'Import API Definition',\n            route: 'api definition',\n        },\n        {\n            label: 'Download API Definition',\n            route: 'api definition',\n        },\n        {\n            label: 'Swagger',\n            route: 'api definition',\n        },\n        {\n            label: 'Import Swagger',\n            route: 'api definition',\n        },\n        {\n            label: 'Download Swagger',\n            route: 'api definition',\n        },\n        {\n            label: 'OAS',\n            route: 'api definition',\n        },\n        {\n            label: 'Import OAS',\n            route: 'api definition',\n        },\n        {\n            label: 'Download OAS',\n            route: 'api definition',\n        },\n        {\n            label: 'OpenAPI',\n            route: 'api definition',\n        },\n        {\n            label: 'Import OpenAPI',\n            route: 'api definition',\n        },\n        {\n            label: 'Download OpenAPI',\n            route: 'api definition',\n        },\n        {\n            label: 'Resources',\n            route: 'resources',\n        },\n        {\n            label: 'Resources Configuration',\n            route: 'resources',\n        },\n        {\n            label: 'Rate Limiting',\n            route: 'resources',\n        },\n        {\n            label: 'Operation Governance',\n            route: 'resources',\n        },\n        {\n            label: 'Scopes',\n            route: 'scopes',\n        },\n        {\n            label: 'Add New Scope',\n            route: 'scopes',\n        },\n        {\n            label: 'Schema validation',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Fault',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Endpoints',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Properties',\n            route: 'properties',\n        },\n    ],\n    productOnly: [\n        {\n            label: 'Product only feature',\n            route: 'configuration',\n        },\n        {\n            label: 'API Definition',\n            route: 'api definition',\n        },\n        {\n            label: 'Import API Definition',\n            route: 'api definition',\n        },\n        {\n            label: 'Download API Definition',\n            route: 'api definition',\n        },\n        {\n            label: 'Swagger',\n            route: 'api definition',\n        },\n        {\n            label: 'Import Swagger',\n            route: 'api definition',\n        },\n        {\n            label: 'Download Swagger',\n            route: 'api definition',\n        },\n        {\n            label: 'OAS',\n            route: 'api definition',\n        },\n        {\n            label: 'Import OAS',\n            route: 'api definition',\n        },\n        {\n            label: 'Download OAS',\n            route: 'api definition',\n        },\n        {\n            label: 'OpenAPI',\n            route: 'api definition',\n        },\n        {\n            label: 'Import OpenAPI',\n            route: 'api definition',\n        },\n        {\n            label: 'Download OpenAPI',\n            route: 'api definition',\n        },\n        {\n            label: 'Resources',\n            route: 'resources',\n        },\n        {\n            label: 'Resources Configuration',\n            route: 'resources',\n        },\n        {\n            label: 'Rate Limiting',\n            route: 'resources',\n        },\n        {\n            label: 'Operation Governance',\n            route: 'resources',\n        },\n        {\n            label: 'Schema validation',\n            route: 'runtime-configuration',\n        },\n    ],\n    graphqlOnly: [\n        {\n            label: 'Operations',\n            route: 'operations',\n        },\n        {\n            label: 'Operation Type',\n            route: 'operations',\n        },\n        {\n            label: 'Operations Configuration',\n            route: 'operations',\n        },\n        {\n            label: 'Rate Limiting',\n            route: 'operations',\n        },\n        {\n            label: 'Schema Definition',\n            route: 'schema definition',\n        },\n        {\n            label: 'Scopes',\n            route: 'scopes',\n        },\n        {\n            label: 'Add New Scope',\n            route: 'scopes',\n        },\n        {\n            label: 'Fault',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Endpoints',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Environments',\n            route: 'environments',\n        },\n        {\n            label: 'API Gateways',\n            route: 'environments',\n        },\n        {\n            label: 'Microgateway Labels',\n            route: 'environments',\n        },\n        {\n            label: 'Lifecycle',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Publish API',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Block API',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Depricate API',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Change Lifecycle',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Deploy as a Prototype API',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Requirements',\n            route: 'lifecycle',\n        },\n        {\n            label: 'Monetization',\n            route: 'monetization',\n        },\n        {\n            label: 'Monetization Properties',\n            route: 'monetization',\n        },\n        {\n            label: 'Commercial Policies',\n            route: 'monetization',\n        },\n        {\n            label: 'Create New Version',\n            route: 'new_version',\n        },\n        {\n            label: 'Prototyped API',\n            route: 'endpoints',\n        },\n        {\n            label: 'AWS Lambda Endpoints',\n            route: 'endpoints',\n        },\n        {\n            label: 'HTTP/HTTPS Endpoints',\n            route: 'endpoints',\n        },\n        {\n            label: 'HTTP/SOAP Endpoints',\n            route: 'endpoints',\n        },\n        {\n            label: 'Dynamic Endpoints',\n            route: 'endpoints',\n        },\n        {\n            label: 'Endpoint Security',\n            route: 'endpoints',\n        },\n        {\n            label: 'Certificates',\n            route: 'endpoints',\n        },\n        {\n            label: 'Production Endpoint',\n            route: 'endpoints',\n        },\n        {\n            label: 'Sandbox Endpoint',\n            route: 'endpoints',\n        },\n        {\n            label: 'Failover Endpoint',\n            route: 'endpoints',\n        },\n        {\n            label: 'Load Balance Endpoint',\n            route: 'endpoints',\n        },\n        {\n            label: 'Endpoints',\n            route: 'endpoints',\n        },\n        {\n            label: 'Fault',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Endpoints',\n            route: 'runtime-configuration',\n        },\n        {\n            label: 'Properties',\n            route: 'properties',\n        },\n    ],\n};\nexport default suggestions;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint object-shorthand: 0 */\n/* eslint jsx-a11y/click-events-have-key-events: 0 */\n\n/* eslint no-unused-expressions: 0 */\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport deburr from 'lodash/deburr';\nimport Downshift from 'downshift';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Icon from '@material-ui/core/Icon';\nimport { FormattedMessage } from 'react-intl';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport suggestions from './RouteMappings';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        height: 250,\n    },\n    container: {\n        flexGrow: 1,\n        position: 'relative',\n    },\n    paper: {\n        position: 'absolute',\n        zIndex: theme.zIndex.goToSearch,\n        marginTop: theme.spacing(1),\n        left: 0,\n        right: 0,\n    },\n    chip: {\n        margin: theme.spacing(0.5, 0.25),\n    },\n    inputRoot: {\n        flexWrap: 'wrap',\n    },\n    inputInput: {\n        width: 'auto',\n        flexGrow: 1,\n    },\n    divider: {\n        height: theme.spacing(2),\n    },\n    linkButton: {\n        display: 'flex',\n        alignItems: 'center',\n        flexDirection: 'column',\n        padding: 10,\n        cursor: 'pointer',\n        minWidth: 30,\n    },\n    goToWrapper: {\n        position: 'relative',\n    },\n    downshiftWrapper: {\n        position: 'absolute',\n        padding: theme.spacing(1),\n        right: 60,\n        top: 0,\n        width: 300,\n        background: 'white',\n        border: 'solid 1px #ccc',\n        borderRadius: 5,\n    },\n}));\n\n/**\n * Method to render the input of the user\n * @param {*} inputProps inputProps\n * @returns {*} TextField\n */\nfunction renderInput(inputProps) {\n    const {\n        InputProps, classes, ref, ...other\n    } = inputProps;\n\n    return (\n        <TextField\n            autoFocus\n            InputProps={{\n                inputRef: ref,\n                classes: {\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                },\n                ...InputProps,\n            }}\n            {...other}\n        />\n    );\n}\n\nrenderInput.propTypes = {\n    /**\n     * Override or extend the styles applied to the component.\n     */\n    classes: PropTypes.shape({}).isRequired,\n    InputProps: PropTypes.shape({}).isRequired,\n};\n\n/**\n * Method to render the suggestions\n * @param {*} suggestionProps suggestionProps\n * @returns {*} ListItem list of suggestions\n */\nfunction renderSuggestion(suggestionProps) {\n    const {\n        suggestion, index, itemProps, highlightedIndex, api, isAPIProduct, handleClickAway,\n    } = suggestionProps;\n    const isHighlighted = highlightedIndex === index;\n\n    const route = (isAPIProduct\n        ? (`/api-products/${api.id}/${suggestion.route}`)\n        : (`/apis/${api.id}/${suggestion.route}`));\n    return (\n        <Link\n            to={route}\n            onClick={handleClickAway}\n        >\n            <ListItem\n                key={suggestion.label}\n                {...itemProps}\n                selected={isHighlighted}\n                button\n                aria-haspopup='true'\n                aria-controls='lock-menu'\n                aria-label='when device is locked'\n            >\n                <ListItemText primary={suggestion.label} secondary={suggestion.route} />\n            </ListItem>\n        </Link>\n    );\n}\n\nrenderSuggestion.propTypes = {\n    highlightedIndex: PropTypes.oneOfType([PropTypes.oneOf([null]), PropTypes.number]).isRequired,\n    index: PropTypes.number.isRequired,\n    itemProps: PropTypes.shape({}).isRequired,\n    selectedItem: PropTypes.string.isRequired,\n    suggestion: PropTypes.shape({\n        label: PropTypes.string.isRequired,\n    }).isRequired,\n};\n\n/**\n * Method to retrieve suggestions\n * @param {*} value Value of suggestion\n * @param {*} isAPIProduct Boolean to check if it is an APIProduct\n * @param {*} param2 showEmpty\n * @returns {*} filter\n */\nfunction getSuggestions(value, isAPIProduct, isGraphQL, { showEmpty = false } = {}) {\n    const inputValue = deburr(value.trim()).toLowerCase();\n    const inputLength = inputValue.length;\n    let count = 0;\n    const newSuggestions = [...suggestions.common];\n\n    if (isAPIProduct) {\n        newSuggestions.push(...suggestions.productOnly);\n    } else if (isGraphQL) {\n        newSuggestions.push(...suggestions.graphqlOnly);\n    } else {\n        newSuggestions.push(...suggestions.apiOnly);\n    }\n\n    return inputLength === 0 && !showEmpty\n        ? []\n        : newSuggestions.filter((suggestion) => {\n            const keep = count < 5 && suggestion.label.slice(0, inputLength).toLowerCase() === inputValue;\n\n            if (keep) {\n                count += 1;\n            }\n\n            return keep;\n        });\n}\n\n\n/**\n * Method to render the GoTo search feature\n * @param {*} props props param\n * @returns {*} Downshift element\n */\nfunction GoTo(props) {\n    const { isAPIProduct, api } = props;\n    const classes = useStyles();\n    const [showSearch, setShowSearch] = useState(false);\n    let isGraphQL = false;\n\n    if (api.type === 'GRAPHQL') {\n        isGraphQL = true;\n    }\n    const toggleSearch = () => {\n        setShowSearch(!showSearch);\n    };\n    const handleClickAway = () => {\n        setShowSearch(false);\n    };\n\n    return (\n        <ClickAwayListener onClickAway={handleClickAway}>\n            <div className={classes.goToWrapper}>\n                <a className={classes.linkButton} onClick={toggleSearch}>\n                    <Icon>find_in_page</Icon>\n                    <Typography variant='caption'>\n                        <FormattedMessage id='Apis.Details.GoTo.GoTo.btn' defaultMessage='Go To' />\n                    </Typography>\n                </a>\n                {showSearch && (\n                    <div className={classes.downshiftWrapper}>\n                        <Downshift id='downshift-simple'>\n                            {({\n                                getInputProps,\n                                getItemProps,\n                                getLabelProps,\n                                getMenuProps,\n                                highlightedIndex,\n                                inputValue,\n                                isOpen,\n                                selectedItem,\n                            }) => {\n                                const { onBlur, onFocus, ...inputProps } = getInputProps({\n                                    placeholder: 'Type what you want to do..',\n                                });\n\n                                return (\n                                    <div className={classes.container}>\n                                        {renderInput({\n                                            fullWidth: true,\n                                            classes,\n                                            label: 'Go to menu item',\n                                            InputLabelProps: getLabelProps({ shrink: true }),\n                                            InputProps: { onBlur, onFocus },\n                                            inputProps,\n                                        })}\n\n                                        <div {...getMenuProps()}>\n                                            {isOpen ? (\n                                                <Paper className={classes.paper} square>\n                                                    {getSuggestions(inputValue, isAPIProduct, isGraphQL)\n                                                        .map((suggestion, index) => renderSuggestion({\n                                                            suggestion,\n                                                            index,\n                                                            itemProps: getItemProps({ item: suggestion.label }),\n                                                            highlightedIndex,\n                                                            selectedItem,\n                                                            handleClickAway: handleClickAway,\n                                                            ...props,\n                                                        }))}\n                                                </Paper>\n                                            ) : null}\n                                        </div>\n                                    </div>\n                                );\n                            }}\n                        </Downshift>\n                    </div>\n                )}\n            </div>\n        </ClickAwayListener>\n    );\n}\n\nGoTo.propTypes = {\n    api: PropTypes.shape({}).isRequired,\n    isAPIProduct: PropTypes.bool.isRequired,\n};\n\nexport default GoTo;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\n\nimport LibraryAdd from '@material-ui/icons/LibraryAdd';\nimport PropTypes from 'prop-types';\nimport { Link, withRouter } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage } from 'react-intl';\n\nimport { resourceMethod, resourcePath, ScopeValidation } from 'AppData/ScopeValidation';\nimport VerticalDivider from 'AppComponents/Shared/VerticalDivider';\n\nconst styles = (theme) => ({\n    root: {\n        height: 70,\n        background: theme.palette.background.paper,\n        borderBottom: 'solid 1px ' + theme.palette.grey.A200,\n        display: 'flex',\n        alignItems: 'center',\n    },\n    backLink: {\n        alignItems: 'center',\n        textDecoration: 'none',\n        display: 'flex',\n    },\n    backIcon: {\n        color: theme.palette.primary.main,\n        fontSize: 56,\n        cursor: 'pointer',\n    },\n    backText: {\n        color: theme.palette.primary.main,\n        cursor: 'pointer',\n        fontFamily: theme.typography.fontFamily,\n    },\n    createNewVersionWrapper: {\n        display: 'flex',\n        justifyContent: 'flex-end',\n    },\n    createNewVersion: {\n        display: 'flex',\n        flexDirection: 'column',\n        textAlign: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer',\n        color: theme.custom.createNewVersionButtonColor || 'inherit',\n    },\n    linkText: {\n        fontSize: theme.typography.fontSize,\n    },\n});\n\n/**\n *\n * Function to create a 'CreateNewVersion' button\n *\n * @param {any} props props\n * @returns {*} React CreateNewVersion function component\n * @constructor\n */\nfunction CreateNewVersionButton(props) {\n    const { api, classes } = props;\n    return (\n        <>\n            {/* allowing create new version based on scopes */}\n            <ScopeValidation resourceMethod={resourceMethod.POST} resourcePath={resourcePath.API_COPY}>\n                <div className={classes.createNewVersionWrapper}>\n                    <VerticalDivider height={70} />\n                    <Link\n                        className={classes.createNewVersion}\n                        to={'/apis/' + api.id + '/new_version'}\n                        style={{ minWidth: 95 }}\n                    >\n\n                        <div>\n                            <LibraryAdd />\n                        </div>\n                        <Typography variant='caption'>\n                            <FormattedMessage\n                                id='Apis.Details.components.CreateNewVersionButton.create.new.version'\n                                defaultMessage='Create New Version'\n                            />\n                        </Typography>\n                    </Link>\n                </div>\n            </ScopeValidation>\n        </>\n    );\n}\n\nCreateNewVersionButton.propTypes = {\n    api: PropTypes.shape({\n        id: PropTypes.string,\n    }).isRequired,\n    history: PropTypes.shape({ push: PropTypes.func }).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n};\n\nexport default withRouter(withStyles(styles, { withTheme: true })(CreateNewVersionButton));\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Utils from 'AppData/Utils';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport CloudDownloadRounded from '@material-ui/icons/CloudDownloadRounded';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport ApiContext from 'AppComponents/Apis/Details/components/ApiContext';\nimport { useAppContext } from 'AppComponents/Shared/AppContext';\nimport ThumbnailView from 'AppComponents/Apis/Listing/components/ImageGenerator/ThumbnailView';\nimport VerticalDivider from 'AppComponents/Shared/VerticalDivider';\nimport GoTo from 'AppComponents/Apis/Details/GoTo/GoTo';\nimport API from 'AppData/api';\nimport DeleteApiButton from './DeleteApiButton';\nimport CreateNewVersionButton from './CreateNewVersionButton';\n\n\nconst styles = (theme) => ({\n    root: {\n        height: 70,\n        background: theme.palette.background.paper,\n        borderBottom: 'solid 1px ' + theme.palette.grey.A200,\n        display: 'flex',\n        alignItems: 'center',\n    },\n    backLink: {\n        alignItems: 'center',\n        textDecoration: 'none',\n        display: 'flex',\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n    },\n    backIcon: {\n        color: theme.palette.primary.main,\n        fontSize: 56,\n        cursor: 'pointer',\n    },\n    backText: {\n        color: theme.palette.primary.main,\n        cursor: 'pointer',\n        fontFamily: theme.typography.fontFamily,\n    },\n    viewInStoreLauncher: {\n        display: 'flex',\n        flexDirection: 'column',\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n        textAlign: 'center',\n        justifyContent: 'center',\n        height: 70,\n    },\n    linkText: {\n        fontSize: theme.typography.fontSize,\n    },\n    dateWrapper: {\n        flex: 1,\n        alignSelf: 'center',\n    },\n    lastUpdatedTypography: {\n        display: 'inline-block',\n        minWidth: 30,\n    },\n    apiName: {\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    downloadApi: {\n        display: 'flex',\n        flexDirection: 'column',\n        textAlign: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer',\n        height: 70,\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n    },\n    downloadApiFlex: {\n        display: 'flex',\n        flexDirection: 'column',\n    },\n});\n\n\nconst APIDetailsTopMenu = (props) => {\n    const {\n        classes, theme, api, isAPIProduct, imageUpdate, intl,\n    } = props;\n    const isVisibleInStore = ['PROTOTYPED', 'PUBLISHED'].includes(api.lifeCycleStatus);\n    /**\n * The component for advanced endpoint configurations.\n * @param {string} name The name of the\n * @param {string} version Version of the API\n * @param {string} provider Provider of the API\n * @param {string} format Weather to recive files in YALM of JSON format\n * @returns {zip} Zpi file containing the API directory.\n */\n    function exportAPI() {\n        const restApi = new API();\n        return restApi.exportApi(api.id).then((zipFile) => {\n            return Utils.forceDownload(zipFile);\n        }).catch((error) => {\n            if (error.response) {\n                Alert.error(error.response.body.description);\n            } else {\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.components.APIDetailsTopMenu.error',\n                    defaultMessage: 'Something went wrong while downloading the API.',\n                }));\n            }\n            console.error(error);\n        });\n    }\n\n    const isDownlodable = ['API'].includes(api.apiType);\n    const { settings, user } = useAppContext();\n    const { tenantList } = useContext(ApiContext);\n    const userNameSplit = user.name.split('@');\n    const tenantDomain = userNameSplit[userNameSplit.length - 1];\n    let devportalUrl = `${settings.storeUrl}/apis/${api.id}/overview`;\n    if (tenantList && tenantList.length > 0) {\n        devportalUrl = `${settings.storeUrl}/apis/${api.id}/overview?tenant=${tenantDomain}`;\n    }\n    // todo: need to support rev proxy ~tmkb\n    return (\n        <div className={classes.root}>\n            <Link\n                to={isAPIProduct\n                    ? `/api-products/${api.id}/overview`\n                    : `/apis/${api.id}/overview`}\n                className={classes.backLink}\n            >\n                <Box width={70} height={50} marginLeft={1}>\n                    <ThumbnailView api={api} width={70} height={50} imageUpdate={imageUpdate} />\n                </Box>\n                <div style={{ marginLeft: theme.spacing(1), maxWidth: 500 }}>\n                    <Typography variant='h4' className={classes.apiName}>\n                        {api.name}\n                        {' '}\n                        {isAPIProduct ? '' : ':' + api.version}\n                    </Typography>\n                    <Typography variant='caption' gutterBottom align='left'>\n                        <FormattedMessage\n                            id='Apis.Details.components.APIDetailsTopMenu.created.by'\n                            defaultMessage='Created by:'\n                        />\n                        {' '}\n                        {api.provider}\n                    </Typography>\n                </div>\n            </Link>\n            <VerticalDivider height={70} />\n            <div className={classes.infoItem}>\n                <Typography variant='subtitle1'>{isAPIProduct ? api.state : api.lifeCycleStatus}</Typography>\n                <Typography variant='caption' align='left'>\n                    <FormattedMessage\n                        id='Apis.Details.components.APIDetailsTopMenu.state'\n                        defaultMessage='State'\n                    />\n                </Typography>\n            </div>\n            <div className={classes.dateWrapper} />\n            <VerticalDivider height={70} />\n            <GoTo api={api} isAPIProduct={isAPIProduct} />\n            {(isVisibleInStore || isAPIProduct) && <VerticalDivider height={70} />}\n            {(isVisibleInStore || isAPIProduct) && (\n                <a\n                    target='_blank'\n                    rel='noopener noreferrer'\n                    href={devportalUrl}\n                    className={classes.viewInStoreLauncher}\n                    style={{ minWidth: 90 }}\n                >\n                    <div>\n                        <LaunchIcon />\n                    </div>\n                    <Typography variant='caption'>\n                        <FormattedMessage\n                            id='Apis.Details.components.APIDetailsTopMenu.view.in.portal'\n                            defaultMessage='View in Dev Portal'\n                        />\n                    </Typography>\n                </a>\n            )}\n            {/* Page error banner */}\n            {/* end of Page error banner */}\n            {isAPIProduct ? null : <CreateNewVersionButton buttonClass={classes.viewInStoreLauncher} api={api} />}\n            {(isDownlodable) && <VerticalDivider height={70} />}\n            <div className={classes.downloadApi}>\n                {(isDownlodable) && (\n                    <a\n                        onClick={exportAPI}\n                        onKeyDown='null'\n                        className={classes.downloadApiFlex}\n                    >\n                        <div>\n                            <CloudDownloadRounded />\n                        </div>\n                        <Typography variant='caption' align='left'>\n                            <FormattedMessage\n                                id='Apis.Details.APIDetailsTopMenu.download.api'\n                                defaultMessage='Download API'\n                            />\n                        </Typography>\n                    </a>\n                )}\n            </div>\n            <DeleteApiButton buttonClass={classes.viewInStoreLauncher} api={api} isAPIProduct={isAPIProduct} />\n        </div>\n    );\n};\n\nAPIDetailsTopMenu.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    theme: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({}).isRequired,\n    isAPIProduct: PropTypes.bool.isRequired,\n    imageUpdate: PropTypes.number.isRequired,\n};\n\n\n// export default withStyles(styles, { withTheme: true })(APIDetailsTopMenu);\n\nexport default injectIntl(withStyles(styles, { withTheme: true })(APIDetailsTopMenu));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { FormattedMessage } from 'react-intl';\nimport API from 'AppData/api.js';\nimport { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport { isRestricted } from 'AppData/AuthManager';\nimport APIValidation from 'AppData/APIValidation';\n\nconst styles = (theme) => ({\n    FormControl: {\n        padding: 0,\n        width: '100%',\n        marginTop: 0,\n    },\n    FormControlOdd: {\n        padding: 0,\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        marginTop: 0,\n    },\n    buttonWrapper: {\n        paddingTop: 20,\n    },\n    paperRoot: {\n        padding: 20,\n        marginTop: 20,\n    },\n});\n\n/**\n *\n *\n * @class BusinessInformation\n * @extends {React.Component}\n */\nclass BusinessInformation extends React.Component {\n    /**\n     *Creates an instance of BusinessInformation.\n     * @param {*} props\n     * @memberof BusinessInformation\n     */\n    constructor(props) {\n        super(props);\n        const {\n            businessOwner,\n            businessOwnerEmail,\n            technicalOwner,\n            technicalOwnerEmail,\n        } = this.props.api.businessInformation;\n        this.state = {\n            businessOwner,\n            businessOwnerEmail,\n            technicalOwner,\n            technicalOwnerEmail,\n        };\n        this.isFormUpdated = false;\n        this.isValidBusinessOwnerEmail = true;\n        this.isValidTechnicalOwnerEmail = true;\n    }\n\n    isValid = () => {\n        return (this.isValidBusinessOwnerEmail && this.isValidTechnicalOwnerEmail && this.isFormUpdated);\n    }\n\n    handleChange = (name) => (event) => {\n        let { value } = event.target;\n        const { checked } = event.target;\n        if (name === 'accessControlRoles' || name === 'visibleRoles') {\n            value = value.split(',');\n        } else if (name === 'isDefaultVersion') {\n            value = value === 'yes';\n        } else if (name === 'responseCaching') {\n            value = checked ? 'Enabled' : 'Disabled';\n        }\n        // Validate whether given email addresses are valid.\n        if (name === 'businessOwnerEmail') {\n            const emailStatus = APIValidation.email.validate(value).error;\n            this.isValidBusinessOwnerEmail = (emailStatus === null || value === '');\n        }\n        if (name === 'technicalOwnerEmail') {\n            const emailStatus = APIValidation.email.validate(value).error;\n            this.isValidTechnicalOwnerEmail = (emailStatus === null || value === '');\n        }\n        this.isFormUpdated = true;\n        this.setState({ [name]: value });\n    };\n\n    /**\n     *\n     *\n     * @param {*} oldAPI\n     * @param {*} updateAPI\n     * @memberof BusinessInformation\n     */\n    handleSubmit(updateAPI) {\n        const {\n            businessOwner, businessOwnerEmail, technicalOwner, technicalOwnerEmail,\n        } = this.state;\n        const businessInformation = {\n            businessOwner, businessOwnerEmail, technicalOwner, technicalOwnerEmail,\n        };\n        updateAPI({ businessInformation });\n    }\n\n    /**\n     *\n     * @inheritdoc\n     * @returns\n     * @memberof BusinessInformation\n     */\n    render() {\n        const { classes, api, updateAPI } = this.props;\n        const {\n            businessOwner, businessOwnerEmail, technicalOwner, technicalOwnerEmail,\n        } = this.state;\n\n        return (\n            <>\n                <Container maxWidth='md'>\n                    <Box mb={3}>\n                        <Typography variant='h4'>\n                            <FormattedMessage\n                                id='Apis.Details.BusinessInformation.BusinessInformation.business.info'\n                                defaultMessage='Business Information'\n                            />\n                        </Typography>\n                        {api.apiType === API.CONSTS.APIProduct\n                            ? (\n                                <Typography variant='caption'>\n                                    <FormattedMessage\n                                        id='Apis.Details.BusinessInformation.BusinessInformation.APIProduct.sub.heading'\n                                        defaultMessage='Business Information of the API'\n                                    />\n                                </Typography>\n                            )\n                            : (\n                                <Typography variant='caption'>\n                                    <FormattedMessage\n                                        id='Apis.Details.BusinessInformation.BusinessInformation.sub.heading'\n                                        defaultMessage='Business Information of the API'\n                                    />\n                                </Typography>\n                            )}\n                    </Box>\n                    <Paper elevation={0}>\n                        <Box px={8} py={5}>\n                            <form noValidate autoComplete='off'>\n                                <TextField\n                                    disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                                    fullWidth\n                                    id='name'\n                                    label={(\n                                        <>\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Details.BusinessInformation.BusinessInformation'\n                                                    + '.business.owner.name'\n                                                }\n                                                defaultMessage='Business Owner'\n                                            />\n                                        </>\n                                    )}\n                                    helperText={(\n                                        <FormattedMessage\n                                            id={\n                                                'Apis.Details.BusinessInformation.BusinessInformation'\n                                                + '.business.owner.name.helper.text'\n                                            }\n                                            defaultMessage='Provide the name of the business owner'\n                                        />\n                                    )}\n                                    type='text'\n                                    name='name'\n                                    margin='normal'\n                                    variant='outlined'\n                                    value={businessOwner}\n                                    onChange={this.handleChange('businessOwner')}\n                                    autoFocus\n                                />\n                                <TextField\n                                    error={!this.isValidBusinessOwnerEmail}\n                                    disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                                    fullWidth\n                                    id='name'\n                                    label={(\n                                        <>\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Details.BusinessInformation.BusinessInformation.'\n                                                    + 'business.owner.email'\n                                                }\n                                                defaultMessage='Business Owner Email'\n                                            />\n                                        </>\n                                    )}\n                                    helperText={this.isValidBusinessOwnerEmail\n                                        ? (\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Details.BusinessInformation.BusinessInformation'\n                                                + '.business.owner.email.helper.text'\n                                                }\n                                                defaultMessage='Provide the email of the business owner'\n                                            />\n                                        )\n                                        : (\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Details.BusinessInformation.BusinessInformation'\n                                                + '.business.owner.email.helper.text'\n                                                + '.error'\n                                                }\n                                                defaultMessage='Please enter a valid email address'\n                                            />\n                                        )}\n                                    type='email'\n                                    name='name'\n                                    margin='normal'\n                                    value={businessOwnerEmail}\n                                    onChange={this.handleChange('businessOwnerEmail')}\n                                    variant='outlined'\n                                />\n                                <TextField\n                                    disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                                    fullWidth\n                                    id='name'\n                                    label={(\n                                        <>\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Details.BusinessInformation.BusinessInformation'\n                                                    + '.technical.owner.name'\n                                                }\n                                                defaultMessage='Technical Owner'\n                                            />\n                                        </>\n                                    )}\n                                    helperText={(\n                                        <FormattedMessage\n                                            id={\n                                                'Apis.Details.BusinessInformation.BusinessInformation'\n                                                + '.technical.owner.name.helper.text'\n                                            }\n                                            defaultMessage='Provide the name of the technical owner'\n                                        />\n                                    )}\n                                    type='text'\n                                    name='name'\n                                    margin='normal'\n                                    value={technicalOwner}\n                                    onChange={this.handleChange('technicalOwner')}\n                                    variant='outlined'\n                                />\n                                <TextField\n                                    error={!this.isValidTechnicalOwnerEmail}\n                                    disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                                    fullWidth\n                                    id='name'\n                                    label={(\n                                        <FormattedMessage\n                                            id={\n                                                'Apis.Details.BusinessInformation.BusinessInformation'\n                                                + '.technical.owner.email'\n                                            }\n                                            defaultMessage='Technical Owner Email'\n                                        />\n                                    )}\n                                    helperText={this.isValidTechnicalOwnerEmail\n                                        ? (\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Details.BusinessInformation.BusinessInformation'\n                                                + '.technical.owner.email.helper.text'\n                                                }\n                                                defaultMessage='Provide the email of the technical owner'\n                                            />\n                                        )\n                                        : (\n                                            <FormattedMessage\n                                                id={\n                                                    'Apis.Details.BusinessInformation.BusinessInformation'\n                                                + '.technical.owner.email.helper.text'\n                                                + '.error'\n                                                }\n                                                defaultMessage='Please enter a valid email address'\n                                            />\n                                        )}\n                                    type='email'\n                                    name='name'\n                                    margin='normal'\n                                    value={technicalOwnerEmail}\n                                    onChange={this.handleChange('technicalOwnerEmail')}\n                                    variant='outlined'\n                                />\n                            </form>\n                            <div className={classes.buttonWrapper}>\n                                <Grid\n                                    container\n                                    direction='row'\n                                    alignItems='flex-start'\n                                    spacing={1}\n                                    className={classes.buttonSection}\n                                >\n                                    <Grid item>\n                                        <div>\n                                            <Button\n                                                variant='contained'\n                                                color='primary'\n                                                onClick={() => this.handleSubmit(updateAPI)}\n                                                disabled={\n                                                    isRestricted(['apim:api_create', 'apim:api_publish'], api)\n                                                    || !this.isValid()\n                                                }\n                                            >\n                                                <FormattedMessage id='save' defaultMessage='Save' />\n                                            </Button>\n                                        </div>\n                                    </Grid>\n                                    <Grid item>\n                                        <Link\n                                            to={\n                                                (api.apiType === API.CONSTS.APIProduct ? '/api-products/' : '/apis/')\n                                                + api.id\n                                                + '/overview'\n                                            }\n                                        >\n                                            <Button>\n                                                <FormattedMessage id='cancel' defaultMessage='Cancel' />\n                                            </Button>\n                                        </Link>\n                                    </Grid>\n                                </Grid>\n                            </div>\n                        </Box>\n                    </Paper>\n                </Container>\n            </>\n        );\n    }\n}\n\nBusinessInformation.propTypes = {\n    state: PropTypes.shape({}).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({\n        id: PropTypes.string,\n        businessInformation: PropTypes.shape({\n            businessOwner: PropTypes.string,\n            businessOwnerEmail: PropTypes.string,\n            technicalOwner: PropTypes.string,\n            technicalOwnerEmail: PropTypes.string,\n            apiType: PropTypes.oneOf([API.CONSTS.API, API.CONSTS.APIProduct]),\n        }).isRequired,\n    }).isRequired,\n    updateAPI: PropTypes.func.isRequired,\n};\n\nexport default withAPI(withStyles(styles)(BusinessInformation));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\n/* eslint-disable react/jsx-no-bind */\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport EditIcon from '@material-ui/icons/Edit';\nimport SaveIcon from '@material-ui/icons/Save';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { injectIntl } from 'react-intl';\nimport IconButton from '@material-ui/core/IconButton';\n\nconst useStyles = makeStyles(() => ({\n    link: {\n        cursor: 'pointer',\n    },\n}));\n\n/**\n *\n * @param {*} props properties\n */\nfunction EditableRow(props) {\n    const {\n        oldKey, oldValue, handleUpdateList, handleDelete, apiAdditionalProperties, intl, setEditing, isRestricted, api,\n    } = props;\n    const [newKey, setKey] = useState(oldKey);\n    const [newValue, setValue] = useState(oldValue);\n    const [editMode, setEditMode] = useState(false);\n\n    const updateEditMode = function () {\n        setEditMode(!editMode);\n        setEditing(true);\n    };\n    const handleKeyChange = (event) => {\n        const { value } = event.target;\n        setKey(value);\n    };\n    const handleValueChange = (event) => {\n        const { value } = event.target;\n        setValue(value);\n    };\n    const validateEmpty = function (itemValue) {\n        if (itemValue === null) {\n            return false;\n        } else if (itemValue === '') {\n            return true;\n        } else {\n            return false;\n        }\n    };\n    const saveRow = function () {\n        const oldRow = { oldKey, oldValue };\n        const newRow = { newKey: newKey || oldKey, newValue: newValue || oldValue };\n        handleUpdateList(oldRow, newRow);\n        setEditMode(false);\n        setEditing(false);\n    };\n    const deleteRow = function () {\n        handleDelete(apiAdditionalProperties, oldKey);\n    };\n    const handleKeyDown = function (e) {\n        if (e.key === 'Enter') {\n            saveRow();\n        }\n    };\n    const classes = useStyles();\n\n    return (\n        <TableRow>\n            {editMode ? (\n                <TableCell>\n                    <TextField\n                        fullWidth\n                        required\n                        id='outlined-required'\n                        label={intl.formatMessage({\n                            id: 'Apis.Details.Properties.Properties.editable.row.property.name',\n                            defaultMessage: 'Property Name',\n                        })}\n                        margin='normal'\n                        variant='outlined'\n                        className={classes.addProperty}\n                        value={newKey}\n                        onChange={handleKeyChange}\n                        onKeyDown={handleKeyDown}\n                        error={validateEmpty(newKey)}\n                    />\n                </TableCell>\n            ) : (\n                <TableCell>{oldKey}</TableCell>\n            )}\n            {editMode ? (\n                <TableCell>\n                    <TextField\n                        fullWidth\n                        required\n                        id='outlined-required'\n                        label={intl.formatMessage({\n                            id: 'Apis.Details.Properties.Properties.editable.row.edit.mode.property.name',\n                            defaultMessage: 'Property Name',\n                        })}\n                        margin='normal'\n                        variant='outlined'\n                        className={classes.addProperty}\n                        value={newValue}\n                        onChange={handleValueChange}\n                        onKeyDown={handleKeyDown}\n                        error={validateEmpty(newValue)}\n                    />\n                </TableCell>\n            ) : (\n                <TableCell>{oldValue}</TableCell>\n            )}\n            <TableCell align='right'>\n                {editMode ? (\n                    <>\n                        <IconButton\n                            className={classes.link}\n                            aria-label='save'\n                            onClick={saveRow}\n                            onKeyDown={() => {}}\n                            disabled={validateEmpty(newKey) || validateEmpty(newValue)}\n                            color='inherit'\n                        >\n                            <SaveIcon className={classes.buttonIcon} />\n                        </IconButton>\n                    </>\n                ) : (\n                    <IconButton\n                        className={classes.link}\n                        aria-label='edit'\n                        onClick={updateEditMode}\n                        onKeyDown={() => {}}\n                        color='inherit'\n                        disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                    >\n                        <EditIcon className={classes.buttonIcon} />\n                    </IconButton>\n                )}\n                <IconButton\n                    className={classes.link}\n                    aria-label='remove'\n                    onClick={deleteRow}\n                    onKeyDown={() => {}}\n                    color='inherit'\n                    disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                >\n                    <DeleteForeverIcon className={classes.buttonIcon} />\n                </IconButton>\n            </TableCell>\n        </TableRow>\n    );\n}\nEditableRow.propTypes = {\n    oldKey: PropTypes.shape({}).isRequired,\n    oldValue: PropTypes.shape({}).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    handleUpdateList: PropTypes.shape({}).isRequired,\n    handleDelete: PropTypes.shape({}).isRequired,\n    apiAdditionalProperties: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n    setEditing: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(EditableRow);\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint no-param-reassign: [\"error\", { \"props\": false }] */\n/* eslint-disable react/jsx-no-bind */\n\nimport React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport cloneDeep from 'lodash.clonedeep';\nimport isEmpty from 'lodash.isempty';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport AddCircle from '@material-ui/icons/AddCircle';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport APIContext, { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport API from 'AppData/api.js';\nimport { doRedirectToLogin } from 'AppComponents/Shared/RedirectToLogin';\nimport { isRestricted } from 'AppData/AuthManager';\nimport Alert from 'AppComponents/Shared/Alert';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport EditableRow from './EditableRow';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        paddingTop: 0,\n        paddingLeft: 0,\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    titleWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n    },\n    button: {\n        marginLeft: theme.spacing(2),\n        color: theme.palette.getContrastText(theme.palette.primary.main),\n    },\n    FormControl: {\n        padding: 0,\n        width: '100%',\n        marginTop: 0,\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    FormControlOdd: {\n        padding: 0,\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        marginTop: 0,\n    },\n    buttonWrapper: {\n        paddingTop: theme.spacing(3),\n    },\n    paperRoot: {\n        padding: theme.spacing(3),\n        marginTop: theme.spacing(3),\n    },\n    addNewHeader: {\n        padding: theme.spacing(2),\n        backgroundColor: theme.palette.grey['300'],\n        fontSize: theme.typography.h6.fontSize,\n        color: theme.typography.h6.color,\n        fontWeight: theme.typography.h6.fontWeight,\n    },\n    addNewOther: {\n        padding: theme.spacing(2),\n    },\n    addNewWrapper: {\n        backgroundColor: theme.palette.background.paper,\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n        border: 'solid 1px ' + theme.palette.grey['300'],\n        borderRadius: theme.shape.borderRadius,\n        marginTop: theme.spacing(2),\n    },\n    addProperty: {\n        marginRight: theme.spacing(2),\n    },\n    buttonIcon: {\n        marginRight: theme.spacing(1),\n    },\n    link: {\n        cursor: 'pointer',\n    },\n    messageBox: {\n        marginTop: 20,\n    },\n    actions: {\n        padding: '20px 0',\n        '& button': {\n            marginLeft: 0,\n        },\n    },\n    head: {\n        fontWeight: 200,\n        marginBottom: 20,\n    },\n    marginRight: {\n        marginRight: theme.spacing(1),\n    },\n    helpText: {\n        paddingTop: theme.spacing(1),\n    },\n}));\n\n/**\n *\n *\n * @class Properties\n * @extends {React.Component}\n */\nfunction Properties(props) {\n    /**\n     * @inheritdoc\n     * @param {*} props properties\n     */\n    const { api, updateAPI } = useContext(APIContext);\n    const additionalPropertiesTemp = cloneDeep(api.additionalProperties);\n\n    const [additionalProperties, setAdditionalProperties] = useState(additionalPropertiesTemp);\n    const [showAddProperty, setShowAddProperty] = useState(false);\n    const [propertyKey, setPropertyKey] = useState(null);\n    const [propertyValue, setPropertyValue] = useState(null);\n    const [updating, setUpdating] = useState(false);\n    const [editing, setEditing] = useState(false);\n    const [isAdditionalPropertiesStale, setIsAdditionalPropertiesStale] = useState(false);\n    const iff = (condition, then, otherwise) => (condition ? then : otherwise);\n\n    let isKeyWord = false;\n    const keywords = ['provider', 'version', 'context', 'status', 'description',\n        'subcontext', 'doc', 'lcState', 'name', 'tags'];\n    if (keywords.includes(propertyKey)) {\n        isKeyWord = true;\n    } else {\n        isKeyWord = false;\n    }\n\n    const toggleAddProperty = () => {\n        setShowAddProperty(!showAddProperty);\n    };\n    const handleChange = (name) => (event) => {\n        const { value } = event.target;\n        if (name === 'propertyKey') {\n            setPropertyKey(value);\n        } else if (name === 'propertyValue') {\n            setPropertyValue(value);\n        }\n    };\n\n    /**\n     *\n     *\n     * @param {*} itemValue\n     * @returns\n     * @memberof Properties\n     */\n    const validateEmpty = (itemValue) => {\n        if (itemValue === null) {\n            return false;\n        } else if (itemValue === '') {\n            return true;\n        } else {\n            return false;\n        }\n    };\n\n    /**\n     *\n     *\n     * @param {*} oldAPI\n     * @param {*} updateAPI\n     * @memberof Properties\n     */\n    const handleSubmit = () => {\n        setUpdating(true);\n        const updatePromise = updateAPI({ additionalProperties });\n        updatePromise\n            .then(() => {\n                setUpdating(false);\n            })\n            .catch((error) => {\n                setUpdating(false);\n                if (process.env.NODE_ENV !== 'production') console.log(error);\n                const { status } = error;\n                if (status === 401) {\n                    doRedirectToLogin();\n                }\n            });\n    };\n\n    /**\n     *\n     *\n     * @param {*} apiAdditionalProperties\n     * @param {*} oldKey\n     * @memberof Properties\n     */\n    const handleDelete = (apiAdditionalProperties, oldKey) => {\n        const additionalPropertiesCopy = JSON.parse(JSON.stringify(additionalProperties));\n\n        if (Object.prototype.hasOwnProperty.call(additionalPropertiesCopy, oldKey)) {\n            delete additionalPropertiesCopy[oldKey];\n        }\n        setAdditionalProperties(additionalPropertiesCopy);\n\n        if (additionalPropertiesCopy !== additionalProperties) {\n            setIsAdditionalPropertiesStale(true);\n        }\n    };\n\n    /**\n     *\n     *\n     * @param {*} apiAdditionalProperties\n     * @param {*} oldRow\n     * @param {*} newRow\n     * @memberof Properties\n     */\n    const handleUpdateList = (oldRow, newRow) => {\n        const additionalPropertiesCopy = JSON.parse(JSON.stringify(additionalProperties));\n\n        const { oldKey, oldValue } = oldRow;\n        const { newKey, newValue } = newRow;\n\n        if (Object.prototype.hasOwnProperty.call(additionalPropertiesCopy, newKey) && oldKey === newKey) {\n            // Only the value is updated\n            if (newValue && oldValue !== newValue) {\n                additionalPropertiesCopy[oldKey] = newValue;\n            }\n        } else {\n            delete additionalPropertiesCopy[oldKey];\n            additionalPropertiesCopy[newKey] = newValue;\n        }\n        setAdditionalProperties(additionalPropertiesCopy);\n    };\n\n    /**\n     *\n     *\n     * @param {*} apiAdditionalProperties\n     * @memberof Properties\n     */\n    const handleAddToList = () => {\n        const additionalPropertiesCopy = JSON.parse(JSON.stringify(additionalProperties));\n        if (additionalPropertiesCopy[propertyKey] != null) {\n            Alert.warning('Property name already exists');\n        } else {\n            additionalPropertiesCopy[propertyKey] = propertyValue;\n            setAdditionalProperties(additionalPropertiesCopy);\n            setPropertyKey(null);\n            setPropertyValue(null);\n        }\n    };\n\n    /**\n     *\n     *\n     * @memberof Properties\n     */\n    const handleKeyDown = (event) => {\n        if (event.key === 'Enter') {\n            handleAddToList();\n        }\n    };\n\n    /**\n     *\n     *\n     * @param {*} additionalProperties\n     * @param {*} apiAdditionalProperties\n     * @returns\n     * @memberof Properties\n     */\n    const renderAdditionalProperties = () => {\n        const items = [];\n        for (const key in additionalProperties) {\n            if (Object.prototype.hasOwnProperty.call(additionalProperties, key)) {\n                items.push(<EditableRow\n                    oldKey={key}\n                    oldValue={additionalProperties[key]}\n                    handleUpdateList={handleUpdateList}\n                    handleDelete={handleDelete}\n                    apiAdditionalProperties={additionalProperties}\n                    {...props}\n                    setEditing={setEditing}\n                    isRestricted={isRestricted}\n                    api={api}\n                />);\n            }\n        }\n        return items;\n    };\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof Properties\n     */\n    const { intl } = props;\n    const classes = useStyles();\n\n    return (\n        <>\n            <div className={classes.titleWrapper}>\n                {api.apiType === API.CONSTS.APIProduct\n                    ? (\n                        <Typography variant='h4' align='left' className={classes.mainTitle}>\n                            <FormattedMessage\n                                id='Apis.Details.Properties.Properties.api.product.properties'\n                                defaultMessage='API Properties'\n                            />\n                        </Typography>\n                    )\n                    : (\n                        <Typography variant='h4' align='left' className={classes.mainTitle}>\n                            <FormattedMessage\n                                id='Apis.Details.Properties.Properties.api.properties'\n                                defaultMessage='API Properties'\n                            />\n                        </Typography>\n                    )}\n\n                {(!isEmpty(additionalProperties) || showAddProperty) && (\n                    <Button\n                        size='small'\n                        className={classes.button}\n                        onClick={toggleAddProperty}\n                        disabled={showAddProperty || isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                    >\n                        <AddCircle className={classes.buttonIcon} />\n                        <FormattedMessage\n                            id='Apis.Details.Properties.Properties.add.new.property'\n                            defaultMessage='Add New Property'\n                        />\n                    </Button>\n                )}\n            </div>\n            <Typography variant='caption' component='div' className={classes.helpText}>\n                <FormattedMessage\n                    id='Apis.Details.Properties.Properties.help.main'\n                    defaultMessage={`Usually, APIs have a pre-defined set of properties such as \n                        the name, version, context, etc. API Properties allows you to \n                         add specific custom properties to the API.`}\n                />\n            </Typography>\n            {isEmpty(additionalProperties) && !isAdditionalPropertiesStale && !showAddProperty && (\n                <div className={classes.messageBox}>\n                    <InlineMessage type='info' height={140}>\n                        <div className={classes.contentWrapper}>\n                            <Typography variant='h5' component='h3' className={classes.head}>\n                                <FormattedMessage\n                                    id='Apis.Details.Properties.Properties.add.new.property.message.title'\n                                    defaultMessage='Create Additional Properties'\n                                />\n                            </Typography>\n                            {api.apiType === API.CONSTS.APIProduct\n                                ? (\n                                    <Typography component='p' className={classes.content}>\n                                        <FormattedMessage\n                                            id='Apis.Details.Properties.Properties.APIProduct.\n                                            add.new.property.message.content'\n                                            defaultMessage={\n                                                'Add specific custom properties to your '\n                                        + 'API here.'\n                                            }\n                                        />\n                                    </Typography>\n                                )\n                                : (\n                                    <Typography component='p' className={classes.content}>\n                                        <FormattedMessage\n                                            id='Apis.Details.Properties.Properties.add.new.property.message.content'\n                                            defaultMessage={\n                                                'Add specific custom properties to your '\n                                        + 'API here.'\n                                            }\n                                        />\n                                    </Typography>\n                                )}\n                            <div className={classes.actions}>\n                                <Button\n                                    variant='contained'\n                                    color='primary'\n                                    className={classes.button}\n                                    onClick={toggleAddProperty}\n                                    disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                                >\n                                    <FormattedMessage\n                                        id='Apis.Details.Properties.Properties.add.new.property'\n                                        defaultMessage='Add New Property'\n                                    />\n                                </Button>\n                            </div>\n                        </div>\n                    </InlineMessage>\n                </div>\n            )}\n            {(!isEmpty(additionalProperties) || showAddProperty || isAdditionalPropertiesStale) && (\n                <Grid container spacing={7}>\n                    <Grid item xs={12}>\n                        <Paper className={classes.paperRoot}>\n                            <Table className={classes.table}>\n                                <TableHead>\n                                    <TableRow>\n                                        <TableCell>\n                                            <FormattedMessage\n                                                id='Apis.Details.Properties.Properties.add.new.property.table'\n                                                defaultMessage='Property Name'\n                                            />\n                                        </TableCell>\n                                        <TableCell>\n                                            <FormattedMessage\n                                                id='Apis.Details.Properties.Properties.add.new.property.value'\n                                                defaultMessage='Property Value'\n                                            />\n                                        </TableCell>\n                                        <TableCell />\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {showAddProperty && (\n                                        <>\n                                            <TableRow>\n                                                <TableCell>\n                                                    <TextField\n                                                        fullWidth\n                                                        required\n                                                        id='outlined-required'\n                                                        label={intl.formatMessage({\n                                                            id: `Apis.Details.Properties.Properties.\n                                                                show.add.property.property.name`,\n                                                            defaultMessage: 'Name',\n                                                        })}\n                                                        margin='normal'\n                                                        variant='outlined'\n                                                        className={classes.addProperty}\n                                                        value={propertyKey === null ? '' : propertyKey}\n                                                        onChange={handleChange('propertyKey')}\n                                                        onKeyDown={handleKeyDown('propertyKey')}\n                                                        helperText={validateEmpty(propertyKey) ? ''\n                                                            : iff(isKeyWord, 'Invalid property name', '')}\n                                                        error={validateEmpty(propertyKey) || isKeyWord}\n                                                        disabled={isRestricted(\n                                                            ['apim:api_create', 'apim:api_publish'],\n                                                            api,\n                                                        )}\n                                                    />\n                                                </TableCell>\n                                                <TableCell>\n                                                    <TextField\n                                                        fullWidth\n                                                        required\n                                                        id='outlined-required'\n                                                        label={intl.formatMessage({\n                                                            id: 'Apis.Details.Properties.Properties.property.value',\n                                                            defaultMessage: 'Value',\n                                                        })}\n                                                        margin='normal'\n                                                        variant='outlined'\n                                                        className={classes.addProperty}\n                                                        value={propertyValue === null ? '' : propertyValue}\n                                                        onChange={handleChange('propertyValue')}\n                                                        onKeyDown={handleKeyDown('propertyValue')}\n                                                        error={validateEmpty(propertyValue)}\n                                                        disabled={isRestricted(\n                                                            ['apim:api_create', 'apim:api_publish'],\n                                                            api,\n                                                        )}\n                                                    />\n                                                </TableCell>\n                                                <TableCell align='right'>\n                                                    <Button\n                                                        variant='contained'\n                                                        color='primary'\n                                                        disabled={\n                                                            !propertyValue\n                                                            || !propertyKey\n                                                            || isRestricted(\n                                                                ['apim:api_create', 'apim:api_publish'], api,\n                                                            )\n                                                            || isKeyWord\n                                                        }\n                                                        onClick={handleAddToList}\n                                                        className={classes.marginRight}\n                                                    >\n                                                        <FormattedMessage\n                                                            id='Apis.Details.Properties.Properties.add'\n                                                            defaultMessage='Add'\n                                                        />\n                                                    </Button>\n\n                                                    <Button onClick={toggleAddProperty}>\n                                                        <FormattedMessage\n                                                            id='Apis.Details.Properties.Properties.cancel'\n                                                            defaultMessage='Cancel'\n                                                        />\n                                                    </Button>\n                                                </TableCell>\n                                            </TableRow>\n                                            <TableRow>\n                                                <TableCell colSpan={3}>\n                                                    <Typography variant='caption'>\n                                                        <FormattedMessage\n                                                            id='Apis.Details.Properties.Properties.help'\n                                                            defaultMessage={\n                                                                'Property name should be unique, should not contain '\n                                                                + 'spaces and cannot be any '\n                                                                + 'of the following reserved keywords : '\n                                                                + 'provider, version, context, status, description, '\n                                                                + 'subcontext, doc, lcState, name, tags.'\n                                                            }\n                                                        />\n                                                    </Typography>\n                                                </TableCell>\n                                            </TableRow>\n                                        </>\n                                    )}\n                                    {renderAdditionalProperties()}\n                                </TableBody>\n                            </Table>\n                        </Paper>\n                        <div className={classes.buttonWrapper}>\n                            <Grid\n                                container\n                                direction='row'\n                                alignItems='flex-start'\n                                spacing={1}\n                                className={classes.buttonSection}\n                            >\n                                <Grid item>\n                                    <div>\n                                        <Button\n                                            variant='contained'\n                                            color='primary'\n                                            onClick={handleSubmit}\n                                            disabled={\n                                                editing || updating || (isEmpty(additionalProperties)\n                                                && !isAdditionalPropertiesStale)\n                                                || isRestricted(['apim:api_create', 'apim:api_publish'], api)\n                                            }\n                                        >\n                                            {updating && (\n                                                <>\n                                                    <CircularProgress size={20} />\n                                                    <FormattedMessage\n                                                        id='Apis.Details.Properties.Properties.updating'\n                                                        defaultMessage='Updating ...'\n                                                    />\n                                                </>\n                                            )}\n                                            {!updating && (\n                                                <FormattedMessage\n                                                    id='Apis.Details.Properties.Properties.save'\n                                                    defaultMessage='Save'\n                                                />\n                                            )}\n                                        </Button>\n                                    </div>\n                                </Grid>\n                                <Grid item>\n                                    <Link to={'/apis/' + api.id + '/overview'}>\n                                        <Button>\n                                            <FormattedMessage\n                                                id='Apis.Details.Properties.Properties.cancel'\n                                                defaultMessage='Cancel'\n                                            />\n                                        </Button>\n                                    </Link>\n                                </Grid>\n                                {isRestricted(['apim:api_create', 'apim:api_publish'], api) && (\n                                    <Grid item xs={12}>\n                                        <Typography variant='body2' color='primary'>\n                                            <FormattedMessage\n                                                id='Apis.Details.Properties.Properties.update.not.allowed'\n                                                defaultMessage='*You are not authorized to update properties of\n                                                    the API due to insufficient permissions'\n                                            />\n                                        </Typography>\n                                    </Grid>\n                                )}\n                            </Grid>\n                        </div>\n                    </Grid>\n                </Grid>\n            )}\n        </>\n    );\n}\n\nProperties.propTypes = {\n    state: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n};\nexport default withAPI(injectIntl(Properties));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { Grid, Typography } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Table from '@material-ui/core/Table';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport API from 'AppData/api';\nimport Banner from 'AppComponents/Shared/Banner';\nimport { Progress } from 'AppComponents/Shared';\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1,\n        paddingBottom: '10px',\n    },\n    margin: {\n        margin: theme.spacing(),\n    },\n    rightDataColumn: {\n        display: 'flex',\n        flex: 1,\n    },\n    grid: {\n        marginTop: '10px',\n        paddingRight: '10px',\n        paddingBottom: '10px',\n    },\n    box: {\n        display: 'block',\n    },\n    tableCel: {\n        width: 50,\n    },\n    table: {\n        width: '100%',\n        border: 'solid 1px #ccc',\n    },\n    tableHeadCell: {\n        color: 'black',\n        background: theme.palette.grey[200],\n    },\n    stateWrapper: {\n        display: 'flex',\n        flexDirection: 'row',\n    },\n    tableHeadTitle: {\n        flex: 1,\n        fontWeight: 'bold',\n    },\n});\n\n/**\n *\n *\n * @class BusinessPlans\n * @extends {Component}\n */\nclass BusinessPlans extends Component {\n    /**\n     *Creates an instance of BusinessPlans.\n     * @param {Object} props\n     * @memberof BusinessPlans\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            policies: [],\n            monetizedPolices: null,\n        };\n        this.monetizationQuery = this.monetizationQuery.bind(this);\n    }\n\n    /**\n     *\n     * @inheritdoc\n     * @memberof BusinessPlans\n     */\n    componentDidMount() {\n        const { api } = this.props;\n        api.getSubscriptionPolicies(api.id).then((policies) => {\n            const filteredPolicies = policies.filter((policy) => policy.tierPlan === 'COMMERCIAL');\n            this.setState({ policies: filteredPolicies });\n        });\n        api.getMonetization(api.id).then((status) => {\n            this.setState({ monetizedPolices: status.properties });\n        });\n    }\n\n    monetizationQuery(policyName) {\n        const { monetizedPolices } = this.state;\n        return policyName in monetizedPolices;\n    }\n\n    /**\n     *\n     * @inheritdoc\n     * @returns {React.Component} Policies / Business plans list\n     * @memberof BusinessPlans\n     */\n    render() {\n        const { policies, monetizedPolices } = this.state;\n        const { classes } = this.props;\n        if (monetizedPolices === null) {\n            return <Progress />;\n        }\n        const policiesList = policies.map((policy) => (\n            <Grid item xs={12}>\n                <Table className={classes.table}>\n                    <TableRow>\n                        <TableCell variant='head' colSpan={2} className={classes.tableHeadCell}>\n                            <Box display='flex'>\n                                <Typography component='div' className={classes.tableHeadTitle} variant='subtitle1'>\n                                    {policy.name}\n                                </Typography>\n                                {\n                                    this.monetizationQuery(policy.name) ? (\n                                        <div className={classes.stateWrapper}>\n                                            <div><CheckIcon color='primary' /></div>\n                                            <Typography component='div'>\n                                                <FormattedMessage\n                                                    id='Apis.Details.Monetization.BusinessPlans.monetized'\n                                                    defaultMessage='Monetized'\n                                                />\n                                            </Typography>\n                                        </div>\n                                    ) : (\n                                        <div className={classes.stateWrapper}>\n                                            <div><CloseIcon color='error' /></div>\n                                            <Typography component='div'>\n                                                <FormattedMessage\n                                                    id='Apis.Details.Monetization.BusinessPlans.not.monetized'\n                                                    defaultMessage='Not Monetized'\n                                                />\n                                            </Typography>\n                                        </div>\n                                    )\n                                }\n                            </Box>\n                        </TableCell>\n                    </TableRow>\n                    {Object.keys(policy.monetizationAttributes).map((key) => {\n                        if (policy.monetizationAttributes[key] !== null) {\n                            return (\n                                <TableRow>\n                                    <TableCell className={classes.tableCel} align='left'>\n                                        <Typography component='p' variant='subtitle2'>\n                                            {key}\n                                        </Typography>\n                                    </TableCell>\n                                    <TableCell align='left'>\n                                        {policy.monetizationAttributes[key]}\n                                    </TableCell>\n                                </TableRow>\n                            );\n                        } else {\n                            return false;\n                        }\n                    })}\n\n                </Table>\n            </Grid>\n        ));\n        return (\n            <Grid container spacing={1}>\n                <Grid item xs={12}>\n                    <Typography variant='h6'>\n                        <FormattedMessage\n                            id='Apis.Details.Monetization.BusinessPlans.commercial.policies'\n                            defaultMessage='Commercial Policies'\n                        />\n                    </Typography>\n                </Grid>\n                <Grid item xs={12}>\n                    <Grid container direction='row' spacing={3}>\n                        {policiesList}\n                    </Grid>\n                </Grid>\n                <Grid item xs={12}>\n                    {\n                        (policies.length > 0) ? (\n                            <Banner\n                                disableActions\n                                dense\n                                paperProps={{ elevation: 1 }}\n                                type='info'\n                                message='Click Save to monetize all unmonetized policies'\n                            />\n                        ) : (\n                            <Banner\n                                disableActions\n                                dense\n                                paperProps={{ elevation: 1 }}\n                                type='info'\n                                message='No commercial policies to monetize'\n                            />\n                        )\n                    }\n                </Grid>\n            </Grid>\n        );\n    }\n}\n\nBusinessPlans.propTypes = {\n    api: PropTypes.instanceOf(API).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n};\n\nexport default withStyles(styles)(BusinessPlans);\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { Link } from 'react-router-dom';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Grid, Paper, Typography } from '@material-ui/core';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { withRouter } from 'react-router';\nimport { Progress } from 'AppComponents/Shared';\nimport Alert from 'AppComponents/Shared/Alert';\nimport API from 'AppData/api';\nimport APIProduct from 'AppData/APIProduct';\nimport { isRestricted } from 'AppData/AuthManager';\n\nimport BusinessPlans from './BusinessPlans';\n\nconst styles = (theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    container: {\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    margin: {\n        margin: theme.spacing(),\n    },\n    paper: {\n        padding: theme.spacing(2),\n        textAlign: 'left',\n        color: theme.palette.text.secondary,\n        paddingBottom: '10px',\n    },\n    grid: {\n        paddingLeft: '10px',\n        paddingRight: '10px',\n        paddingBottom: '10px',\n        minWidth: '50%',\n    },\n    button: {\n        margin: theme.spacing(),\n    },\n});\n\n/**\n *\n *\n * @class Monetization\n * @extends {Component}\n */\nclass Monetization extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            monetizationAttributes: [],\n            monStatus: null,\n            property: {},\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    componentDidMount() {\n        this.getMonetizationData();\n    }\n\n    getMonetizationData() {\n        const { api } = this.props;\n        if (api.apiType === 'APIProduct') {\n            const apiProduct = new APIProduct(api.name, api.context, api.policies);\n            apiProduct.getSettings().then((settings) => {\n                if (settings.monetizationAttributes != null) {\n                    this.setState({ monetizationAttributes: settings.monetizationAttributes });\n                }\n            });\n            apiProduct.getMonetization(this.props.api.id).then((status) => {\n                this.setState({ monStatus: status.enabled });\n            });\n        } else {\n            api.getSettings().then((settings) => {\n                if (settings.monetizationAttributes != null) {\n                    this.setState({ monetizationAttributes: settings.monetizationAttributes });\n                }\n            });\n            api.getMonetization(this.props.api.id).then((status) => {\n                this.setState({ monStatus: status.enabled });\n            });\n        }\n    }\n\n    handleChange = (event) => {\n        this.setState({ monStatus: event.target.checked });\n    };\n\n    handleInputChange = (event) => {\n        const { name, value } = event.target;\n        this.setState((oldState) => {\n            const { property } = oldState;\n            property[name] = value;\n            return { property };\n        });\n    };\n\n    /**\n     * Handles the submit action for configuring monetization\n     */\n    handleSubmit() {\n        const { api, intl } = this.props;\n        if (api.apiType === 'APIProduct') {\n            const properties = this.state.property;\n            const enabled = this.state.monStatus;\n            const body = {\n                enabled,\n                properties,\n            };\n            const apiProduct = new APIProduct(api.name, api.context, api.policies);\n            const promisedMonetization = apiProduct.configureMonetizationToApiProduct(api.id, body);\n            promisedMonetization.then((response) => {\n                const status = JSON.parse(response.data);\n                if (status.enabled) {\n                    Alert.info(intl.formatMessage({\n                        id: 'Apis.Details.Monetization.Index.monetization.configured.successfully',\n                        defaultMessage: 'Monetization Enabled Successfully',\n                    }));\n                } else {\n                    Alert.info(intl.formatMessage({\n                        id: 'Apis.Details.Monetization.Index.monetization.disabled.successfully',\n                        defaultMessage: 'Monetization Disabled Successfully',\n                    }));\n                }\n                this.setState((cState) => ({ monStatus: !cState.monStatus }));\n            }).catch((error) => {\n                console.error(error);\n                if (error.response) {\n                    Alert.error(error.response.body.description);\n                } else {\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.Monetization.Index.something.went.wrong.while.configuring.monetization',\n                        defaultMessage: 'Something went wrong while configuring monetization',\n                    }));\n                }\n            });\n        } else {\n            const properties = this.state.property;\n            const enabled = this.state.monStatus;\n            const body = {\n                enabled,\n                properties,\n            };\n            const promisedMonetizationConf = api.configureMonetizationToApi(this.props.api.id, body);\n            promisedMonetizationConf.then((response) => {\n                const status = JSON.parse(response.data);\n                if (status.enabled) {\n                    Alert.info(intl.formatMessage({\n                        id: 'Apis.Details.Monetization.Index.monetization.configured.successfully',\n                        defaultMessage: 'Monetization Enabled Successfully',\n                    }));\n                } else {\n                    Alert.info(intl.formatMessage({\n                        id: 'Apis.Details.Monetization.Index.monetization.disabled.successfully',\n                        defaultMessage: 'Monetization Disabled Successfully',\n                    }));\n                }\n                this.setState((cState) => ({ monStatus: !cState.monStatus }));\n            }).catch((error) => {\n                console.error(error);\n                if (error.response) {\n                    Alert.error(error.response.body.description);\n                } else {\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.Monetization.Index.something.went.wrong.while.configuring.monetization',\n                        defaultMessage: 'Something went wrong while configuring monetization',\n                    }));\n                }\n            });\n        }\n    }\n\n    render() {\n        const { api, classes } = this.props;\n        const { monetizationAttributes, monStatus } = this.state;\n        if (api && isRestricted(['apim:api_publish'], api)) {\n            return (\n                <Grid\n                    container\n                    direction='row'\n                    alignItems='center'\n                    spacing={4}\n                    style={{ marginTop: 20 }}\n                >\n                    <Grid item>\n                        <Typography variant='body2' color='primary'>\n                            <FormattedMessage\n                                id='Apis.Details.Monetization.Index.update.not.allowed'\n                                defaultMessage={'* You are not authorized to update API monetization'\n                                    + ' due to insufficient permissions'}\n                            />\n                        </Typography>\n                    </Grid>\n                </Grid>\n            );\n        }\n        if (!monetizationAttributes || monStatus === null) {\n            return <Progress />;\n        }\n        return (\n            <form method='post' onSubmit={this.handleSubmit}>\n                <Grid container xs={6} spacing={2}>\n                    <Grid item xs={12}>\n                        <Typography variant='h4'>\n                            <FormattedMessage\n                                id='Apis.Details.Monetization.Index.monetization'\n                                defaultMessage='Monetization'\n                            />\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <FormControlLabel\n                            control={(\n                                <Checkbox\n                                    disabled={isRestricted(['apim:api_publish'], api)}\n                                    id='monStatus'\n                                    name='monStatus'\n                                    checked={monStatus}\n                                    onChange={this.handleChange}\n                                    value={monStatus}\n                                    color='primary'\n                                />\n                            )}\n                            label='Enable Monetization'\n                        />\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Paper className={classes.root}>\n                            <Grid item xs={12} className={classes.grid}>\n                                <Typography className={classes.heading} variant='h6'>\n                                    <FormattedMessage\n                                        id='Apis.Details.Monetization.Index.monetization.properties'\n                                        defaultMessage='Monetization Properties'\n                                    />\n                                </Typography>\n                                {\n                                    (monetizationAttributes.length > 0) ? (\n                                        (monetizationAttributes.map((monetizationAttribute, i) => (\n                                            <TextField\n                                                disabled={isRestricted(['apim:api_publish'], api)}\n                                                fullWidth\n                                                id={'attribute' + i}\n                                                label={monetizationAttribute.displayName}\n                                                placeholder={monetizationAttribute.displayName}\n                                                name={monetizationAttribute.name}\n                                                type='text'\n                                                margin='normal'\n                                                variant='outlined'\n                                                required={monetizationAttribute.required}\n                                                onChange={this.handleInputChange}\n                                                autoFocus\n                                            />\n                                        )))\n                                    ) : (\n                                        <Typography>\n                                            <FormattedMessage\n                                                id={'Apis.Details.Monetization.Index.there.are.no'\n                                                   + ' .monetization.properties.configured'}\n                                                defaultMessage='There are no monetization properties configured'\n                                            />\n                                        </Typography>\n                                    )\n                                }\n                            </Grid>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Paper className={classes.root}>\n                            <Grid item xs={12} className={classes.grid}>\n                                <BusinessPlans api={api} monStatus={monStatus} />\n                            </Grid>\n                        </Paper>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Button\n                            onClick={this.handleSubmit}\n                            color='primary'\n                            variant='contained'\n                            className={classes.button}\n                        >\n                            <FormattedMessage\n                                id='Apis.Details.Monetization.Index.save'\n                                defaultMessage='Save'\n                            />\n                        </Button>\n                        <Link to={'/apis/' + api.id + '/overview'}>\n                            <Button>\n                                <FormattedMessage\n                                    id='Apis.Details.Monetization.Index.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </Button>\n                        </Link>\n                    </Grid>\n                </Grid>\n            </form>\n        );\n    }\n}\n\nMonetization.propTypes = {\n    api: PropTypes.instanceOf(API).isRequired,\n    classes: PropTypes.shape({}).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n};\n\nexport default injectIntl(withRouter(withStyles(styles)(Monetization)));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport { APIContext } from 'AppComponents/Apis/Details/components/ApiContext';\nimport { useAppContext } from 'AppComponents/Shared/AppContext';\nimport { isRestricted } from 'AppData/AuthManager';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\n\nimport 'react-tagsinput/react-tagsinput.css';\nimport { FormattedMessage, useIntl, defineMessages } from 'react-intl';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Alert from 'AppComponents/Shared/Alert';\nimport Paper from '@material-ui/core/Paper';\nimport API from '../../../../data/api';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: theme.custom.contentAreaWidth,\n        marginTop: theme.spacing(3),\n        overflowX: 'auto',\n    },\n    table: {\n        minWidth: 650,\n    },\n    viewInExStoreLink: {\n        color: theme.palette.common.black,\n        textDecoration: 'underline',\n    },\n}));\n\n/**\n * Renders an External Store list\n * @class ExternalStores\n * @extends {React.Component}\n */\nexport default function ExternalStores() {\n    const { api } = useContext(APIContext);\n    const { settings } = useAppContext();\n    const [allExternalStores, setAllExternalStores] = useState([]);\n    const [publishedExternalStores, setPublishedExternalStores] = useState([]);\n    const [isUpdating, setUpdating] = useState(false);\n    const classes = useStyles();\n    const intl = useIntl();\n    if (!settings.externalStoresEnabled) {\n        const resourceNotFoundMessageText = defineMessages({\n            titleMessage: {\n                id: 'Apis.Details.ExternalStores.ExternalStores.external.stores.not.found.title',\n                defaultMessage: 'External Developert Portals not found for the API : {apiUUID}',\n            },\n            bodyMessage: {\n                id: 'Apis.Details.ExternalStores.ExternalStores.external.stores.not.found.body',\n                defaultMessage: 'No External Developer Portals configured for the current tenant',\n            },\n        });\n        const resourceNotFountMessage = {\n            title: intl.formatMessage(resourceNotFoundMessageText.titleMessage, {\n                apiUUID: `${api.id}`,\n            }),\n            body: intl.formatMessage(resourceNotFoundMessageText.bodyMessage),\n        };\n        return <ResourceNotFound message={resourceNotFountMessage} />;\n    }\n\n    /**\n     * Gets published external stores\n     */\n    function getPublishedExternalStores() {\n        API.getPublishedExternalStores(api.id)\n            .then((response) => {\n                const publishedStoreIds = response.body.list.map((store) => store.id);\n                setPublishedExternalStores(publishedStoreIds);\n            })\n            .catch((error) => {\n                const response = error.response && error.response.obj;\n                const reason = response && ('[' + response.message + '] ' + response.description);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.ExternalStores.ExternalStores.error.getting.published.external.stores',\n                    defaultMessage: 'Error while getting published external developer portals!! {reason}',\n                }, { reason }));\n            });\n    }\n\n    useEffect(() => {\n        API.getAllExternalStores().then((response) => {\n            setAllExternalStores([...response.body.list]);\n        });\n        getPublishedExternalStores();\n    }, []);\n\n    /**\n     * Handle publish to external store button action\n     */\n    function updateStores() {\n        setUpdating(true);\n        API.publishAPIToExternalStores(api.id, publishedExternalStores)\n            .then((response) => {\n                const successfulStores = response.body.list.map((store) => store.id);\n                Alert.success(intl.formatMessage({\n                    id: 'Apis.Details.ExternalStores.ExternalStores.successfully.published.to.external.stores',\n                    defaultMessage: 'Successfully Published to external developer portals: {successfulStores}',\n                }, { successfulStores }));\n            })\n            .catch((error) => {\n                const response = error.response && error.response.obj;\n                const reason = response && ('[' + response.message + '] ' + response.description);\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.ExternalStores.ExternalStores.error.while.updating.external.stores',\n                    defaultMessage: 'Error while updating external developer portals!! {reason}',\n                }, { reason }));\n            })\n            .finally(() => {\n                setUpdating(false);\n                getPublishedExternalStores();\n            });\n    }\n\n    return (\n        <div>\n            <div>\n                <Typography variant='h4' align='left'>\n                    <FormattedMessage\n                        id='Apis.Details.ExternalStores.ExternalStores.external-stores'\n                        defaultMessage='External Developer Portals'\n                    />\n                </Typography>\n                <Paper className={classes.root}>\n                    <Table className={classes.table}>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell />\n                                <TableCell>\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.ExternalStores.ExternalStores.name'\n                                            defaultMessage='Name'\n                                        />\n                                    </Typography>\n                                </TableCell>\n                                <TableCell>\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.ExternalStores.ExternalStores.type'\n                                            defaultMessage='Type'\n                                        />\n                                    </Typography>\n                                </TableCell>\n                                <TableCell>\n                                    <Typography>\n                                        <FormattedMessage\n                                            id='Apis.Details.ExternalStores.ExternalStores.endpoint'\n                                            defaultMessage='Endpoint'\n                                        />\n                                    </Typography>\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {allExternalStores.map((row) => (\n                                <TableRow key={row.id}>\n                                    <TableCell padding='checkbox'>\n                                        <Checkbox\n                                            checked={publishedExternalStores.includes(row.id)}\n                                            disabled={api.lifeCycleStatus !== 'PUBLISHED'\n                                                || isRestricted(['apim:api_publish'], api)}\n                                            onChange={\n                                                (event) => {\n                                                    const { checked, name } = event.target;\n                                                    if (checked) {\n                                                        if (!publishedExternalStores.includes(name)) {\n                                                            setPublishedExternalStores([\n                                                                ...publishedExternalStores, name]);\n                                                        }\n                                                    } else {\n                                                        setPublishedExternalStores(publishedExternalStores\n                                                            .filter((store) => store !== name));\n                                                    }\n                                                }\n                                            }\n                                            name={row.id}\n                                            color='primary'\n                                        />\n                                    </TableCell>\n                                    <TableCell component='th' scope='row'>\n                                        <Typography>\n                                            {' '}\n                                            {row.displayName}\n                                            {' '}\n                                        </Typography>\n                                    </TableCell>\n                                    <TableCell>\n                                        {' '}\n                                        <Typography>{row.type}</Typography>\n                                    </TableCell>\n                                    <TableCell>\n                                        <a\n                                            target='_blank'\n                                            rel='noopener noreferrer'\n                                            href={row.endpoint}\n                                            className={classes.viewInExStoreLink}\n                                        >\n                                            <Typography>\n                                                {row.endpoint}\n                                            </Typography>\n                                        </a>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Paper>\n                <Grid container>\n                    <Grid\n                        container\n                        direction='row'\n                        alignItems='center'\n                        spacing={4}\n                        style={{ marginTop: 20 }}\n                    >\n                        <Grid item>\n                            <Button\n                                type='submit'\n                                variant='contained'\n                                color='primary'\n                                disabled={isUpdating || api.lifeCycleStatus !== 'PUBLISHED'\n                                    || isRestricted(['apim:api_publish'], api)}\n                                onClick={updateStores}\n                            >\n                                <FormattedMessage\n                                    id='Apis.Details.ExternalStores.ExternalStores.save'\n                                    defaultMessage='Save'\n                                />\n                                {isUpdating && <CircularProgress size={20} />}\n                            </Button>\n                        </Grid>\n                        <Grid item>\n                            <Link to={'/apis/' + api.id + '/overview'}>\n                                <Button>\n                                    <FormattedMessage\n                                        id='Apis.Details.ExternalStores.ExternalStores.cancel'\n                                        defaultMessage='Cancel'\n                                    />\n                                </Button>\n                            </Link>\n                        </Grid>\n                        {(isRestricted(['apim:api_publish'], api))\n                            && (\n                                <Grid item>\n                                    <Typography variant='body2' color='primary'>\n                                        <FormattedMessage\n                                            id='Apis.Details.ExternalStores.ExternalStores.update.not.allowed'\n                                            defaultMessage={'* You are not authorized to publish the API'\n                                                + ' to external developer portals due to insufficient permissions'}\n                                        />\n                                    </Typography>\n                                </Grid>\n                            )}\n                    </Grid>\n                </Grid>\n            </div>\n        </div>\n    );\n}\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { FormattedMessage } from 'react-intl';\nimport FormControl from '@material-ui/core/FormControl';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Radio from '@material-ui/core/Radio';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\n\nconst styles = (theme) => ({\n    FormControl: {\n        padding: 0,\n        width: '100%',\n        marginTop: 20,\n    },\n    FormControlOdd: {\n        padding: 0,\n        backgroundColor: theme.palette.background.paper,\n        width: '100%',\n        marginTop: 0,\n    },\n    FormLabel: {\n        transform: 'translate(0, 1.5px) scale(0.75)',\n        transformOrigin: 'top left',\n    },\n    buttonWrapper: {\n        paddingTop: 20,\n    },\n    root: {\n        padding: 20,\n        marginTop: 20,\n    },\n    group: {\n        flexDirection: 'row',\n    },\n    helpButton: {\n        padding: 0,\n        minWidth: 20,\n    },\n    helpIcon: {\n        fontSize: 16,\n    },\n    htmlTooltip: {\n        backgroundColor: '#f5f5f9',\n        color: 'rgba(0, 0, 0, 0.87)',\n        maxWidth: 220,\n        fontSize: theme.typography.pxToRem(14),\n        border: '1px solid #dadde9',\n        '& b': {\n            fontWeight: theme.typography.fontWeightMedium,\n        },\n    },\n});\n\n/**\n * React component to create a new version of an API\n * @class CreateNewVersion\n * @extends {Component}\n */\nclass CreateNewVersion extends React.Component {\n    /**\n     * Creates an instance of CreateNewVersion.\n     * @param {any} props @inheritDoc\n     * @memberof CreateNewVersion\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            isDefaultVersion: 'no',\n            valid: { version: { empty: false, alreadyExists: false, hasSpecialChars: false } },\n        };\n    }\n\n    handleDefaultVersionChange = () => (event) => {\n        const { value } = event.target;\n        this.setState({\n            isDefaultVersion: value,\n        });\n    };\n\n    handleVersionChange = () => (event) => {\n        const { value } = event.target;\n        this.setState({\n            newVersion: value,\n            valid: { version: { empty: !value, alreadyExists: false, hasSpecialChars: this.hasSpecialChars(value) } },\n        });\n    };\n\n    hasSpecialChars(value) {\n        if (/^[^~!@#;:%^*()+={}|\\\\<>\"',&/$]+$/.test(value)) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    /**\n     * Handles the submit action for new version creation\n     *\n     * @param {API} api current API\n     * @param {string} newVersion new version to create\n     * @param {string} isDefaultVersion specifies whether the new API should be marked as default version ('yes' | 'no')\n     */\n    handleSubmit(api, newVersion, isDefaultVersion) {\n        if (!newVersion) {\n            this.setState({ valid: { version: { empty: true } } });\n            return;\n        }\n        const isDefaultVersionBool = isDefaultVersion === 'yes';\n        const { intl } = this.props;\n        api.createNewAPIVersion(newVersion, isDefaultVersionBool)\n            .then((response) => {\n                this.setState({\n                    redirectToReferrer: true,\n                    apiId: response.obj.id,\n                });\n                Alert.error(intl.formatMessage({\n                    id: 'Apis.Details.NewVersion.NewVersion.success',\n                    defaultMessage: 'Successfully created new version',\n                }) + newVersion);\n            })\n            .catch((error) => {\n                if (error.status === 409) {\n                    this.setState({ valid: { version: { alreadyExists: true } } });\n                } else {\n                    Alert.error(intl.formatMessage({\n                        id: 'Apis.Details.NewVersion.NewVersion.error',\n                        defaultMessage: 'Something went wrong while creating a new version!. Error: ',\n                    }) + error.status);\n                }\n            });\n    }\n\n    /**\n     * Renders the CreateNewVersion component.\n     * Once new version is created, redirects to the overview page of the new API.\n     * @returns {*} CreateNewVersion component\n     */\n    render() {\n        const { classes, api } = this.props;\n        const {\n            isDefaultVersion, newVersion, redirectToReferrer, apiId, valid,\n        } = this.state;\n        if (redirectToReferrer) {\n            return <Redirect to={'/apis/' + apiId + '/overview'} />;\n        }\n\n        let helperText = '';\n        if (valid.version.empty) {\n            helperText = 'This field cannot be empty';\n        } else if (valid.version.alreadyExists) {\n            helperText = 'An API with version \"' + newVersion + '\" already exists.';\n        } else if (valid.version.hasSpecialChars) {\n            helperText = 'API Version should not contain special characters';\n        }\n\n        return (\n            <>\n                <Container maxWidth='md'>\n                    <div className={classes.titleWrapper}>\n                        <Typography variant='h4' align='left' className={classes.mainTitle}>\n                            <FormattedMessage\n                                id='Apis.Details.NewVersion.NewVersion.create.new.version'\n                                defaultMessage='Create New Version'\n                            />\n                        </Typography>\n                    </div>\n                    <Grid container spacing={7}>\n                        <Grid item xs={12}>\n                            <Paper className={classes.root} elevation={0}>\n                                <FormControl margin='normal' className={classes.FormControlOdd}>\n                                    <TextField\n                                        fullWidth\n                                        id='newVersion'\n                                        error={\n                                            valid.version.empty\n                                            || valid.version.alreadyExists\n                                            || valid.version.hasSpecialChars\n                                        }\n                                        label={(\n                                            <FormattedMessage\n                                                id='Apis.Details.NewVersion.NewVersion.new.version'\n                                                defaultMessage='New Version'\n                                            />\n                                        )}\n                                        helperText={\n                                            helperText\n                                        }\n                                        type='text'\n                                        name='newVersion'\n                                        placeholder='Eg: 2.0.0'\n                                        value={newVersion}\n                                        variant='outlined'\n                                        onChange={this.handleVersionChange()}\n                                        margin='normal'\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                        autoFocus\n                                    />\n                                </FormControl>\n                                <FormControl margin='normal' className={classes.FormControl}>\n                                    <FormLabel className={classes.FormLabel} component='legend'>\n                                        <FormattedMessage\n                                            id='Apis.Details.NewVersion.NewVersion.default'\n                                            defaultMessage='Make this the default version'\n                                        />\n                                        <Tooltip\n                                            placement='top'\n                                            classes={{\n                                                tooltip: classes.htmlTooltip,\n                                            }}\n                                            title={(\n                                                <>\n                                                    <FormattedMessage\n                                                        id='Apis.Details.NewVersion.NewVersion.tooltip'\n                                                        defaultMessage={\n                                                            'Indicates if this is the default version of the API. '\n                                                            + 'If an API is invoked without specifying a version, '\n                                                            + 'the API Gateway will route the request to the default '\n                                                            + 'version of the API.'\n                                                        }\n                                                    />\n                                                </>\n                                            )}\n                                            interactive\n                                            aria-label='Default Version Selector'\n                                            tabIndex='-1'\n                                        >\n                                            <Button className={classes.helpButton}>\n                                                <HelpOutline className={classes.helpIcon} />\n                                            </Button>\n                                        </Tooltip>\n                                    </FormLabel>\n                                    <RadioGroup\n                                        name='isDefaultVersion'\n                                        id='isDefaultVersion'\n                                        className={classes.group}\n                                        value={isDefaultVersion}\n                                        onChange={this.handleDefaultVersionChange()}\n                                    >\n                                        <FormControlLabel value='yes' control={<Radio color='primary' />} label='Yes' />\n                                        <FormControlLabel value='no' control={<Radio color='primary' />} label='No' />\n                                    </RadioGroup>\n                                </FormControl>\n                                <div className={classes.buttonWrapper}>\n                                    <Grid\n                                        container\n                                        direction='row'\n                                        alignItems='flex-start'\n                                        spacing={1}\n                                        className={classes.buttonSection}\n                                    >\n                                        <Grid item>\n                                            <div>\n                                                <Button\n                                                    variant='contained'\n                                                    color='primary'\n                                                    id='createBtn'\n                                                    onClick={() => this.handleSubmit(api, newVersion, isDefaultVersion)}\n                                                    disabled={\n                                                        valid.version.empty\n                                                        || valid.version.alreadyExists\n                                                        || valid.version.hasSpecialChars\n                                                    }\n                                                >\n                                                    <FormattedMessage\n                                                        id='Apis.Details.NewVersion.NewVersion.create'\n                                                        defaultMessage='Create'\n                                                    />\n                                                </Button>\n                                            </div>\n                                        </Grid>\n                                        <Grid item>\n                                            <Link to={'/apis/' + api.id + '/overview'}>\n                                                <Button id='cancelBtn'>\n                                                    <FormattedMessage\n                                                        id='Apis.Details.NewVersion.NewVersion.cancel'\n                                                        defaultMessage='Cancel'\n                                                    />\n                                                </Button>\n                                            </Link>\n                                        </Grid>\n                                    </Grid>\n                                </div>\n                            </Paper>\n                        </Grid>\n                    </Grid>\n                </Container>\n            </>\n        );\n    }\n}\n\nCreateNewVersion.propTypes = {\n    classes: PropTypes.shape({}).isRequired,\n    api: PropTypes.shape({\n        id: PropTypes.string,\n    }).isRequired,\n    intl: PropTypes.shape({\n        formatMessage: PropTypes.func,\n    }).isRequired,\n};\n\nexport default withAPI(withStyles(styles)(CreateNewVersion));\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\n/**\n * Progress animation\n *\n * @returns { JSX }\n */\nconst Progress = () => {\n    return (\n        <div className='apim-dual-ring' />\n    );\n};\n\nexport default Progress;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport Axios from \"axios\";\nimport Settings from 'Settings';\nimport AuthManager from \"./AuthManager\";\n\n/**\n * Utility class for Store application\n */\nclass Utils {\n\n    /**\n     * Get JavaScript accessible cookies saved in browser, by giving the cooke name.\n     * @param {String} cookieName : Name of the cookie which need to be retrived\n     * @param {String} environmentName : label of the environment of the cookie\n     * @returns {String|null} : If found a cookie with given name , return its value,Else null value is returned\n     */\n    static getCookie(cookieName, environmentName) {\n        environmentName = environmentName || Utils.getEnvironment().label;\n\n        let pairs = document.cookie.split(\";\");\n        let cookie = null;\n        for (let pair of pairs) {\n            pair = pair.split(\"=\");\n            let cookie_name = pair[0].trim();\n            let value = encodeURIComponent(pair[1]);\n            if (cookie_name === `${cookieName}_${environmentName}`) {\n                cookie = value;\n                break;\n            }\n        }\n        return cookie;\n    }\n\n     /**\n     * Get JavaScript accessible cookies saved in browser, by giving the cooke name.\n     * @param {String} name - Name of the cookie which need to be retrieved\n     * @returns {String|null} - If found a cookie with given name , return its value,Else null value is returned\n     */\n    static getCookieWithoutEnvironment(name) {\n        const pairs = document.cookie.split(';');\n        let cookie = null;\n        for (let pair of pairs) {\n            pair = pair.split('=');\n            const cookieName = pair[0].trim();\n            if (pair[1] !== 'undefined') {\n                const value = encodeURIComponent(pair[1]);\n                if (cookieName === name) {\n                    cookie = value;\n                    break;\n                }\n            }\n        }\n        return cookie;\n    }\n\n\n    /**\n     * Delete a browser cookie given its name\n     * @param {String} name : Name of the cookie which need to be deleted\n     * @param {String} path : Path of the cookie which need to be deleted\n     * @param {String} environmentName: label of the environment of the cookie\n     */\n    static deleteCookie(name, path, environmentName) {\n        environmentName = environmentName || Utils.getEnvironment().label;\n        document.cookie = `${name}_${environmentName}=; path=${path}; expires=Thu, 01 Jan 1970 00:00:01 GMT`;\n    }\n\n    /**\n     * Set a cookie with given name and value assigned to it. Cookies can be only set to the same origin,\n     * which the script is running\n     * @param {String} name : Name of the cookie which need to be set\n     * @param {String} value : Value of the cookie, expect it to be URLEncoded\n     * @param {number} validityPeriod :  (Optional) Validity period of the cookie in seconds\n     * @param {String} path : Path which needs to set the given cookie\n     * @param {boolean} secured : secured parameter is set\n     */\n    static setCookie(name, value, validityPeriod, path = \"/\", environmentName, secured = true) {\n        environmentName = environmentName || Utils.getEnvironment().label;\n        let expiresDirective = \"\";\n        const securedDirective = secured ? \"; Secure\" : \"\";\n        if (validityPeriod) {\n            const date = new Date();\n            date.setTime(date.getTime() + validityPeriod * 1000);\n            expiresDirective = \"; expires=\" + date.toUTCString();\n        }\n\n        document.cookie = `${name}_${environmentName}=${value}; path=${path}${expiresDirective}${securedDirective}`;\n    }\n\n    /**\n     * Given an object returns whether the object is empty or not\n     * @param {Object} object : Any JSON object\n     * @returns {boolean}\n     */\n    static isEmptyObject(object) {\n        return Object.keys(object).length === 0 && object.constructor === Object\n    }\n\n    /**\n     * Get the current environment from local-storage\n     * @returns {Object} environment: {label, host, loginTokenPath}\n     */\n    static getEnvironment() {\n        if (Utils._environment) {\n            return Utils._environment;\n        }\n\n        let environmentData = localStorage.getItem(Utils.CONST.LOCALSTORAGE_ENVIRONMENT);\n        if (!environmentData) {\n            return Utils.getDefaultEnvironment();\n        }\n\n        return JSON.parse(environmentData);\n    }\n\n    /**\n     * Get the current environment from local-storage\n     * @returns {Object} environment: {label, host, loginTokenPath}\n     */\n    static getCurrentEnvironment() {\n        if (Utils.environment) {\n            return Utils.environment;\n        }\n\n        const environmentData = localStorage.getItem(Utils.CONST.LOCAL_STORAGE_ENVIRONMENT);\n        if (!environmentData) {\n            return Utils.getDefaultEnvironment();\n        }\n\n        return JSON.parse(environmentData);\n    }\n\n    /**\n     * Get an environment object with default values.\n     * @returns {Object} environment: {label: string, host: string, loginTokenPath: string}\n     * @private\n     */\n    static getDefaultEnvironment() {\n        return {\n            label: 'Default',\n            host: window.location.host,\n            loginTokenPath: '/login/token',\n            refreshTokenPath: '/services/refresh/refresh.jag',\n        };\n    }\n\n    /**\n     * Get current environment's index from the given environment array\n     * @param {Array} environments\n     * @param {string} name: name of the environment [default]: current environment name\n     * @returns {number}\n     */\n    static getEnvironmentID(environments, name = Utils.getEnvironment().label) {\n        if (!name) {\n            return 0;\n        }\n\n        for (let i = 0; i < environments.length; i++) {\n            if (name === environments[i].label) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    /**\n     * Store the given environment in local-storage\n     * @param {object} environment\n     */\n    static setEnvironment(environment) {\n        if (!environment) {\n            environment = Utils.getDefaultEnvironment();\n        }\n\n        if (!environment.host) {\n            environment.host = window.location.host;\n        }\n        //Store environment.\n        Utils._environment = environment;\n        localStorage.setItem(Utils.CONST.LOCALSTORAGE_ENVIRONMENT, JSON.stringify(environment));\n    }\n\n    static getPromised_DCRappInfo(environment) {\n        return Axios.get(Utils.getDCRappInfoRequestURL(environment));\n    }\n\n    static getDCRappInfoRequestURL(environment = Utils.getEnvironment()) {\n        return `${Utils.CONST.PROTOCOL}${environment.host}${Utils.CONST.DCR_APP_INFO}${Settings.app.context}`;\n    }\n\n    static getAppLogoutURL() {\n        return Utils.CONST.PROTOCOL + Utils.getEnvironment().host + Utils.CONST.LOGOUT + Settings.app.context;\n    }\n\n    static getLoginTokenPath(environment = Utils.getEnvironment()) {\n        return `${Utils.CONST.PROTOCOL}${environment.host}${Utils.CONST.LOGIN_TOKEN_PATH}${Settings.app.context}`;\n    }\n\n    static getSignUpTokenPath(environment) {\n        return `${Utils.CONST.PROTOCOL}${environment.host}${Utils.CONST.LOGIN_SIGN_UP_PATH}${Settings.app.context}`;\n    }\n\n    static getSwaggerURL() {\n        return \"https://\" + Utils.getEnvironment().host + Utils.CONST.SWAGGER_YAML;\n    }\n\n    static downloadFile = (response) => {\n        let fileName = '';\n        const contentDisposition = response.headers['content-disposition'];\n\n        if (contentDisposition && contentDisposition.indexOf('attachment') !== -1) {\n            const fileNameReg = /filename[^;=\\n]*=((['\"]).*?\\2|[^;\\n]*)/;\n            const matches = fileNameReg.exec(contentDisposition);\n            if (matches != null && matches[1]) fileName = matches[1].replace(/['\"]/g, '');\n        }\n        const contentType = response.headers['content-type'];\n        const blob = new Blob([response.data], {\n            type: contentType,\n        });\n        if (typeof window.navigator.msSaveBlob !== 'undefined') {\n            window.navigator.msSaveBlob(blob, fileName);\n        } else {\n            const URL = window.URL || window.webkitURL;\n            const downloadUrl = URL.createObjectURL(blob);\n\n            if (fileName) {\n                const aTag = document.createElement('a');\n                if (typeof aTag.download === 'undefined') {\n                    window.location = downloadUrl;\n                } else {\n                    aTag.href = downloadUrl;\n                    aTag.download = fileName;\n                    document.body.appendChild(aTag);\n                    aTag.click();\n                }\n            } else {\n                window.location = downloadUrl;\n            }\n\n            setTimeout(() => {\n                URL.revokeObjectURL(downloadUrl);\n            }, 100);\n        }\n    };\n    static getBrowserLocal() {\n        const language = (navigator.languages && navigator.languages[0]) || navigator.language || navigator.userLanguage;\n        const languageWithoutRegionCode = language.toLowerCase().split(/[_-]+/)[0];\n        return(languageWithoutRegionCode || language);\n    }\n}\n\nUtils.CONST = {\n    LOCALSTORAGE_ENVIRONMENT: 'environment_store',\n    //TODO: fix/remove below wrong paths\n    DCR_APP_INFO: '/login/login',\n    LOGOUT: '/login/logout',\n    LOGIN_TOKEN_PATH: '/login/token',\n    LOGIN_SIGN_UP_PATH: '/login/signup',\n\n    LOGOUT_CALLBACK: '/services/auth/callback/logout',\n    SWAGGER_YAML: '/api/am/store/v1/swagger.yaml',\n    PROTOCOL: 'https://',\n};\n\n/**\n * Current environment\n * @type {object} environment object\n * @private\n */\nUtils._environment = undefined;\nexport default Utils;","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport Utils from './Utils'\n\n/**\n * Represent an user logged in to the application, There will be allays one user per session and\n * this user details will be persist in browser localstorage.\n */\nexport default class User {\n    /**\n     * Create a user for the given environment\n     * @param {string} environment\n     * @param {string} name\n     * @param {string} id_token\n     * @param {boolean} remember\n     * @returns {User|null} user object\n     */\n    constructor(environment, name, id_token, remember = false) {\n        const user = User._userMap.get(environment);\n        if (user) {\n            return user;\n        }\n        this.name = name;\n        this._scopes = [];\n        this._idToken = id_token;\n        this._remember = remember;\n        this._isSideBarOpen = true;\n        User._userMap.set(environment, this);\n    }\n\n    /**\n     * OAuth scopes which are available for use by this user\n     * @returns {Array} : An array of scopes\n     */\n    get scopes() {\n        return this._scopes;\n    }\n\n    /**\n     * Set OAuth scopes available to be used by this user\n     * @param {Array} newScopes :  An array of scopes\n     */\n    set scopes(newScopes) {\n        Object.assign(this.scopes, newScopes);\n    }\n\n    /**\n     * Get the JS accessible access token fragment from cookie storage.\n     * @returns {String|null}\n     */\n    getPartialToken() {\n        return Utils.getCookie(User.CONST.WSO2_AM_TOKEN_1);\n    }\n\n    /**\n     * Get the JS accessible refresh token fragment from cookie storage.\n     * @returns {String|null}\n     */\n    getRefreshPartialToken() {\n        return Utils.getCookie(User.CONST.WSO2_AM_REFRESH_TOKEN_1);\n    }\n\n    /**\n     * Store the JavaScript accessible access token segment in cookie storage\n     * @param {String} newToken : Part of the access token which needs when accessing REST API\n     * @param {Number} validityPeriod : Validity period of the cookie in seconds\n     * @param path Path which need to be set to cookie\n     */\n    setPartialToken(newToken, validityPeriod, path) {\n        Utils.delete_cookie(User.CONST.WSO2_AM_TOKEN_1, path);\n        Utils.setCookie(User.CONST.WSO2_AM_TOKEN_1, newToken, validityPeriod, path);\n    }\n\n\n    get isSideBarOpen(){\n        return this._isSideBarOpen;\n    }\n\n    set isSideBarOpen(isSideBarOpen) {\n        this._isSideBarOpen = isSideBarOpen;\n    }\n\n    /**\n     *\n     * @param type\n     */\n    checkPermission(type) {\n        throw (\"Not implemented!\");\n    }\n\n    /**\n     * Provide user data in JSON structure.\n     * @returns {JSON} : JSON representation of the user object\n     */\n    toJson() {\n        return {\n            name: this.name,\n            scopes: this._scopes,\n            idToken: this._idToken,\n            remember: this._remember,\n            isSideBarOpen: this._isSideBarOpen,\n        };\n    }\n\n    /**\n     * User utility method to create an user from JSON object.\n     * @param {JSON} userJson : Need to provide user information in JSON structure to create an user object\n     * @returns {User} : An instance of User(this) class.\n     */\n    static fromJson(userJson) {\n        if (!userJson.name) {\n            throw \"Need to provide user `name` key in the JSON object, to create an user\";\n        }\n        const _user = new User(Utils.getEnvironment().label, userJson.name);\n        _user.scopes = userJson.scopes;\n        _user.idToken = userJson.idToken;\n        _user.rememberMe = userJson.remember;\n        _user.isSideBarOpen = userJson.isSideBarOpen;\n        return _user;\n    }\n}\n\nUser.CONST = {\n    WSO2_AM_TOKEN_MSF4J: \"WSO2_AM_TOKEN_MSF4J\",\n    WSO2_AM_TOKEN_1: \"WSO2_AM_TOKEN_1\",\n    WSO2_AM_REFRESH_TOKEN_1: 'WSO2_AM_REFRESH_TOKEN_1',\n    LOCALSTORAGE_USER: \"wso2_user_store\",\n    DEVPORTAL_CLIENT_ID: \"CLIENT_ID\",\n    DEVPORTAL_SESSION_STATE: \"devportal_session_state\"\n};\n/**\n * Map of users (key = environmentLabel, value = User instance)\n * @type {Map}\n * @private\n */\nUser._userMap = new Map();\n","/**\n * Copyright (c) 2019, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst CONSTS = {\n    HTTP_METHODS: ['get', 'put', 'post', 'delete', 'patch', 'head', 'options'],\n    errorCodes: {\n        INSUFFICIENT_PREVILEGES: '900403: Insufficient privileges to login',\n        INVALID_TOKEN: '900401: Invalid token',\n    },\n    ISLOGINPERMITTED: 'isLoginPermitted',\n    LOGINSTATUS: 'loginStatus',\n};\n\nexport default CONSTS;\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport axios from 'axios';\nimport qs from 'qs';\nimport Settings from 'Settings';\nimport Utils from './Utils';\nimport User from './User';\nimport APIClient from './APIClient';\nimport APIClientFactory from './APIClientFactory';\nimport CONSTS from './Constants';\n\n\n/**\n * Manage the application authentication and authorization requirements.\n *\n * @class AuthManager\n */\nclass AuthManager {\n    constructor() {\n        this.isLogged = false;\n        this.username = null;\n    }\n\n    /**\n     * Static method to handle unauthorized user action error catch, It will look for response status code and skip !401 errors\n     * @param {object} error_response\n     */\n    static unauthorizedErrorHandler(error_response) {\n        if (error_response.status !== 401) {\n            /* Skip unrelated response code to handle in unauthorizedErrorHandler */\n            throw error_response;\n            /* re throwing the error since we don't handle it here and propagate to downstream error handlers in catch chain */\n        }\n        const message = 'The session has expired' + '.<br/> You will be redirect to the login page ...';\n        if (typeof noty !== 'undefined') {\n            noty({\n                text: message,\n                type: 'error',\n                dismissQueue: true,\n                modal: true,\n                progressBar: true,\n                timeout: 5000,\n                layout: 'top',\n                theme: 'relax',\n                maxVisible: 10,\n                callback: {\n                    afterClose() {\n                        window.location = loginPageUri;\n                    },\n                },\n            });\n        } else {\n            throw error_response;\n        }\n    }\n\n    /**\n     * An user object is return in present of user logged in user info in browser local storage, at the same time checks for partialToken in the cookie as well.\n     * This may give a partial indication(passive check not actually check the token validity via an API) of whether the user has logged in or not, The actual API call may get denied\n     * if the cookie stored access token is invalid/expired\n     * @param {string} environmentName: label of the environment, the user to be retrieved from\n     * @returns {User | null} Is any user has logged in or not\n     */\n    static getUser(environmentName = Utils.getCurrentEnvironment().label) {\n        const userData = localStorage.getItem(`${User.CONST.LOCALSTORAGE_USER}_${environmentName}`);\n        const partialToken = Utils.getCookie(User.CONST.WSO2_AM_TOKEN_1, environmentName);\n        const refreshToken = Utils.getCookie(User.CONST.WSO2_AM_REFRESH_TOKEN_1, environmentName);\n\n        const isLoginCookie = Utils.getCookie('IS_LOGIN', 'DEFAULT');\n        if (isLoginCookie) {\n            Utils.deleteCookie('IS_LOGIN', Settings.app.context, 'DEFAULT');\n            localStorage.removeItem(`${User.CONST.LOCALSTORAGE_USER}_${environmentName}`);\n            return null;\n        }\n        if (!(userData && (partialToken || refreshToken))) {\n            return null;\n        }\n\n        return User.fromJson(JSON.parse(userData), environmentName);\n    }\n\n    static hasBasicLoginPermission(scopes) {\n        return scopes.includes('apim:subscribe');\n    }\n\n    /**\n     * Do token introspection and Get the currently logged in user's details\n     * When user authentication happens via redirection flow, This method might get used to\n     * retrieve the user information\n     * after setting the access token parts in cookies, Because access token parts are stored in /publisher path ,\n     * just making an external request in same path will submit both cookies, allowing the service to build the\n     * complete access token and do the introspection.\n     * Return a promise resolving to user object iff introspect calls return active user else null\n     * @static\n     * @returns {Promise} fetch response promise resolving to introspect response JSON or null otherwise\n     * @memberof AuthManager\n     */\n    static getUserFromToken() {\n        const partialToken = Utils.getCookie(User.CONST.WSO2_AM_TOKEN_1);\n        if (!partialToken) {\n            return new Promise((resolve, reject) => reject(new Error('No partial token found')));\n        }\n        const promisedResponse = fetch(\n            Settings.app.context + '/services/auth/introspect',\n            { credentials: 'same-origin' },\n        );\n        return promisedResponse\n            .then((response) => response.json())\n            .then((data) => {\n                let user = null;\n                let username;\n                if (data.active) {\n                    const currentEnv = Utils.getCurrentEnvironment();\n                    username = data.username;\n                    user = new User(currentEnv.label, username);\n                    const scopes = data.scope.split(' ');\n                    if (this.hasBasicLoginPermission(scopes)) {\n                        user.scopes = scopes;\n                        AuthManager.setUser(user, currentEnv.label);\n                    } else {\n                        console.warn('The user with ' + partialToken + ' doesn\\'t have enough permission!');\n                        throw new Error(CONSTS.errorCodes.INSUFFICIENT_PREVILEGES);\n                    }\n                } else {\n                    console.warn('User with ' + partialToken + ' is not active!');\n                    throw new Error(CONSTS.errorCodes.INVALID_TOKEN);\n                }\n                return user;\n            });\n    }\n\n    /**\n     * Persist an user in browser local storage and in-memory, Since only one use can be logged\n     * into the application at a time,This method will override any previously persist user data.\n     * @param {User} user : An instance of the {User} class\n     * @param {string} environmentName: label of the environment to be set the user\n     */\n    static setUser(user, environmentName) {\n        environmentName = environmentName || Utils.getEnvironment().label;\n        if (!(user instanceof User)) {\n            throw new Error('Invalid user object');\n        }\n\n        if (user) {\n            localStorage.setItem(`${User.CONST.LOCALSTORAGE_USER}_${environmentName}`, JSON.stringify(user.toJson()));\n        }\n    }\n\n    /**\n     *\n     * Get scope for resources\n     * @static\n     * @param {String} resourcePath\n     * @param {String} resourceMethod\n     * @returns Boolean\n     * @memberof AuthManager\n     */\n    static hasScopes(resourcePath, resourceMethod) {\n        const user = AuthManager.getUser();\n        if (user) {\n            const userScopes = user.scopes;\n            const validScope = APIClient.getScopeForResource(resourcePath, resourceMethod);\n            return validScope.then((scope) => {\n                return userScopes.includes(scope);\n            });\n        }\n    }\n\n\n    /**\n     * By given username and password Authenticate the user, Since this REST API has no swagger definition,\n     * Can't use swaggerjs to generate client.Hence using Axios to make AJAX calls\n     * @param {String} username : Username of the user\n     * @param {String} password : Plain text password\n     * @param {Object} environment : environment object\n     * @returns {AxiosPromise} : Promise object with the login request made\n     */\n    authenticateUser(username, password, environment) {\n        const headers = {\n            Authorization: 'Basic deidwe',\n            Accept: 'application/json',\n            'Content-Type': 'application/x-www-form-urlencoded',\n        };\n        const data = {\n            username,\n            password,\n            grant_type: 'password',\n            validity_period: 3600,\n            scopes: 'apim:subscribe apim:signup apim:workflow_approve apim:sub_alert_manage',\n        };\n        const promised_response = axios(Utils.getLoginTokenPath(environment), {\n            method: 'POST',\n            data: qs.stringify(data),\n            headers,\n            withCredentials: true,\n        });\n        // Set the environment that user tried to authenticate\n        const previous_environment = Utils.getEnvironment();\n        Utils.setEnvironment(environment);\n\n        promised_response\n            .then((response) => {\n                const { validityPeriod } = response.data; // In seconds\n                const WSO2_AM_TOKEN_1 = response.data.partialToken;\n                const user = new User(Utils.getEnvironment().label, response.data.authUser, response.data.idToken);\n                user.setPartialToken(WSO2_AM_TOKEN_1, validityPeriod, Settings.app.context);\n                user.scopes = response.data.scopes.split(' ');\n                AuthManager.setUser(user);\n            })\n            .catch((error) => {\n                console.error('Authentication Error:\\n', error);\n                Utils.setEnvironment(previous_environment);\n            });\n        return promised_response;\n    }\n\n    /**\n     * Revoke the issued OAuth access token for currently logged in user and clear both cookie and localstorage data.\n     */\n    logout() {\n        const authHeader = 'Bearer ' + AuthManager.getUser().getPartialToken();\n        // TODO Will have to change the logout end point url to contain the app context(i.e. publisher/store, etc.)\n        const url = Utils.getAppLogoutURL();\n        const headers = {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: authHeader,\n        };\n        const promisedLogout = axios.post(url, null, { headers });\n        return promisedLogout.then((response) => {\n            Utils.delete_cookie(User.CONST.WSO2_AM_TOKEN_1, Settings.app.context);\n            localStorage.removeItem(User.CONST.LOCALSTORAGE_USER);\n            new APIClientFactory().destroyAPIClient(Utils.getEnvironment().label); // Single client should be re initialize after log out\n        });\n    }\n\n    /**\n     * Call Token API with refresh token grant type\n     * @param {Object} environment - Name of the environment\n     * @return {AxiosPromise}\n     */\n    static refresh(environment) {\n        const params = {\n            refresh_token: AuthManager.getUser(environment.label).getRefreshPartialToken(),\n            validity_period: -1,\n            scopes: AuthManager.CONST.USER_SCOPES,\n        };\n        const referrer = document.referrer.indexOf('https') !== -1 ? document.referrer : null;\n        const url = Settings.app.context + environment.refreshTokenPath;\n        const headers = {\n            Accept: 'application/json',\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'X-Alt-Referer': referrer,\n        };\n        return fetch(url, {\n            method: 'POST',\n            body: qs.stringify(params),\n            headers,\n        });\n    }\n\n    /**\n     * Register anonymous user by generating token using client_credentials grant type\n     * @param {Object} environment : environment object\n     * @returns {AxiosPromise} : Promise object with the request made\n     */\n    registerUser(environment) {\n        const headers = {\n            Accept: 'application/json',\n            'Content-Type': 'application/x-www-form-urlencoded',\n        };\n        const data = {\n            grant_type: 'client_credentials',\n            validity_period: 3600,\n            scopes: 'apim:self-signup',\n        };\n        const promised_response = axios(Utils.getSignUpTokenPath(environment), {\n            method: 'POST',\n            data: qs.stringify(data),\n            headers,\n            withCredentials: false,\n        });\n\n        promised_response\n            .then((response) => {\n                const { validityPeriod } = response.data;\n                const WSO2_AM_TOKEN_1 = response.data.partialToken;\n                const user = new User(Utils.getEnvironment().label, response.data.authUser, response.data.idToken);\n                user.setPartialToken(WSO2_AM_TOKEN_1, validityPeriod, Settings.app.context);\n                user.scopes = response.data.scopes;\n                AuthManager.setUser(user);\n            })\n            .catch((error) => {\n                console.error('Authentication Error: ', error);\n            });\n        return promised_response;\n    }\n}\n\n// TODO: derive this from swagger definitions ~tmkb\nAuthManager.CONST = {\n    USER_SCOPES:\n        'apim:api_key apim:app_manage apim:app_update apim:dedicated_gateway apim:self-signup '\n        + 'apim:store_settings apim:sub_alert_manage apim:sub_manage apim:subscribe openid',\n};\n\nexport default AuthManager;\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport SwaggerClient from 'swagger-client';\nimport { Mutex } from 'async-mutex';\nimport Settings from 'Settings';\nimport queryString from 'query-string';\nimport AuthManager from './AuthManager';\nimport Utils from './Utils';\n\n/**\n * This class expose single swaggerClient instance created using the given swagger URL (Publisher, Store, ect ..)\n * it's highly unlikely to change the REST API Swagger definition (swagger.json) file on the fly,\n * Hence this singleton class help to preserve consecutive swagger client object creations saving redundant IO operations.\n */\nclass APIClient {\n    /**\n     * @param {String} host : Host of apis. Host for the swagger-client's spec property.\n     * @param {{}} args : Accept as an optional argument for APIClient constructor.Merge the given args with default args.\n     * @returns {APIClient|*|null}\n     */\n    constructor(host, args = {}) {\n        this.host = host || location.host;\n        this.environment = Utils.getCurrentEnvironment();\n        const authorizations = {\n            OAuth2Security: {\n                token: { access_token: AuthManager.getUser() ? AuthManager.getUser().getPartialToken() : '' },\n            },\n        };\n\n        SwaggerClient.http.withCredentials = true;\n        const promisedResolve = SwaggerClient.resolve({ url: Utils.getSwaggerURL(), requestInterceptor: (request) => { request.headers.Accept = 'text/yaml'; } });\n        APIClient.spec = promisedResolve;\n        this._client = promisedResolve.then((resolved) => {\n            const argsv = Object.assign(\n                args,\n                {\n                    spec: this._fixSpec(resolved.spec),\n                    authorizations,\n                    requestInterceptor: this._getRequestInterceptor(),\n                    responseInterceptor: this._getResponseInterceptor(),\n                },\n            );\n            SwaggerClient.http.withCredentials = true;\n            return new SwaggerClient(argsv);\n        });\n        this._client.catch(AuthManager.unauthorizedErrorHandler);\n        this.mutex = new Mutex();\n    }\n\n    /**\n     * Expose the private _client property to public\n     * @returns {APIClient} an instance of APIClient class\n     */\n    get client() {\n        return this._client;\n    }\n\n    /**\n     * Get the ETag of a given resource key from the session storage\n     * @param key {string} key of resource.\n     * @returns {string} ETag value for the given key\n     */\n    static getETag(key) {\n        return sessionStorage.getItem('etag_' + key);\n    }\n\n    /**\n     * Add an ETag to a given resource key into the session storage\n     * @param key {string} key of resource.\n     * @param etag {string} etag value to be stored against the key\n     */\n    static addETag(key, etag) {\n        sessionStorage.setItem('etag_' + key, etag);\n    }\n\n    /**\n     * Get Scope for a particular resource path\n     *\n     * @param resourcePath resource path of the action\n     * @param resourceMethod resource method of the action\n     */\n    static getScopeForResource(resourcePath, resourceMethod) {\n        if (!APIClient.spec) {\n            SwaggerClient.http.withCredentials = true;\n            APIClient.spec = SwaggerClient.resolve({ url: Utils.getSwaggerURL() });\n        }\n        return APIClient.spec.then((resolved) => {\n            return resolved.spec.paths[resourcePath] && resolved.spec.paths[resourcePath][resourceMethod] && resolved.spec.paths[resourcePath][resourceMethod].security[0].OAuth2Security[0];\n        });\n    }\n\n    /**\n     * Temporary method to fix the hostname attribute Till following issues get fixed ~tmkb\n     * https://github.com/swagger-api/swagger-js/issues/1081\n     * https://github.com/swagger-api/swagger-js/issues/1045\n     * @param spec {JSON} : Json object of the specification\n     * @returns {JSON} : Fixed specification\n     * @private\n     */\n    _fixSpec(spec) {\n        spec.host = this.host;\n        spec.security = [{ OAuth2Security: ['apim:api_subscribe'] }];\n        return spec;\n    }\n\n    _getResponseInterceptor() {\n        return (data) => {\n            if (data.headers.etag) {\n                APIClient.addETag(data.url, data.headers.etag);\n            }\n\n            // If an unauthenticated response is received, we check whether the token is valid by introspecting it.\n            // If it is not valid, we need to clear the stored tokens (in cookies etc) in the browser by redirecting the\n            //   user to logout.\n            if (data.status === 401 && data.obj != null && data.obj.description === 'Unauthenticated request') {\n                const userData = AuthManager.getUserFromToken();\n                const existingUser = AuthManager.getUser(this.environment.label);\n                if (existingUser) {\n                    userData.then((user) => {\n                        if (user) {\n                            window.location = Settings.app.context + Utils.CONST.LOGOUT_CALLBACK;\n                        }\n                    }).catch((error) => {\n                        console.error('Error occurred while checking token status. Hence redirecting to login', error);\n                        window.location = Settings.app.context + Utils.CONST.LOGOUT_CALLBACK;\n                    });\n                } else {\n                    console.error('Attempted a call to a protected API without a proper access token');\n                }\n            }\n            return data;\n        };\n    }\n\n    /**\n     * Interceptor for each request\n     * @returns {Object}\n     * @memberof APIClient\n     */\n    _getRequestInterceptor() {\n        return (request) => {\n            const { location } = window;\n            if (location) {\n                const { tenant } = queryString.parse(location.search);\n                if (tenant) {\n                    request.headers['X-WSO2-Tenant'] = tenant;\n                }\n            }\n\n            const existingUser = AuthManager.getUser(this.environment.label);\n            if (!existingUser) {\n                console.log('User not found. Token refreshing failed.');\n                return request;\n            }\n            let existingToken = AuthManager.getUser(this.environment.label).getPartialToken();\n            const refToken = AuthManager.getUser(this.environment.label).getRefreshPartialToken();\n            if (existingToken) {\n                request.headers.authorization = 'Bearer ' + existingToken;\n                return request;\n            } else {\n                console.log('Access token is expired. Trying to refresh.');\n                if (!refToken) {\n                    console.log('Refresh token not found. Token refreshing failed.');\n                    return request;\n                }\n            }\n\n            const env = this.environment;\n            const promise = this.mutex.acquire().then((release) => {\n                existingToken = AuthManager.getUser(env.label).getPartialToken();\n                if (existingToken) {\n                    request.headers.authorization = 'Bearer ' + existingToken;\n                    release();\n                    return request;\n                } else {\n                    return AuthManager.refresh(env).then((res) => res.json())\n                        .then(() => {\n                            request.headers.authorization = 'Bearer '\n                                + AuthManager.getUser(env.label).getPartialToken();\n                            return request;\n                        }).catch((error) => {\n                            console.error('Error:', error);\n                        })\n                        .finally(() => {\n                            release();\n                        });\n                }\n            });\n\n            if (APIClient.getETag(request.url)\n                && (request.method === 'PUT' || request.method === 'DELETE' || request.method === 'POST')) {\n                request.headers['If-Match'] = APIClient.getETag(request.url);\n            }\n            return promise;\n        };\n    }\n}\n\nAPIClient.spec = null;\n\nexport default APIClient;\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nimport APIClient from \"./APIClient\";\nimport Utils from \"./Utils\";\n\nclass APIClientFactory {\n    constructor() {\n        if (APIClientFactory._instance) {\n            return APIClientFactory._instance;\n        }\n\n        this._APIClientMap = new Map();\n        APIClientFactory._instance = this;\n    }\n\n    getAPIClient(environmentLabel) {\n        let api_Client = this._APIClientMap.get(environmentLabel);\n\n        if (api_Client) {\n            return api_Client;\n        }\n\n        api_Client = new APIClient(Utils.getEnvironment().host);\n        this._APIClientMap.set(environmentLabel, api_Client);\n        return api_Client;\n    }\n\n    destroyAPIClient(environmentLabel) {\n        this._APIClientMap.delete(environmentLabel);\n    }\n}\n\nAPIClientFactory._instance = null;\n\nexport default APIClientFactory;","/**\n * Copyright (c) 2017, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\"use strict\";\n\nimport AuthManager from './AuthManager'\n\n/***\n * Abstract resource representation, Host for generic resource related methods\n */\nexport default class Resource {\n\n    /**\n     * @param data\n     * @returns {object} Metadata for API request\n     */\n    static _requestMetaData(data = {}) {\n        /* TODO: This should be moved to an interceptor ~tmkb*/\n        return {\n            requestContentType: data['Content-Type'] || \"application/json\"\n        };\n    }\n}","/**\n * Copyright (c) 2019, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport APIClientFactory from './APIClientFactory';\nimport Utils from './Utils';\nimport Resource from './Resource';\n\n/**\n * API client for WSDL related operations\n */\nclass Wsdl extends Resource {\n    /**\n     * Constructor of the WSDL API client\n     * @param {*} client SwaggerClient object\n     */\n    constructor(client = null) {\n        super();\n        if (client == null) {\n            this.apiClient = new APIClientFactory().getAPIClient(Utils.getCurrentEnvironment()).client;\n        } else {\n            this.apiClient = client;\n        }\n    }\n\n    /**\n     * Download the WSDL of an API for the given gateway environment\n     *\n     * @static\n     * @param {string} apiId API UUID\n     * @param {string} environmentName name of the gateway environment\n     * @returns {*} WSDL validation response\n     * @memberof Wsdl\n     */\n    downloadWSDLForEnvironment(apiId, environmentName = null) {\n        return this.apiClient.then((client) => {\n            return client.apis.APIs.getWSDLOfAPI({ apiId, environmentName });\n        });\n    }\n}\n\nexport default Wsdl;\n","/**\n * Copyright (c) 2016, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport CONSTS from 'AppData/Constants';\nimport APIClientFactory from './APIClientFactory';\nimport Resource from './Resource';\nimport Wsdl from './Wsdl';\nimport Utils from './Utils';\n\n/**\n * An abstract representation of an API\n */\nexport default class API extends Resource {\n    /**\n     * @constructor\n     * @param {string} access_key - Access key for invoking the backend REST API call.\n     */\n    constructor() {\n        super();\n        this.client = new APIClientFactory().getAPIClient(Utils.getEnvironment().label).client;\n        this.wsdlClient = new Wsdl(this.client);\n        this._requestMetaData = Resource._requestMetaData;\n    }\n\n    /**\n     * (TODO: need to ask for fallback sequence as well tmkb)\n     * Get list of all the available APIs, If the call back is given\n     * It will be invoked upon receiving the response from REST service.Else will return a promise.\n     * @param callback {function} A callback function to invoke after receiving successful response.\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getAllAPIs(params = {}, callback = null) {\n        const promiseGetAll = this.client.then((client) => {\n            return client.apis.APIs.get_apis(params, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseGetAll.then(callback);\n        } else {\n            return promiseGetAll;\n        }\n    }\n\n    /**\n     * Get details of a given API\n     * @param id {string} UUID of the api.\n     * @param callback {function} A callback function to invoke after receiving successful response.\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getAPIById(id, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.APIs.get_apis__apiId_({ apiId: id }, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /*\n     Get the inline content of a given document\n     */\n    getInlineContentOfDocument(api_id, docId) {\n        const promised_getDocContent = this.client.then((client) => {\n            const payload = {\n                apiId: api_id,\n                documentId: docId,\n            };\n            return client.apis['API Documents'].get_apis__apiId__documents__documentId__content(payload);\n        });\n        return promised_getDocContent;\n    }\n\n    /**\n     * Get the Documents of an API\n     * @param id {String} UUID of the API in which the documents needed\n     * @param callback {function} Function which needs to be called upon success of getting documents\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getDocumentsByAPIId(id, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis['API Documents'].get_apis__apiId__documents({ apiId: id }, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Get the Documents of an API\n     * @param {string} apiId api id.\n     * @param {string} documentId document id.\n     * @returns {promise} promise to get the document.\n     */\n    getDocumentByDocId(apiId, documentId) {\n        const promiseGet = this.client.then((client) => {\n            const payload = {\n                apiId,\n                documentId,\n            };\n            return client.apis['Documents'].get_apis__apiId__documents__documentId_(payload, this._requestMetaData());\n        });\n        return promiseGet;\n    }\n\n    /**\n     * Get the Document content of an API by document Id\n     * @param api_id {String} UUID of the API in which the document needed\n     * @param docId {String} UUID of the Document need to view\n     * @param callback {function} Function which needs to be called upon success of of getting document.\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getFileForDocument(api_id, docId) {\n        const promised_getDocContent = this.client.then((client) => {\n            const payload = {\n                apiId: api_id,\n                documentId: docId,\n                Accept: 'application/octet-stream',\n            };\n            return client.apis['API Documents'].get_apis__apiId__documents__documentId__content(\n                payload,\n                this._requestMetaData({\n                    'Content-Type': 'multipart/form-data',\n                }),\n            );\n        });\n        return promised_getDocContent;\n    }\n\n    /**\n     * Get the swagger of an API\n     * @param apiId {String} UUID of the API in which the swagger is needed\n     * @param callback {function} Function which needs to be called upon success of the API deletion\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getSwaggerByAPIId(apiId, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.APIs.get_apis__apiId__swagger({ apiId }, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Get the schema of an GraphQL API\n     * @param apiId {String} UUID of the API in which the schema is needed\n     * @param callback {function} Function which needs to be called upon success of the retrieving schema\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getGraphQLSchemaByAPIId(apiId, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.APIs.get_apis__apiId__graphql_schema({ apiId }, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Get the swagger of an API\n     * @param apiId {String} UUID of the API in which the swagger is needed\n     * @param environmentName {String} API environment name\n     * @param callback {function} Function which needs to be called upon success of the API deletion\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getSwaggerByAPIIdAndEnvironment(apiId, environmentName, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.APIs.get_apis__apiId__swagger({ apiId, environmentName }, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Get the swagger of an API\n     * @param apiId {String} UUID of the API in which the swagger is needed\n     * @param labelName {String} Micro gateway label\n     * @param callback {function} Function which needs to be called upon success of the API deletion\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getSwaggerByAPIIdAndLabel(apiId, labelName, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.APIs.get_apis__apiId__swagger({ apiId, labelName }, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Get the swagger of an API\n     * @param apiId {String} UUID of the API in which the swagger is needed\n     * @param clusterName {String} Container managed cluster name\n     * @param callback {function} Function which needs to be called upon success of the API deletion\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getSwaggerByAPIIdAndClusterName(apiId, clusterName, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.APIs.get_apis__apiId__swagger({ apiId, clusterName }, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Get application by id\n     * @param id {String} UUID of the application\n     * @param callback {function} Function which needs to be called upon success\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getApplication(id, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.Applications.get_applications__applicationId_(\n                { applicationId: id },\n                this._requestMetaData(),\n            );\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Get application by id\n     * @param callback {function} Function which needs to be called upon success\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     * @deprecated Use Application.all method instead\n     */\n    getAllApplications(callback = null, limit = 25) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.Applications.get_applications({limit}, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Get application by id\n     * @param policyLevel\n     * @param callback {function} Function which needs to be called upon success\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getAllTiers(policyLevel, callback = null) {\n        const promiseGetAll = this.client.then((client) => {\n            return client.apis['Throttling Policies'].get_throttling_policies__policyLevel_(\n                { policyLevel },\n                this._requestMetaData(),\n            );\n        });\n        if (callback) {\n            return promiseGetAll.then(callback);\n        } else {\n            return promiseGetAll;\n        }\n    }\n\n    /**\n     * Get all application attributes\n     * @param {function} callback which needs to be called upon success\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getAllApplicationAttributes() {\n        return this.client.then((client) => {\n            return client.apis.Settings.get_settings_application_attributes(this._requestMetaData());\n        });\n    }\n\n    /**\n     * Create application\n     * @param {object} application content of the application\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    createApplication(application) {\n        return this.client.then((client) => {\n            const payload = { body: application };\n            const args = { 'Content-Type': 'application/json' };\n            return client.apis.Applications.post_applications(payload, args);\n        });\n    }\n\n    /**\n     * Update an application\n     * @param application content that need to updated with the application id\n     * @param callback {function} Function which needs to be called upon success\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    updateApplication(application, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            const payload = { applicationId: application.applicationId, body: application };\n            return client.apis.Applications.put_applications__applicationId_(payload, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Add new comment to an existing API\n     * @param apiId apiId of the api to which the comment is added\n     * @param comment comment text\n     */\n    addComment(apiId, comment) {\n        return this.client.then((client) => {\n            const payload = { apiId, body: comment };\n            return client.apis.Comments.addCommentToAPI(payload, this._requestMetaData());\n        });\n    }\n\n    /**\n     * Get all comments for a particular API\n     * @param apiId api id of the api to which the comment is added\n     */\n    getAllComments(apiId) {\n        return this.client.then((client) => {\n            return client.apis.Comments.getAllCommentsOfAPI({ apiId }, this._requestMetaData());\n        });\n    }\n\n    /**\n     * Delete a comment belongs to a particular API\n     * @param apiId api id of the api to which the comment belongs to\n     * @param commentId comment id of the comment which has to be deleted\n     */\n    deleteComment(apiId, commentId) {\n        return this.client.then((client) => {\n            return client.apis.Comments.deleteComment({ apiId, commentId }, this._requestMetaData());\n        });\n    }\n\n    /**\n     * Update a comment belongs to a particular API\n     * @param apiId apiId of the api to which the comment is added\n     * @param commentId comment id of the comment which has to be updated\n     * @param commentInfo comment text\n     */\n    updateComment(apiId, commentId, commentInfo, callback = null) {\n        const promise = this.client.then((client) => {\n            return client.apis['Comment (Individual)'].put_apis__apiId__comments__commentId_(\n                { apiId, commentId, body: commentInfo },\n                this._requestMetaData(),\n            );\n        }).catch((error) => {\n            console.error(error);\n        });\n        if (callback) {\n            return promise.then(callback);\n        } else {\n            return promise;\n        }\n    }\n\n    /**\n     * Get Rating details for a partiuclar API\n     * @param {apiId} apiId of the api\n     * @returns {promise} promise\n     */\n    getRatingFromUser(apiId) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.Ratings.get_apis__apiId__ratings({ apiId }, this._requestMetaData());\n        }).catch((error) => {\n            console.error(error);\n        });\n        return promiseGet;\n    }\n\n    /**\n     * Remove Rating details for a partiuclar API for the logged in user\n     * @param {apiId} apiId of the api\n     * @returns {promise} promise\n     */\n    removeRatingOfUser(apiId) {\n        const promiseDelete = this.client.then((client) => {\n            return client.apis.Ratings.delete_apis__apiId__user_rating({ apiId }, this._requestMetaData());\n        }).catch((error) => {\n            console.error(error);\n        });\n        return promiseDelete;\n    }\n\n    /**\n     * Add Rating for a partiuclar API by the logged in user\n     * @param {apiId} apiId of the api\n     * @param {ratingInfo} ratingInfo user rating for the api\n     * @returns {promise} promise\n     */\n    addRating(apiId, ratingInfo) {\n        const promise = this.client.then((client) => {\n            return client.apis.Ratings.put_apis__apiId__user_rating(\n                { apiId, body: ratingInfo },\n                this._requestMetaData(),\n            );\n        }).catch((error) => {\n            console.error(error);\n        });\n        return promise;\n    }\n\n    /**\n     * Generate application keys\n     * @param applicationId id of the application that needs to generate the keys\n     * @param request_content payload of generate key request\n     * @param callback {function} Function which needs to be called upon success\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     * @deprecated Use Application.generateKeys() instead\n     */\n    generateKeys(applicationId, requestContent, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            const payload = { applicationId, body: requestContent };\n            return client.apis.Applications.post_applications__applicationId__generate_keys(\n                payload,\n                this._requestMetaData(),\n            );\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Generate token\n     * @param applicationId id of the application that needs to generate the token\n     * @param request_content payload of generate token request\n     * @param callback {function} Function which needs to be called upon success\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     * @deprecated Use Application.generateToken() instead\n     */\n    generateToken(applicationId, requestContent, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            const payload = { applicationId, body: requestContent };\n            return client.apis.Applications.post_applications__applicationId__generate_token(\n                payload,\n                this._requestMetaData(),\n            );\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Get keys of an application\n     * @param applicationId id of the application that needs to get the keys\n     * @param callback {function} Function which needs to be called upon success\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     * @deprecated Use Application.getKeys() instead\n     */\n    getKeys(applicationId, callback = null) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.Applications.get_applications__applicationId__keys(\n                { applicationId },\n                this._requestMetaData(),\n            );\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    generateApiKey(applicationId, keyType, validityPeriod, restrictions) {\n        const promiseGet = this.client.then((client) => {\n            const payload = {\n                applicationId, keyType,\n                body: {\n                    validityPeriod: validityPeriod,\n                    additionalProperties: restrictions\n                }\n            };\n            return client.apis['API Keys'].post_applications__applicationId__api_keys__keyType__generate(\n                payload,\n                this._requestMetaData(),\n            );\n        });\n        return promiseGet;\n    }\n\n    /**\n     * Get keys of an application\n     * @param applicationId id of the application that needs to get the keys\n     * @param callback {function} Function which needs to be called upon success\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getSubscriptions(apiId, applicationId, callback = null) {\n        const payload = { apiId };\n        if (applicationId) {\n            payload[applicationId] = applicationId;\n        }\n        const promisedGet = this.client.then((client) => {\n            return client.apis.Subscriptions.get_subscriptions(payload, this._requestMetaData());\n        });\n        if (callback) {\n            return promisedGet.then(callback);\n        } else {\n            return promisedGet;\n        }\n    }\n\n    /**\n     * Create a subscription\n     * @param {string} apiId id of the API that needs to be subscribed\n     * @param {string} applicationId id of the application that needs to be subscribed\n     * @param {string} policy throttle policy applicable for the subscription\n     * @param {function} callback callback url\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    subscribe(apiId, applicationId, policy, callback = null) {\n        const promiseCreateSubscription = this.client.then((client) => {\n            let subscriptionData = null;\n\n            subscriptionData = {\n                apiId, applicationId, throttlingPolicy: policy,\n            };\n\n            const payload = { body: subscriptionData };\n            return client.apis.Subscriptions.post_subscriptions(payload, { 'Content-Type': 'application/json' });\n        });\n        if (callback) {\n            return promiseCreateSubscription.then(callback);\n        } else {\n            return promiseCreateSubscription;\n        }\n    }\n\n    /**\n     * Get the available labels.\n     * @returns {Promise.<TResult>}\n     */\n    labels() {\n        const promiseLabels = this.client.then((client) => {\n            return client.apis['Label (Collection)'].get_labels(\n                {},\n                this._requestMetaData(),\n            );\n        });\n        return promiseLabels;\n    }\n\n    /**\n     * Get the SDK generation supported languages.\n     * @returns {Promise} List of languages that supports SDK generation by swagger-codegen\n     */\n    getSdkLanguages() {\n        const promiseLanguages = this.client.then((client) => {\n            return client.apis.SDKs.get_sdk_gen_languages({}, this._requestMetaData());\n        });\n        return promiseLanguages;\n    }\n\n    /**\n     * Get the SDK for the API with the specified apiId and language.\n     * @returns {Promise} Zip file for the generated SDK.\n     */\n    getSdk(apiId, language) {\n        const payload = { apiId, language };\n\n        const promiseSdk = this.client.then((client) => {\n            return client.apis.SDKs.get_apis__apiId__sdks__language_(payload, this._requestMetaData());\n        });\n        return promiseSdk;\n    }\n\n    /**\n     * Get details of a given throttling policy\n     * @param id {string} name of the tier.\n     * @param callback {function} A callback function to invoke after receiving successful response.\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    getTierByName(name, level, callback = null) {\n        const payload = { policyId: name, policyLevel: level };\n        const promiseGet = this.client.then((client) => {\n            return client.apis['Throttling Policies'].get_throttling_policies__policyLevel___policyId_(\n                payload,\n                this._requestMetaData(),\n            );\n        });\n        if (callback) {\n            return promiseGet.then(callback);\n        } else {\n            return promiseGet;\n        }\n    }\n\n    /**\n     * Create new user\n     * @param body {JSON object} {username:\"\", password:\"\", firstName:\"\", lastName:\"\", email:\"\"}\n     * @returns {promise} With given callback attached to the success chain else API invoke promise.\n     */\n    createUser(body) {\n        const payload = { body };\n        const promise = this.client.then((client) => {\n            return client.apis['Sign Up'].post_self_signup(payload, { 'Content-Type': 'application/json' });\n        });\n        return promise;\n    }\n\n    /**\n     * Get all tags\n     * @returns {promise} promise all tags of APIs\n     */\n    getAllTags() {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.Tags.get_tags(this._requestMetaData());\n        }).catch((error) => {\n            console.error(error);\n        });\n        return promiseGet;\n    }\n\n    /**\n     * Get the thumnail of an API\n     *\n     * @param id {string} UUID of the api\n     */\n    getAPIThumbnail(id) {\n        const promised_getAPIThumbnail = this.client.then((client) => {\n            return client.apis.APIs.get_apis__apiId__thumbnail({\n                apiId: id,\n            },\n                this._requestMetaData());\n        });\n\n        return promised_getAPIThumbnail;\n    }\n\n    /**\n     * method to search apis and documents based on content\n     * @param {Object} params APIs, Documents filtering parameters i:e { \"name\": \"MyBank API\"}\n     * @returns {Promise} promise object return from SwaggerClient-js\n     * @memberof API\n     */\n    search(params) {\n        return this.client.then((client) => {\n            return client.apis['Unified Search'].get_search(params, Resource._requestMetaData());\n        });\n    }\n\n\n    /**\n     * Returns the WSDL API client\n     *\n     * @return {Wsdl} WSDL API client\n     */\n    getWsdlClient() {\n        return this.wsdlClient;\n    }\n\n    /**\n     * method to get store settings such as grant types, scopes, application sharing settings etc\n     * Settings API can be invoked with and without access token, When a token is not present it will return the public\n     * settings info, when a valid token is present it will return all the settings info.\n     * @returns {Promise} promise object return from SwaggerClient-js\n     * @memberof API\n     */\n    getSettings() {\n        return this.client.then((client) => {\n            return client.apis.Settings.get_settings(this._requestMetaData());\n        });\n    }\n\n    /**\n     * @static\n     * Get the registered key managers.\n     * @return {Promise}\n     * */\n    getKeyManagers() {\n        return this.client.then((client) => {\n            return client.apis['Key Managers (Collection)'].get_key_managers(this._requestMetaData());\n        });\n    }\n\n    /**\n     * @static\n     * Get the supported alert types by the publisher.\n     * @return {Promise}\n     * */\n    getSupportedAlertTypes() {\n        return this.client.then((client) => {\n            return client.apis.Alerts.getStoreAlertTypes(this._requestMetaData());\n        });\n    }\n\n    /**\n     * @static\n     * Get the subscribed alert types by the current user.\n     * @returns {Promise}\n     * */\n    getSubscribedAlertTypesByUser() {\n        return this.client.then((client) => {\n            return client.apis['Alert Subscriptions'].getSubscribedAlertTypes(this._requestMetaData());\n        });\n    }\n\n    /**\n     * @static\n     * Subscribe to the provided set of alerts.\n     * @return {Promise}\n     * */\n    subscribeAlerts(alerts) {\n        return this.client.then((client) => {\n            return client.apis['Alert Subscriptions'].subscribeToAlerts({ body: alerts }, this._requestMetaData());\n        });\n    }\n\n    /**\n     * @static\n     * Unsubscribe from all the alerts.\n     * @return {Promise}\n     * */\n    unsubscribeAlerts() {\n        return this.client.then((client) => {\n            return client.apis['Alert Subscriptions'].unsubscribeAllAlerts(this._requestMetaData());\n        });\n    }\n\n    /**\n     * @static\n     * Get the configuration for the given alert type.\n     * @param {string} alertType The alert type name.\n     * @return {Promise}\n     * */\n    getAlertConfigurations(alertType) {\n        return this.client.then((client) => {\n            return client.apis['Alert Configuration'].getAllAlertConfigs(\n                {\n                    alertType,\n                },\n                this._requestMetaData(),\n            );\n        });\n    }\n\n    /**\n     * @static\n     * Add configuration for the given alert type.\n     * @param {string} alertType The alert type name.\n     * @param {object} alertConfig Alert configurations.\n     * @param {string} configId The alert configuration id.\n     * @return {Promise}\n     * */\n    putAlertConfiguration(alertType, alertConfig, configId) {\n        return this.client.then((client) => {\n            return client.apis['Alert Configuration'].addAlertConfig(\n                {\n                    alertType,\n                    body: alertConfig,\n                    configurationId: configId,\n                },\n                this._requestMetaData(),\n            );\n        });\n    }\n\n    /**\n     * @static\n     * Delete configuration.\n     * @param {string} alertType The alert type name.\n     * @param {string} configId The alert configuration id.\n     * @return {Promise}\n     * */\n    deleteAlertConfiguration(alertType, configId) {\n        return this.client.then((client) => {\n            return client.apis['Alert Configuration'].deleteAlertConfig(\n                {\n                    alertType,\n                    configurationId: configId,\n                },\n                this._requestMetaData(),\n            );\n        });\n    }\n\n    /**\n     * @static\n     * Get all API Categories of the given tenant\n     * @return {Promise}\n     * */\n    apiCategories(params) {\n        return this.client.then((client) => {\n            return client.apis['API Category (Collection)'].get_api_categories(\n                params, this._requestMetaData());\n        });\n    }\n\n    /**\n     * Get API recommendations for a given user.\n     * @param {string} userId The username.\n     * @return {Promise}\n     * */\n    getApiRecommendations(params = {}) {\n        const promiseGet = this.client.then((client) => {\n            return client.apis.Recommendations.get_recommendations(params, this._requestMetaData());\n        });\n        return promiseGet;\n    }\n    /**\n     * Get the complexity related details of an API\n     */\n\n    getGraphqlPoliciesComplexity(id) {\n        const promisePolicies = this.client.then(client => {\n            return client.apis['GraphQL Policies'].get_apis__apiId__graphql_policies_complexity(\n                {\n                    apiId: id,\n                },\n                this._requestMetaData(),\n            );\n        });\n        return promisePolicies.then(response => response.body);\n    }\n\n    /**\n     * Retrieve all types and fields of a GraphQL Schema\n     */\n    getGraphqlPoliciesComplexityTypes(id) {\n        const promisePolicies = this.client.then(client => {\n            return client.apis['GraphQL Policies'].get_apis__apiId__graphql_policies_complexity_types(\n                {\n                    apiId: id,\n                },\n                this._requestMetaData(),\n            );\n        });\n        return promisePolicies.then(response => response.body);\n    }\n\n    /**\n     * Change password\n     */\n    changePassword(currentPwd, newPwd, callback = null) {\n        const promiseChangePassword = this.client.then((client) => {\n            const payload = { currentPassword: currentPwd, newPassword: newPwd };\n            return client.apis.Users.changeUserPassword({ body: payload }, this._requestMetaData());\n        });\n        if (callback) {\n            return promiseChangePassword.then(callback);\n        } else {\n            return promiseChangePassword;\n        }\n    }\n}\n","/**\n * Copyright (c) 2017, WSO2 Inc. (http://wso2.com) All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nimport APIClientFactory from './APIClientFactory';\nimport Resource from './Resource';\nimport Utils from './Utils';\n\n/**\n * Class to expose Application {Resource} related operations i:e: Get all Application , Delete, Generate Keys ect..\n * @param {string} name Application name\n * @param {string} description Application description\n * @param {string} throttlingTier Application throttling tier\n * @param {string} kwargs Arguments\n */\nexport default class Application extends Resource {\n    constructor(name, description, throttlingTier, kwargs) {\n        super();\n        this.id = kwargs ? kwargs.applicationId : null;\n        this.client = new APIClientFactory().getAPIClient(Utils.getEnvironment().label).client;\n        this.productionKeys = new Map();\n        this.sandboxKeys = new Map();\n        this.productionTokens = new Map();\n        this.sandboxTokens = new Map();\n        for (const key in kwargs) {\n            if (kwargs.hasOwnProperty(key)) {\n                if (key === 'keys') {\n                    this._setKeys(kwargs[key]);\n                    continue;\n                }\n                this[key] = kwargs[key];\n            }\n        }\n    }\n\n    /** *\n     * Set this.keys object by iterating the keys array received from REST API\n     * @param {Array} keys  An array of keys object containing either PRODUCTION or/and SANDBOX key information\n     * @private\n     */\n    _setKeys(keys) {\n        for (const keyObj of keys) {\n            if (keyObj.keyType === 'PRODUCTION') {\n                this.productionKeys.set(keyObj.keyManager, keyObj);\n            } else {\n                this.sandboxKeys.set(keyObj.keyManager, keyObj);\n            }\n        }\n    }\n\n    /** *\n     * Set this.tokens object by iterating the keys array received from REST API\n     * @param {Array} keys  An array of keys object containing either PRODUCTION or/and SANDBOX key information\n     * @private\n     */\n    _setTokens(keys) {\n        for (const keyObj of keys) {\n            if (keyObj.keyType === 'PRODUCTION') {\n                this.productionTokens.set(keyObj.keyManager, keyObj.token);\n            } else {\n                this.sandboxTokens.set(keyObj.keyManager, keyObj.token);\n            }\n        }\n    }\n\n    /** *\n     * Get keys of the current instance of an application\n     * @param  {string} keyType Key type either `Production` or `SandBox`\n     * @returns {promise} Set the fetched CS/CK into current instance and return keys array as Promise object\n     */\n    getKeys(keyType) {\n        return this.client.then((client) => client.apis['Application Keys']\n            .get_applications__applicationId__oauth_keys({ applicationId: this.applicationId }))\n            .then((keysResponse) => {\n                const keys = keysResponse.obj.list;\n                this._setKeys(keys);\n                this._setTokens(keys);\n                if (keyType === 'PRODUCTION'){\n                    return this.productionKeys;\n                } else {\n                    return this.sandboxKeys;\n                }         \n            });\n    }\n\n    /** *\n     * Generate token for this application instance\n     * @param {string} type token type\n     * @param {string} validityPeriod token validityPeriod\n     * @param {string} selectedScopes token scopes\n     * @returns {promise} Set the generated token into current\n     * instance and return tokenObject received as Promise object\n     */\n    generateToken(selectedTab, type, validityPeriod, selectedScopes) {\n        const promiseToken = this.getKeys()\n            .then(() => this.client)\n            .then((client) => {\n                let keys;\n                if (type === 'PRODUCTION') {\n                    keys = this.productionKeys.get(selectedTab); \n                } else {\n                    keys = this.sandboxKeys.get(selectedTab); \n                }\n                const keyMappingId = keys.keyMappingId;\n                let accessToken;\n                if (type === 'PRODUCTION') {\n                    accessToken = this.productionTokens.get(selectedTab); \n                } else {\n                    accessToken = this.sandboxTokens.get(selectedTab); \n                }\n                const requestContent = {\n                    consumerSecret: keys.consumerSecret,\n                    validityPeriod,\n                    revokeToken: accessToken.accessToken,\n                    scopes: selectedScopes,\n                    additionalProperties: keys.additionalProperties,\n                };\n                const payload = { applicationId: this.id, keyMappingId: keyMappingId, body: requestContent };\n                return client.apis['Application Tokens']\n                    .post_applications__applicationId__oauth_keys__keyMappingId__generate_token(payload);\n            });\n        return promiseToken.then((tokenResponse) => {\n            const token = tokenResponse.obj;\n            if (type === 'PRODUCTION') {\n                this.productionTokens.set(selectedTab, token);\n            } else {\n                this.sandboxTokens.set(selectedTab, token);\n            }\n            return token;\n        });\n    }\n\n    /** *\n     * Generate Consumer Secret and Consumer Key for this application instance\n     * @param {string} keyType Key type either `Production` or `SandBox`\n     * @param {string[]} supportedGrantTypes Grant types supported\n     * @param  {string} callbackUrl callback url\n     * @param  {string} tokenType Token type either `OAUTH` or `JWT`\n     * @param {string} additionalProperties additional properties that needed for application.\n     * @returns {promise} Set the generated token into current instance and return tokenObject\n     * received as Promise object\n     */\n    generateKeys(keyType, supportedGrantTypes, callbackUrl, additionalProperties, keyManager) {\n        const promisedKeys = this.client.then((client) => {\n            const requestContent = {\n                keyType, /* TODO: need to support dynamic key types ~tmkb */\n                grantTypesToBeSupported: supportedGrantTypes,\n                callbackUrl,\n                additionalProperties,\n                keyManager,\n                validityTime: 3600,\n                scopes: ['default'],\n            };\n            const payload = { applicationId: this.id, body: requestContent };\n            return client.apis['Application Keys'].post_applications__applicationId__generate_keys(payload);\n        });\n        return promisedKeys.then((keysResponse) => {\n            if (keyType === 'PRODUCTION') {\n                this.productionKeys.set(keyManager, keysResponse.obj);\n                return this.productionKeys.get(keyManager);\n            } else {\n                this.sandboxKeys.set(keyManager, keysResponse.obj);\n                return this.sandboxKeys.get(keyManager);\n            }\n        });\n    }\n\n    /** *\n     * Cleanup Consumer Secret and Consumer Key for this application instance\n     * @param {string} keyType Key type either `Production` or `SandBox`\n     * @returns {promise} Set the generated token into current instance and return tokenObject\n     * received as Promise object\n     */\n    cleanUpKeys(keyType, keyManager, keyMappingId) {\n        const requestContent = {\n            keyType, \n            keyMappingId,\n            keyManager,\n        };\n        const payload = { applicationId: this.id, keyMappingId, body: requestContent };\n        return this.client.then((client) => client.apis['Application Keys']\n            .post_applications__applicationId__oauth_keys__keyMappingId__clean_up(payload))\n            .then((response) => {\n                if (keyType === 'PRODUCTION') {\n                    this.productionKeys = new Map();\n                } else {\n                    this.sandboxKeys = new Map();\n                }\n                return response.ok;\n            });\n    }\n\n    /** *\n     * Generate Consumer Secret and Consumer Key for this application instance\n     * @param  {string} tokenType Token Type either `OAUTH` or `JWT`\n     * @param  {string} keyType Key type either `Production` or `SandBox`\n     * @param {string[]} supportedGrantTypes Grant types supported\n     * @param  {string} callbackUrl callback url\n     * @param  {String} consumerKey Consumer key of application\n     * @param  {String} consumerSecret Consumer secret of application\n     * @param  {String} additionalProperties Additional properties for the oauth application\n     * @returns {promise} Update the callbackURL and/or supportedGrantTypes\n     */\n    updateKeys(tokenType, keyType, supportedGrantTypes, callbackUrl, consumerKey, consumerSecret, additionalProperties, keyManager, keyMappingId) {\n        const promisedPut = this.client.then((client) => {\n            const requestContent = {\n                keyManager,\n                keyMappingId,\n                consumerKey,\n                consumerSecret,\n                supportedGrantTypes,\n                callbackUrl,\n                keyType,\n                tokenType,\n                additionalProperties\n            };\n            const payload = { applicationId: this.id, keyMappingId, body: requestContent };\n            return client.apis['Application Keys'].put_applications__applicationId__oauth_keys__keyMappingId_(payload);\n        });\n        return promisedPut.then((keysResponse) => {\n            if (keyType === 'PRODUCTION') {\n                this.productionKeys.set(keyManager, keysResponse.obj);\n                return this.productionKeys.get(keyManager);\n            } else {\n                this.sandboxKeys.set(keyManager, keysResponse.obj);\n                return this.sandboxKeys.get(keyManager);\n            }\n        });\n    }\n\n    /**\n     * Regenerate Consumer Secret for this application instance\n     * @param {String} consumerKey Consumer key of application\n     * @param {string} keyType Key type either `Production` or `SandBox`\n     * @returns {promise} Update the consumerSecret\n     */\n    regenerateSecret(consumerKey, keyType, keyMappingId, keyManager) {\n        const requestContent = {\n            keyManager,\n            keyMappingId,\n            consumerKey,\n            keyType,\n        };\n        const promisedPost = this.client.then((client) => {\n            const payload = { applicationId: this.id, keyMappingId, body: requestContent };\n            return client.apis['Application Keys']\n                .post_applications__applicationId__oauth_keys__keyMappingId__regenerate_secret(payload);\n        });\n        return promisedPost.then((secretResponse) => {\n            const secret = secretResponse.obj;\n            if (keyType === 'PRODUCTION') {\n                this.productionKeys.set(keyManager, secretResponse.obj);\n            } else {\n                this.sandboxKeys.set(keyManager, secretResponse.obj);\n            }\n            return secret;\n        });\n    }\n\n    /**\n     * Provide Consumer Key and Secret of Existing OAuth Apps\n     *\n     * @param keyType           key type, either PRODUCTION or SANDBOX\n     * @param consumerKey       consumer key of the OAuth app\n     * @param consumerSecret    consumer secret of the OAuth app\n     * @returns {*}\n     */\n    provideKeys(keyType, consumerKey, consumerSecret, keyManager) {\n        const promisedKeys = this.client.then((client) => {\n            const requestContent = { consumerKey, consumerSecret, keyType, keyManager};\n            const payload = { applicationId: this.id, body: requestContent };\n            return client.apis['Application Keys'].post_applications__applicationId__map_keys(payload);\n        });\n        return promisedKeys.then((keysResponse) => {\n            if (keyType === 'PRODUCTION') {\n                this.productionKeys.set(keyManager, keysResponse.obj);\n                return this.productionKeys.get(keyManager);\n            } else {\n                this.sandboxKeys.set(keyManager, keysResponse.obj);\n                return this.sandboxKeys.get(keyManager);\n            }\n        });\n    }\n\n    static get(id) {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getEnvironment());\n        const promisedGet = apiClient.client.then((client) => {\n            return client.apis.Applications.get_applications__applicationId_(\n                { applicationId: id },\n                this._requestMetaData(),\n            );\n        });\n        return promisedGet.then((response) => {\n            const appJson = response.obj;\n            return new Application(appJson.name, appJson.description, appJson.throttlingTier, appJson);\n        });\n    }\n\n    static all(limit = 3, offset = null, sortOrder = 'asc', sortBy = 'name', query = '') {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getEnvironment());\n        const promisedAll = apiClient.client.then((client) => {\n            return client.apis.Applications.get_applications({\n                limit, offset, sortOrder, sortBy, query,\n            }, this._requestMetaData());\n        });\n        return promisedAll.then((response) => response.obj);\n    }\n\n    static deleteApp(id) {\n        const apiClient = new APIClientFactory().getAPIClient(Utils.getEnvironment());\n        const promisedDelete = apiClient.client.then((client) => {\n            return client.apis.Applications.delete_applications__applicationId_(\n                { applicationId: id },\n                this._requestMetaData(),\n            );\n        });\n        return promisedDelete.then((response) => response.ok);\n    }\n}\n\nApplication.KEY_TYPES = {\n    PRODUCTION: 'PRODUCTION',\n    SANDBOX: 'SANDBOX',\n};\n\nApplication.TOKEN_TYPES = {\n    JWT: { key: 'JWT', displayName: 'Self-contained (JWT)' },\n    OAUTH: { key: 'OAUTH', displayName: 'Reference (Opaque)' },\n};\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport {\n    Grid, FormControl, FormControlLabel, RadioGroup, Radio, Typography,\n} from '@material-ui/core';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\n\nconst styles = (theme) => ({\n    centerItems: {\n        margin: 'auto',\n    },\n    tryoutHeading: {\n        marginTop: theme.spacing(1),\n        fontWeight: 400,\n    },\n    menuItem: {\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n    },\n});\n\nconst SelectAppPanel = (props) => {\n    let {\n        selectedApplication, selectedKeyType,\n    } = props;\n\n    const {\n        subscriptions, handleChanges, classes,\n    } = props;\n\n    /**\n     * This method is used to handle the updating of key generation\n     * request object.\n     * @param {*} event event fired\n     */\n    const handleSelectPanelChange = (event) => {\n        const { target } = event;\n        const { name, value } = target;\n        switch (name) {\n            case 'selectedApplication':\n                selectedApplication = value;\n                break;\n            case 'selectedKeyType':\n                selectedKeyType = value;\n                break;\n            default:\n                break;\n        }\n        handleChanges(event);\n    };\n    return (\n        <>\n            <Grid x={12} md={6} className={classes.centerItems}>\n                <TextField\n                    fullWidth\n                    id='selected-application'\n                    select\n                    label={(\n                        <FormattedMessage\n                            defaultMessage='Applications'\n                            id='Apis.Details.ApiConsole.SelectAppPanel.applications'\n                        />\n                    )}\n                    value={selectedApplication}\n                    name='selectedApplication'\n                    onChange={handleSelectPanelChange}\n                    SelectProps={subscriptions}\n                    helperText={(\n                        <FormattedMessage\n                            defaultMessage='Subscribed applications'\n                            id='Apis.Details.ApiConsole.SelectAppPanel.select.subscribed.application'\n                        />\n                    )}\n                    margin='normal'\n                    variant='outlined'\n                >\n                    {subscriptions.map((sub) => (\n                        <MenuItem\n                            value={sub.applicationInfo.applicationId}\n                            key={sub.applicationInfo.applicationId}\n                            className={classes.menuItem}\n                        >\n                            {sub.applicationInfo.name}\n                        </MenuItem>\n                    ))}\n                </TextField>\n            </Grid>\n            <Grid x={12} md={6} className={classes.centerItems}>\n                <Typography variant='h6' color='textSecondary' className={classes.tryoutHeading}>\n                    <FormattedMessage\n                        id='Apis.Details.ApiConsole.SelectAppPanel.select.key.type.heading'\n                        defaultMessage='Key Type'\n                    />\n                </Typography>\n                <FormControl component='fieldKeyType'>\n                    <RadioGroup\n                        name='selectedKeyType'\n                        value={selectedKeyType}\n                        onChange={handleSelectPanelChange}\n                        row\n                    >\n                        {(subscriptions != null && subscriptions.find((sub) => sub.applicationId\n                                === selectedApplication).status === 'UNBLOCKED')\n                                && (\n                                    <FormControlLabel\n                                        value='PRODUCTION'\n                                        control={<Radio />}\n                                        label={(\n                                            <FormattedMessage\n                                                id='Apis.Details.ApiConsole.SelectAppPanel.production.radio'\n                                                defaultMessage='Production'\n                                            />\n                                        )}\n                                    />\n                                )}\n                        <FormControlLabel\n                            value='SANDBOX'\n                            control={<Radio />}\n                            label={(\n                                <FormattedMessage\n                                    id='Apis.Details.ApiConsole.SelectAppPanel.sandbox.radio'\n                                    defaultMessage='Sandbox'\n                                />\n                            )}\n                        />\n                    </RadioGroup>\n                </FormControl>\n            </Grid>\n        </>\n    );\n};\n\nexport default withStyles(styles)(SelectAppPanel);\n","/*\n * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, {\n    useEffect, useState,\n} from 'react';\nimport { FormattedMessage, IntlProvider } from 'react-intl';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport {\n    Radio, RadioGroup, FormControlLabel, FormControl, CircularProgress, Tooltip,\n} from '@material-ui/core';\nimport HelpOutline from '@material-ui/icons/HelpOutline';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Icon from '@material-ui/core/Icon';\nimport AuthManager from 'AppData/AuthManager';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport Progress from '../../../Shared/Progress';\nimport Api from '../../../../data/api';\nimport Application from '../../../../data/Application';\nimport SelectAppPanel from './SelectAppPanel';\n\n/**\n * @inheritdoc\n * @param {*} theme theme\n */\nconst styles = makeStyles((theme) => ({\n    centerItems: {\n        margin: 'auto',\n    },\n    tokenType: {\n        margin: 'auto',\n        display: 'flex',\n        '& .MuiButton-contained.Mui-disabled span.MuiButton-label': {\n            color: '#999999',\n        },\n    },\n    paper: {\n        margin: theme.spacing(1),\n        padding: theme.spacing(1),\n    },\n    grid: {\n        marginTop: theme.spacing(4),\n        marginBottom: theme.spacing(4),\n        paddingRight: theme.spacing(2),\n        justifyContent: 'center',\n    },\n    tryoutHeading: {\n        fontWeight: 400,\n    },\n    genKeyButton: {\n        width: theme.spacing(20),\n        height: theme.spacing(5),\n        marginTop: theme.spacing(2.5),\n        marginLeft: theme.spacing(2),\n    },\n    gatewayEnvironment: {\n        marginTop: theme.spacing(4),\n    },\n    categoryHeading: {\n        marginBottom: theme.spacing(2),\n        marginLeft: theme.spacing(-5),\n    },\n    tooltip: {\n        marginLeft: theme.spacing(1),\n    },\n    menuItem: {\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n    },\n    warningIcon: {\n        color: '#ff9a00',\n        fontSize: 25,\n        marginRight: 10,\n    },\n}));\n\n/**\n * TryOut component\n *\n * @class TryOutController\n * @extends {Component}\n */\nfunction TryOutController(props) {\n    const {\n        securitySchemeType, selectedEnvironment, environments, containerMngEnvironments, labels,\n        productionAccessToken, sandboxAccessToken, selectedKeyType, setKeys, setSelectedKeyType,\n        setSelectedKeyManager,\n        setSelectedEnvironment, setProductionAccessToken, setSandboxAccessToken, scopes,\n        setSecurityScheme, setUsername, setPassword, username, password, updateSwagger,\n        setProductionApiKey, setSandboxApiKey, productionApiKey, sandboxApiKey, environmentObject, setURLs, api,\n    } = props;\n    let { selectedKeyManager } = props;\n    selectedKeyManager = selectedKeyManager || 'Resident Key Manager';\n\n    const classes = styles();\n    const [showToken, setShowToken] = useState(false);\n    const [isUpdating, setIsUpdating] = useState(false);\n    const [notFound, setNotFound] = useState(false);\n    const [subscriptions, setSubscriptions] = useState([]);\n    const [selectedApplication, setSelectedApplication] = useState([]);\n    const [keyManagers, setKeyManagers] = useState([]);\n    const [selectedKMObject, setSelectedKMObject] = useState(null);\n    const [ksGenerated, setKSGenerated] = useState(false);\n    const apiID = api.id;\n    const restApi = new Api();\n\n    useEffect(() => {\n        let subscriptionsList;\n        let newSelectedApplication;\n        let keys;\n        let selectedKeyTypes = 'PRODUCTION';\n        let accessToken;\n        if (api.lifeCycleStatus && api.lifeCycleStatus.toLowerCase() !== 'prototyped') {\n            const promiseSubscriptions = restApi.getSubscriptions(apiID);\n            promiseSubscriptions.then((subscriptionsResponse) => {\n                if (subscriptionsResponse !== null) {\n                    subscriptionsList = subscriptionsResponse.obj.list.filter((item) => item.status === 'UNBLOCKED'\n                        || item.status === 'PROD_ONLY_BLOCKED');\n\n                    if (subscriptionsList && subscriptionsList.length > 0) {\n                        newSelectedApplication = subscriptionsList[0].applicationId;\n                        Application.get(newSelectedApplication)\n                            .then((application) => {\n                                return application.getKeys();\n                            })\n                            .then((appKeys) => {\n                                if (appKeys.get(selectedKeyManager)\n                                    && appKeys.get(selectedKeyManager).keyType === 'SANDBOX') {\n                                    selectedKeyTypes = 'SANDBOX';\n                                    ({ accessToken } = appKeys.get(selectedKeyManager).token);\n                                } else if (appKeys.get(selectedKeyManager)\n                                    && appKeys.get(selectedKeyManager).keyType === 'PRODUCTION') {\n                                    selectedKeyTypes = 'PRODUCTION';\n                                    ({ accessToken } = appKeys.get(selectedKeyManager).token);\n                                }\n                                setSelectedApplication(newSelectedApplication);\n                                setSubscriptions(subscriptionsList);\n                                setKeys(appKeys);\n                                setSelectedEnvironment(selectedEnvironment, false);\n                                setSelectedKeyType(selectedKeyTypes, false);\n                                if (selectedKeyType === 'PRODUCTION') {\n                                    setProductionAccessToken(accessToken);\n                                } else {\n                                    setSandboxAccessToken(accessToken);\n                                }\n                            });\n                    } else {\n                        setSelectedApplication(newSelectedApplication);\n                        setSubscriptions(subscriptionsList);\n                        setKeys(keys);\n                        setSelectedEnvironment(selectedEnvironment, false);\n                        if (selectedKeyType === 'PRODUCTION') {\n                            setProductionAccessToken(accessToken);\n                        } else {\n                            setSandboxAccessToken(accessToken);\n                        }\n                        setSelectedKeyType(selectedKeyType, false);\n                    }\n                } else {\n                    setSelectedApplication(newSelectedApplication);\n                    setSubscriptions(subscriptionsList);\n                    setKeys(keys);\n                    setSelectedEnvironment(selectedEnvironment, false);\n                    if (selectedKeyType === 'PRODUCTION') {\n                        setProductionAccessToken(accessToken);\n                    } else {\n                        setSandboxAccessToken(accessToken);\n                    }\n                    setSelectedKeyType(selectedKeyType, false);\n                }\n            }).catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    setNotFound(true);\n                }\n            });\n            const promisedKeyManagers = restApi.getKeyManagers();\n            promisedKeyManagers\n                .then((response) => {\n                    const responseKeyManagerList = [];\n                    response.body.list.map((item) => responseKeyManagerList.push(item));\n                    setKeyManagers(responseKeyManagerList);\n                    const filteredKMs = (responseKeyManagerList.filter((km) => km.name === selectedKeyManager));\n                    if (filteredKMs && filteredKMs.length > 0) {\n                        setSelectedKMObject(filteredKMs[0]);\n                    }\n                })\n                .catch((error) => {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.log(error);\n                    }\n                    const { status } = error;\n                    if (status === 404) {\n                        setNotFound(true);\n                    }\n                });\n        }\n    }, []);\n\n\n    /**\n     * Generate access token\n     * */\n    function generateAccessToken() {\n        if (api.lifeCycleStatus && api.lifeCycleStatus.toLowerCase() !== 'prototyped') {\n            setIsUpdating(true);\n            const applicationPromise = Application.get(selectedApplication);\n            applicationPromise\n                .then((application) => application.generateToken(\n                    selectedKeyManager,\n                    selectedKeyType,\n                    3600,\n                    scopes,\n                ))\n                .then((response) => {\n                    console.log('token generated successfully ' + response);\n                    setShowToken(false);\n                    if (selectedKeyType === 'PRODUCTION') {\n                        setProductionAccessToken(response.accessToken);\n                    } else {\n                        setSandboxAccessToken(response.accessToken);\n                    }\n                    setIsUpdating(false);\n                })\n                .catch((error) => {\n                    console.error(error);\n                    const { status } = error;\n                    if (status === 404) {\n                        setNotFound(true);\n                    }\n                    setIsUpdating(false);\n                });\n        }\n    }\n\n    /**\n     * Generate api key\n     * */\n    function generateApiKey() {\n        if (api.lifeCycleStatus && api.lifeCycleStatus.toLowerCase() !== 'prototyped') {\n            setIsUpdating(true);\n            const promisedKey = restApi.generateApiKey(selectedApplication, selectedKeyType, -1);\n            promisedKey\n                .then((response) => {\n                    console.log('Non empty response received', response);\n                    setShowToken(false);\n                    if (selectedKeyType === 'PRODUCTION') {\n                        setProductionApiKey(response.body.apikey);\n                    } else {\n                        setSandboxApiKey(response.body.apikey);\n                    }\n                    setIsUpdating(false);\n                })\n                .catch((error) => {\n                    console.log(error);\n                    const { status } = error;\n                    if (status === 404) {\n                        setNotFound(true);\n                    }\n                    setIsUpdating(false);\n                });\n        }\n    }\n\n    /**\n     *\n     * Handle onClick of shown access token\n     * @memberof TryOutController\n     */\n    function handleClickShowToken() {\n        setShowToken(!showToken);\n    }\n\n    /**\n     * Load the selected application information\n     * @memberof TryOutController\n     */\n    function updateApplication() {\n        if (api.lifeCycleStatus && api.lifeCycleStatus.toLowerCase() !== 'prototyped') {\n            let accessToken;\n            let keyType;\n            if (subscriptions !== null && subscriptions.length !== 0 && selectedApplication.length !== 0) {\n                if (subscriptions.find((sub) => sub.applicationId\n                    === selectedApplication).status === 'PROD_ONLY_BLOCKED') {\n                    setSelectedKeyType(selectedKeyType, false);\n                    keyType = 'SANDBOX';\n                } else {\n                    keyType = selectedKeyType;\n                }\n            }\n            Application.get(selectedApplication)\n                .then((application) => {\n                    return application.getKeys(keyType || 'PRODUCTION');\n                })\n                .then((appKeys) => {\n                    const selectedKeys = appKeys.get(selectedKeyManager);\n                    if (selectedKeys && selectedKeys.keyType === selectedKeyType) {\n                        ({ accessToken } = selectedKeys.token);\n                    }\n                    if (selectedKeys && selectedKeys.keyType === 'PRODUCTION') {\n                        setProductionAccessToken(accessToken);\n                    } else if (selectedKeys && selectedKeys.keyType === 'SANDBOX') {\n                        setSandboxAccessToken(accessToken);\n                    }\n                    if (selectedKeys && selectedKeys.consumerKey && selectedKeys.consumerKey !== '') {\n                        setKSGenerated(true);\n                    } else {\n                        setKSGenerated(false);\n                    }\n                    setKeys(appKeys);\n                });\n        }\n    }\n\n    useEffect(() => {\n        updateApplication();\n    }, [selectedApplication, selectedKeyType, selectedEnvironment, securitySchemeType]);\n\n    /**\n     * Handle onChange of inputs\n     * @param {*} event event\n     * @memberof TryOutController\n     */\n    function handleChanges(event) {\n        const { target } = event;\n        const { name, value } = target;\n        switch (name) {\n            case 'selectedEnvironment':\n                setSelectedEnvironment(value, true);\n                updateSwagger(value);\n                if (environmentObject) {\n                    const urls = environmentObject.find((elm) => value === elm.environmentName).URLs;\n                    setURLs(urls);\n                }\n                break;\n            case 'selectedApplication':\n                setProductionAccessToken('');\n                setSandboxAccessToken('');\n                setProductionApiKey('');\n                setSandboxApiKey('');\n                setSelectedApplication(value);\n                break;\n            case 'selectedKeyManager':\n                setSelectedKeyManager(value, true, selectedApplication);\n                break;\n            case 'selectedKeyType':\n                if (!productionAccessToken || !sandboxAccessToken) {\n                    setSelectedKeyType(value, true, selectedApplication);\n                } else {\n                    setSelectedKeyType(value, false, selectedApplication);\n                }\n                break;\n            case 'securityScheme':\n                setSecurityScheme(value);\n                break;\n            case 'username':\n                setUsername(value);\n                break;\n            case 'password':\n                setPassword(value);\n                break;\n            case 'accessToken':\n                if (securitySchemeType === 'API-KEY' && selectedKeyType === 'PRODUCTION') {\n                    setProductionApiKey(value);\n                } else if (securitySchemeType === 'API-KEY' && selectedKeyType === 'SANDBOX') {\n                    setSandboxApiKey(value);\n                } else if (selectedKeyType === 'PRODUCTION') {\n                    setProductionAccessToken(value);\n                } else {\n                    setSandboxAccessToken(value);\n                }\n                break;\n            default:\n        }\n    }\n\n    const user = AuthManager.getUser();\n    if (api == null) {\n        return <Progress />;\n    }\n    if (notFound) {\n        return 'API Not found !';\n    }\n    let isApiKeyEnabled = false;\n    let isBasicAuthEnabled = false;\n    let isOAuthEnabled = false;\n    let isTestKeyEnabled = false;\n    let authorizationHeader = api.authorizationHeader ? api.authorizationHeader : 'Authorization';\n    let prefix = 'Bearer';\n    if (api && api.securityScheme) {\n        isApiKeyEnabled = api.securityScheme.includes('api_key');\n        isBasicAuthEnabled = api.securityScheme.includes('basic_auth');\n        isOAuthEnabled = api.securityScheme.includes('oauth2');\n        isTestKeyEnabled = api.securityScheme.includes('test_auth');\n        if (isApiKeyEnabled && securitySchemeType === 'API-KEY') {\n            authorizationHeader = 'apikey';\n            prefix = '';\n        }\n        if (isTestKeyEnabled && securitySchemeType === 'TEST') {\n            authorizationHeader = 'testKey';\n            prefix = '';\n        }\n    }\n    const isPrototypedAPI = api.lifeCycleStatus && api.lifeCycleStatus.toLowerCase() === 'prototyped';\n    const isPublished = api.lifeCycleStatus.toLowerCase() === 'published';\n    const showSecurityType = isPublished || (isPrototypedAPI && api.enableStore === true);\n\n    let tokenValue = '';\n    if (securitySchemeType === 'API-KEY') {\n        tokenValue = selectedKeyType === 'PRODUCTION' ? productionApiKey : sandboxApiKey;\n    } else {\n        tokenValue = selectedKeyType === 'PRODUCTION' ? productionAccessToken : sandboxAccessToken;\n    }\n\n    // The rendering logic of container management menus items are done here\n    // because when grouping container management type and clusters with <> and </>\n    // the handleChange event is not triggered. Hence handle rendering logic here.\n    const containerMngEnvMenuItems = [];\n    if (containerMngEnvironments) {\n        containerMngEnvironments.filter((envType) => envType.clusterDetails.length > 0).forEach((envType) => {\n            // container management system type\n            containerMngEnvMenuItems.push(\n                <MenuItem value='' disabled className={classes.menuItem}>\n                    <em>\n                        {envType.deploymentEnvironmentName}\n                    </em>\n                </MenuItem>,\n            );\n            // clusters of the container management system type\n            envType.clusterDetails.forEach((cluster) => {\n                containerMngEnvMenuItems.push(\n                    <MenuItem\n                        value={cluster.clusterName}\n                        key={cluster.clusterName}\n                        className={classes.menuItem}\n                    >\n                        {cluster.clusterDisplayName}\n                    </MenuItem>,\n                );\n            });\n        });\n    }\n\n    const authHeader = `${authorizationHeader}: ${prefix}`;\n\n    return (\n        <IntlProvider locale='en'>\n            <Grid x={12} md={6} className={classes.centerItems}>\n                <Box>\n                    {securitySchemeType !== 'TEST' && (\n                        <>\n                            <Typography variant='h5' color='textPrimary' className={classes.categoryHeading}>\n                                <FormattedMessage\n                                    id='api.console.security.heading'\n                                    defaultMessage='Security'\n                                />\n                            </Typography>\n                            <Box mb={1}>\n                                <Typography variant='body1'>\n                                    <Box display='flex' alignItems='center'>\n                                        {(selectedKMObject && selectedKMObject.enabled) && (\n                                            <FormattedMessage\n                                                id='Apis.Details.ApiConsole.TryOutController.default.km.msg.one'\n                                                defaultMessage='The Resident Key Manager is selected for try out console.'\n                                            />\n                                        )}\n                                        {(selectedKMObject && !selectedKMObject.enabled) && (\n                                            <>\n                                                <WarningIcon className={classes.warningIcon} />\n                                                <div>\n                                                    <FormattedMessage\n                                                        id='Apis.Details.ApiConsole.TryOutController.default.km.msg.two'\n                                                        defaultMessage={'Try it console is only accessible via the default key manager.'\n                                        + 'But the default key manager is disabled at the moment.'}\n                                                    />\n                                                </div>\n                                            </>\n                                        )}\n                                        {(selectedKMObject && selectedKMObject.length === 0) && (\n                                            <FormattedMessage\n                                                id='Apis.Details.ApiConsole.TryOutController.default.km.msg.three'\n                                                defaultMessage={'Try it console is only accessible via the default key manager.'\n                                        + 'Something went wrong while selecting the default Key manager.'}\n                                            />\n                                        )}\n                                    </Box>\n                                </Typography>\n                            </Box>\n                            <Typography variant='h6' color='textSecondary' className={classes.tryoutHeading}>\n                                <FormattedMessage\n                                    id='api.console.security.type.heading'\n                                    defaultMessage='Security Type'\n                                />\n                            </Typography>\n                        </>\n                    )}\n                    {((isApiKeyEnabled || isBasicAuthEnabled || isOAuthEnabled) && showSecurityType) && (\n                        <FormControl component='fieldset'>\n                            <RadioGroup\n                                name='securityScheme'\n                                value={securitySchemeType}\n                                onChange={handleChanges}\n                                row\n                            >\n                                <FormControlLabel\n                                    value='OAUTH'\n                                    disabled={!isOAuthEnabled}\n                                    control={<Radio />}\n                                    label={(\n                                        <FormattedMessage\n                                            id='Apis.Details.ApiConsole.security.scheme.oauth'\n                                            defaultMessage='OAuth'\n                                        />\n                                    )}\n                                />\n                                <FormControlLabel\n                                    value='API-KEY'\n                                    disabled={!isApiKeyEnabled}\n                                    control={<Radio />}\n                                    label={(\n                                        <FormattedMessage\n                                            id='Apis.Details.ApiConsole.security.scheme.apikey'\n                                            defaultMessage='API Key'\n                                        />\n                                    )}\n                                />\n                                <FormControlLabel\n                                    value='BASIC'\n                                    disabled={!isBasicAuthEnabled}\n                                    control={<Radio />}\n                                    label={(\n                                        <FormattedMessage\n                                            id='Apis.Details.ApiConsole.security.scheme.basic'\n                                            defaultMessage='Basic'\n                                        />\n                                    )}\n                                />\n                            </RadioGroup>\n                        </FormControl>\n                    )}\n                </Box>\n            </Grid>\n            {!isPrototypedAPI\n                && (\n                    <Grid xs={12} md={12} item>\n                        <Box display='block'>\n                            {user && subscriptions\n                                && subscriptions.length > 0 && securitySchemeType !== 'BASIC' && securitySchemeType !== 'TEST'\n                                && (\n                                    <SelectAppPanel\n                                        subscriptions={subscriptions}\n                                        handleChanges={handleChanges}\n                                        selectedApplication={selectedApplication}\n                                        selectedKeyManager={selectedKeyManager}\n                                        selectedKeyType={selectedKeyType}\n                                        keyManagers={keyManagers}\n                                    />\n                                )}\n                            {subscriptions && subscriptions.length === 0 && securitySchemeType !== 'TEST' ? (\n                                <Grid x={8} md={6} className={classes.tokenType} item>\n                                    <Box mb={1} alignItems='center'>\n                                        <Typography variant='body1'>\n                                            <Box display='flex'>\n                                                <WarningIcon className={classes.warningIcon} />\n                                                <div>\n                                                    <FormattedMessage\n                                                        id='Apis.Details.ApiConsole.ApiConsole.subscribe.to.application'\n                                                        defaultMessage='Please subscribe to an application'\n                                                    />\n                                                </div>\n                                            </Box>\n                                        </Typography>\n                                    </Box>\n                                </Grid>\n                            ) : (\n                                !ksGenerated && (\n                                    <Grid x={8} md={6} className={classes.tokenType} item>\n                                        <Box mb={1} alignItems='center'>\n                                            <Typography variant='body1'>\n                                                <Box display='flex'>\n                                                    <WarningIcon className={classes.warningIcon} />\n                                                    <div>\n                                                        <FormattedMessage\n                                                            id='Apis.Details.ApiConsole.ApiConsole.keys.not.generated'\n                                                            defaultMessage={'Consumer key and secret not generated for the selected'\n                                                            + ' application on the {what} environment. '}\n                                                            values={{ what: selectedKeyType }}\n                                                        />\n                                                    </div>\n                                                </Box>\n                                            </Typography>\n                                        </Box>\n                                    </Grid>\n                                )\n                            )}\n                            <Box display='block' justifyContent='center'>\n                                <Grid x={8} md={6} className={classes.tokenType} item>\n                                    {securitySchemeType === 'BASIC' && (\n                                        <>\n                                            <Grid x={12} md={12} item>\n                                                <TextField\n                                                    margin='normal'\n                                                    variant='outlined'\n                                                    label={(\n                                                        <FormattedMessage\n                                                            id='username'\n                                                            defaultMessage='Username'\n                                                        />\n                                                    )}\n                                                    name='username'\n                                                    onChange={handleChanges}\n                                                    value={username || ''}\n                                                    fullWidth\n                                                />\n                                                <TextField\n                                                    margin='normal'\n                                                    variant='outlined'\n                                                    label={(\n                                                        <FormattedMessage\n                                                            id='password'\n                                                            defaultMessage='Password'\n                                                        />\n                                                    )}\n                                                    name='password'\n                                                    onChange={handleChanges}\n                                                    value={password || ''}\n                                                    fullWidth\n                                                />\n                                            </Grid>\n                                        </>\n                                    )}\n\n                                    {securitySchemeType !== 'BASIC' && securitySchemeType !== 'TEST' && (\n                                        <TextField\n                                            fullWidth\n                                            margin='normal'\n                                            variant='outlined'\n                                            label={(\n                                                <FormattedMessage\n                                                    id='access.token'\n                                                    sdefaultMessage='Access Token'\n                                                />\n                                            )}\n                                            name='accessToken'\n                                            onChange={handleChanges}\n                                            type={showToken ? 'text' : 'password'}\n                                            value={tokenValue || ''}\n                                            helperText={(\n                                                <FormattedMessage\n                                                    id='enter.access.token'\n                                                    defaultMessage='Enter access Token'\n                                                />\n                                            )}\n                                            id='accessTokenInput'\n                                            InputProps={{\n                                                endAdornment: (\n                                                    <InputAdornment position='end'>\n                                                        <IconButton\n                                                            edge='end'\n                                                            aria-label='Toggle token visibility'\n                                                            onClick={handleClickShowToken}\n                                                        >\n                                                            {showToken ? <Icon>visibility_off</Icon>\n                                                                : <Icon>visibility</Icon>}\n                                                        </IconButton>\n                                                    </InputAdornment>\n                                                ),\n                                                startAdornment: (\n                                                    <InputAdornment\n                                                        style={{\n                                                            minWidth: (authHeader.length * 7),\n                                                        }}\n                                                        position='start'\n                                                    >\n                                                        {`${authorizationHeader}: ${prefix}`}\n                                                    </InputAdornment>\n                                                ),\n                                            }}\n                                        />\n                                    )}\n                                    {securitySchemeType !== 'BASIC' && securitySchemeType !== 'TEST' && (\n                                        <>\n                                            <Button\n                                                onClick={securitySchemeType === 'API-KEY' ? generateApiKey\n                                                    : generateAccessToken}\n                                                variant='contained'\n                                                className={classes.genKeyButton}\n                                                disabled={!user || (subscriptions && subscriptions.length === 0) || !ksGenerated}\n                                            >\n                                                {isUpdating && (\n                                                    <CircularProgress size={15} />\n                                                )}\n                                                <FormattedMessage\n                                                    id='Apis.Details.ApiCOnsole.generate.test.key'\n                                                    defaultMessage='GET TEST KEY '\n                                                />\n                                            </Button>\n                                            <Tooltip\n                                                placement='right'\n                                                interactive\n                                                title={(\n                                                    <FormattedMessage\n                                                        id='Apis.Details.TryOutConsole.access.token.tooltip'\n                                                        defaultMessage={\n                                                            'You can use your existing Access Token or '\n                                                            + 'you can generate a new Test Key.'\n                                                        }\n                                                    />\n                                                )}\n                                            >\n                                                <Box m={1} mt={2}>\n                                                    <IconButton\n                                                        aria-label='Use existing Access Token or generate a new Test Key'\n                                                    >\n                                                        <HelpOutline />\n                                                    </IconButton>\n                                                </Box>\n                                            </Tooltip>\n                                        </>\n                                    )}\n                                </Grid>\n                            </Box>\n                            <Box display='flex' justifyContent='center' className={classes.gatewayEnvironment}>\n                                <Grid xs={12} md={6} item>\n                                    {((environments && environments.length > 0) || (containerMngEnvMenuItems.length > 0)\n                                        || (labels && labels.length > 0))\n                                        && (\n                                            <>\n                                                <Typography\n                                                    variant='h5'\n                                                    color='textPrimary'\n                                                    className={classes.categoryHeading}\n                                                >\n                                                    <FormattedMessage\n                                                        id='api.console.gateway.heading'\n                                                        defaultMessage='Gateway'\n                                                    />\n                                                </Typography>\n                                                <TextField\n                                                    fullWidth\n                                                    select\n                                                    label={(\n                                                        <FormattedMessage\n                                                            defaultMessage='Environment'\n                                                            id='Apis.Details.ApiConsole.environment'\n                                                        />\n                                                    )}\n                                                    value={selectedEnvironment || (environments && environments[0])}\n                                                    name='selectedEnvironment'\n                                                    onChange={handleChanges}\n                                                    helperText={(\n                                                        <FormattedMessage\n                                                            defaultMessage='Please select an environment'\n                                                            id='Apis.Details.ApiConsole.SelectAppPanel.environment'\n                                                        />\n                                                    )}\n                                                    margin='normal'\n                                                    variant='outlined'\n                                                >\n                                                    {environments && environments.length > 0 && (\n                                                        <MenuItem value='' disabled className={classes.menuItem}>\n                                                            <em>\n                                                                <FormattedMessage\n                                                                    id='api.gateways'\n                                                                    defaultMessage='API Gateways'\n                                                                />\n                                                            </em>\n                                                        </MenuItem>\n                                                    )}\n                                                    {environments && (\n                                                        environments.map((env) => (\n                                                            <MenuItem\n                                                                value={env}\n                                                                key={env}\n                                                                className={classes.menuItem}\n                                                            >\n                                                                {env}\n                                                            </MenuItem>\n                                                        )))}\n                                                    {containerMngEnvMenuItems}\n                                                    {labels && labels.length > 0 && (\n                                                        <MenuItem value='' disabled>\n                                                            <em>\n                                                                <FormattedMessage\n                                                                    id='gateways'\n                                                                    defaultMessage='Gateways'\n                                                                    className={classes.menuItem}\n                                                                />\n                                                            </em>\n                                                        </MenuItem>\n                                                    )}\n                                                    {labels && (\n                                                        labels.map((label) => (\n                                                            <MenuItem\n                                                                value={label}\n                                                                key={label}\n                                                                className={classes.menuItem}\n                                                            >\n                                                                {label}\n                                                            </MenuItem>\n                                                        ))\n                                                    )}\n                                                </TextField>\n                                            </>\n                                        )}\n                                </Grid>\n                            </Box>\n                        </Box>\n                    </Grid>\n                )}\n        </IntlProvider>\n    );\n}\n\nTryOutController.propTypes = {\n    classes: PropTypes.shape({\n        paper: PropTypes.string.isRequired,\n        grid: PropTypes.string.isRequired,\n        inputAdornmentStart: PropTypes.string.isRequired,\n        centerItems: PropTypes.string.isRequired,\n    }).isRequired,\n};\n\nexport default withStyles(makeStyles)(TryOutController);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport 'swagger-ui-react/swagger-ui.css';\nimport SwaggerUILib from 'swagger-ui-react';\n\nconst disableAuthorizeAndInfoPlugin = function () {\n    return {\n        wrapComponents: {\n            info: () => () => null,\n            authorizeBtn: () => () => null,\n        },\n    };\n};\n/**\n *\n * @class SwaggerUI\n * @extends {Component}\n */\nconst SwaggerUI = (props) => {\n    const {\n        spec, accessTokenProvider, authorizationHeader, api, securitySchemeType,\n    } = props;\n\n    const componentProps = {\n        spec,\n        validatorUrl: null,\n        defaultModelsExpandDepth: -1,\n        docExpansion: 'list',\n        requestInterceptor: (req) => {\n            const { url } = req;\n            const { context } = api;\n            const patternToCheck = `${context}/*`;\n            if (authorizationHeader === 'apikey') {\n                req.headers[authorizationHeader] = accessTokenProvider();\n            } else if (securitySchemeType === 'BASIC') {\n                req.headers[authorizationHeader] = 'Basic ' + accessTokenProvider();\n            } else if (securitySchemeType === 'TEST') {\n                req.headers[authorizationHeader] = accessTokenProvider();\n            } else {\n                req.headers[authorizationHeader] = 'Bearer ' + accessTokenProvider();\n            }\n            if (url.endsWith(patternToCheck)) {\n                req.url = url.substring(0, url.length - 2);\n            } else if (url.includes(patternToCheck + '?')) { // Check for query parameters.\n                const splitTokens = url.split('/*?');\n                req.url = splitTokens.length > 1 ? splitTokens[0] + '?' + splitTokens[1] : splitTokens[0];\n            }\n            return req;\n        },\n        defaultModelExpandDepth: -1,\n        plugins: [disableAuthorizeAndInfoPlugin],\n    };\n    return <SwaggerUILib {...componentProps} />;\n};\n\nSwaggerUI.propTypes = {\n    accessTokenProvider: PropTypes.func.isRequired,\n    authorizationHeader: PropTypes.string.isRequired,\n    api: PropTypes.shape({\n        context: PropTypes.string.isRequired,\n    }).isRequired,\n    spec: PropTypes.string.isRequired,\n};\nexport default SwaggerUI;\n","/*\n * Copyright (c), WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\nimport 'AppComponents/Shared/testconsole.css';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport Progress from 'AppComponents/Shared/Progress';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage } from 'react-intl';\nimport Paper from '@material-ui/core/Paper';\nimport 'swagger-ui-react/swagger-ui.css';\nimport API from 'AppData/api';\nimport AuthManager, { isRestricted } from 'AppData/AuthManager';\nimport { TryOutController, SwaggerUI } from 'developer_portal';\nimport Button from '@material-ui/core/Button';\nimport InlineMessage from 'AppComponents/Shared/InlineMessage';\nimport Banner from 'AppComponents/Shared/Banner';\nimport ApiContext, { withAPI } from 'AppComponents/Apis/Details/components/ApiContext';\nimport uuid from 'uuid/v4';\n\n/**\n * @inheritdoc\n * @param {*} theme theme\n */\nconst styles = (theme) => ({\n    centerItems: {\n        margin: 'auto',\n    },\n    categoryHeading: {\n        marginBottom: theme.spacing(2),\n        marginLeft: theme.spacing(-5),\n    },\n    contentWrapper: {\n        maxWidth: theme.custom.contentAreaWidth,\n    },\n    buttonIcon: {\n        marginRight: 10,\n    },\n    paper: {\n        margin: theme.spacing(1),\n        padding: theme.spacing(1),\n        '& span, & h5, & label, & td, & li, & div, & input': {\n            color: theme.palette.getContrastText(theme.palette.background.paper),\n        },\n    },\n    grid: {\n        marginTop: theme.spacing(4),\n        marginBottom: theme.spacing(4),\n        paddingRight: theme.spacing(2),\n        justifyContent: 'center',\n    },\n    userNotificationPaper: {\n        padding: theme.spacing(2),\n    },\n    titleSub: {\n        marginLeft: theme.spacing(2),\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n        color: theme.palette.getContrastText(theme.palette.background.default),\n    },\n    tryoutHeading: {\n        fontWeight: 400,\n    },\n    noDataMessage: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: '#888888',\n        width: '100%',\n    },\n    swaggerUIPaper: {\n        showTryout: true,\n        swaggerUIBackground: '#efefef',\n        documentBackground: '#efefef',\n        tokenTextBoxBackground: '#efefef',\n    },\n    stateButton: {\n        marginRight: theme.spacing(),\n    },\n    head: {\n        fontWeight: 200,\n        marginBottom: 20,\n    },\n    emptyBox: {\n        marginTop: theme.spacing(2),\n    },\n    content: {\n        display: 'flex',\n        flex: 1,\n        flexDirection: 'column',\n        marginLeft: theme.custom.leftMenuWidth,\n        paddingBottom: theme.spacing(3),\n    },\n    actions: {\n        padding: '20px 0',\n        '& button': {\n            marginLeft: 0,\n        },\n    },\n    helpText: {\n        paddingTop: theme.spacing(1),\n    },\n    messageBox: {\n        marginTop: 20,\n    },\n});\n\n/**\n * @class TestConsole\n * @extends {React.Component}\n */\nclass TestConsole extends React.Component {\n    /**\n     *\n     * @param {*} props the props parameters\n     */\n    constructor(props) {\n        super(props);\n        this.state = {\n            securitySchemeType: 'TEST',\n            username: '',\n            password: '',\n            scopes: [],\n            selectedKeyType: 'PRODUCTION',\n            keys: [],\n        };\n        this.accessTokenProvider = this.accessTokenProvider.bind(this);\n        this.updateSwagger = this.updateSwagger.bind(this);\n        this.setSecurityScheme = this.setSecurityScheme.bind(this);\n        this.setSelectedEnvironment = this.setSelectedEnvironment.bind(this);\n        this.setProductionAccessToken = this.setProductionAccessToken.bind(this);\n        this.setSandboxAccessToken = this.setSandboxAccessToken.bind(this);\n        this.setUsername = this.setUsername.bind(this);\n        this.setPassword = this.setPassword.bind(this);\n        this.setSelectedKeyType = this.setSelectedKeyType.bind(this);\n        this.setKeys = this.setKeys.bind(this);\n        this.updateAccessToken = this.updateAccessToken.bind(this);\n        this.WORKFLOW_STATUS = {\n            CREATED: 'CREATED',\n            APPROVED: 'APPROVED',\n        };\n    }\n\n    /**\n     * @memberof ApiConsole\n     */\n    componentDidMount() {\n        const { apiObj } = this.props;\n        let apiData;\n        let environments;\n        let labels;\n        let selectedEnvironment;\n        let swagger;\n        let productionAccessToken;\n        let sandboxAccessToken;\n        let apiID;\n        let urls;\n        let httpVal;\n        let httpsVal;\n        let basePath;\n        const user = AuthManager.getUser();\n        const promisedAPI = API.getAPIById(apiObj.id);\n        promisedAPI\n            .then((apiResponse) => {\n                apiID = apiResponse.obj.id;\n                apiData = apiResponse.obj;\n                if (apiData.gatewayEnvironments) {\n                    environments = apiData.gatewayEnvironments.map((endpoint) => { return endpoint; });\n                }\n                const securtySchemas = apiData.securityScheme;\n                securtySchemas.push('test_auth');\n                securtySchemas.shift();\n                if (apiData.endpointURLs) {\n                    environments = apiData.endpointURLs.map((endpoint) => { return endpoint.environmentName; });\n                }\n                if (apiData.labels) {\n                    labels = apiData.labels.map((label) => { return label.name; });\n                }\n                if (apiData.scopes) {\n                    const scopeList = apiData.scopes.map((scope) => { return scope.name; });\n                    this.setState({ scopes: scopeList });\n                }\n                if (environments && environments.length > 0) {\n                    [selectedEnvironment] = environments;\n                    return API.getSwaggerByAPIIdAndEnvironment(apiResponse.obj.id, selectedEnvironment);\n                } else if (labels && labels.length > 0) {\n                    [selectedEnvironment] = labels;\n                    return API.getSwaggerByAPIIdAndLabel(apiResponse.obj.id, selectedEnvironment);\n                } else {\n                    return API.getSwaggerByAPIId(apiResponse.obj.id);\n                }\n            })\n            .then((swaggerResponse) => {\n                swagger = swaggerResponse.obj;\n                if (user != null) {\n                    this.setState({\n                        api: apiData,\n                        swagger,\n                        environments,\n                        labels,\n                        productionAccessToken,\n                        sandboxAccessToken,\n                    });\n                    return API.getSubscriptions(apiID);\n                } else {\n                    return null;\n                }\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.error(error);\n                }\n                this.setState({ serverError: `${error.statusCode} - ${error.response.body.description}` });\n            });\n        const settingPromise = API.getSettings();\n        const newServer = [];\n        settingPromise\n            .then((settingsNew) => {\n                if (settingsNew.environment) {\n                    urls = settingsNew.environment.map((endpoints) => { return endpoints.endpoints; });\n                    httpVal = urls.map((val) => { return val.http; });\n                    httpsVal = urls.map((value) => { return value.https; });\n                    basePath = apiData.context + '/' + apiData.version;\n                    newServer.push({ url: httpsVal + apiData.context + '/' + apiData.version });\n                    newServer.push({ url: httpVal + apiData.context + '/' + apiData.version });\n                }\n                this.setState({\n                    settings: newServer,\n                    host: httpsVal[0].split('//')[1],\n                    baseUrl: basePath,\n                });\n            });\n    }\n\n    /**\n     * Set SecurityScheme value\n     * @memberof ApiConsole\n     */\n    setSecurityScheme(securityScheme) {\n        this.setState({ securitySchemeType: securityScheme });\n    }\n\n    /**\n     * Set Selected Environment\n     * @memberof ApiConsole\n     */\n    setSelectedEnvironment(selectedEnvironment) {\n        this.setState({ selectedEnvironment });\n    }\n\n    /**\n     * Set Production Access Token\n     * @memberof ApiConsole\n     */\n    setProductionAccessToken(productionAccessToken) {\n        this.setState({ productionAccessToken });\n    }\n\n    /**\n     * Set Sandbox Access Token\n     * @memberof ApiConsole\n     */\n    setSandboxAccessToken(sandboxAccessToken) {\n        this.setState({ sandboxAccessToken });\n    }\n\n    /**\n     * Set Username\n     * @memberof ApiConsole\n     */\n    setUsername(username) {\n        this.setState({ username });\n    }\n\n    /**\n     * Set Password\n     * @memberof ApiConsole\n     */\n    setPassword(password) {\n        this.setState({ password });\n    }\n\n    /**\n     * Set Password\n     * @memberof ApiConsole\n     */\n    setSelectedKeyType(selectedKeyType, isUpdateToken) {\n        if (isUpdateToken) {\n            this.setState({ selectedKeyType }, this.updateAccessToken);\n        } else {\n            this.setState({ selectedKeyType });\n        }\n    }\n\n    /**\n     * Set Password\n     * @memberof ApiConsole\n     */\n    setKeys(keys) {\n        this.setState({ keys });\n    }\n\n\n    handleClick = () => {\n        const { apiObj } = this.props;\n        const action = 'Deploy as a Prototype';\n        const promisedUpdate = API.updateLcState(apiObj.id, action);\n        promisedUpdate\n            .then((response) => {\n                const newState = response.body.lifecycleState.state;\n                console.log('new life cycle state' + newState);\n                this.context.updateAPI();\n                // disable store\n                const promisedApi = API.get(apiObj.id);\n                promisedApi\n                    .then((getResponse) => {\n                        const apiData = getResponse;\n                        apiData.enableStore = false;\n                        const token = uuid();\n                        apiData.testKey = token;\n                        this.context.updateAPI({ enableStore: false, testKey: token });\n                    })\n                    .catch((errorResponse) => {\n                        console.error(errorResponse);\n                    });\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    };\n\n    /**\n     * Load the swagger file of the selected environemnt\n     * @memberof ApiConsole\n     */\n    updateSwagger() {\n        const {\n            selectedEnvironment, api, environments,\n        } = this.state;\n        let promiseSwagger;\n\n        if (selectedEnvironment) {\n            if (environments.includes(selectedEnvironment)) {\n                promiseSwagger = API.getSwaggerByAPIIdAndEnvironment(api.id, selectedEnvironment);\n            } else {\n                promiseSwagger = API.getSwaggerByAPIIdAndLabel(api.id, selectedEnvironment);\n            }\n        } else {\n            promiseSwagger = API.getSwaggerByAPIId(api.id);\n        }\n        promiseSwagger.then((swaggerResponse) => {\n            this.setState({ swagger: swaggerResponse.obj });\n        });\n    }\n\n    /**\n     *\n     * Provids the access token to the Swagger UI\n     * @returns {*} access token\n     * @memberof ApiConsole\n     */\n    accessTokenProvider() {\n        const {\n            securitySchemeType, username, password, productionAccessToken, sandboxAccessToken, selectedKeyType,\n        } = this.state;\n        if (securitySchemeType === 'BASIC') {\n            const credentials = username + ':' + password;\n            return btoa(credentials);\n        }\n        if (securitySchemeType === 'TEST') {\n            return this.state.api.testKey;\n        }\n        if (selectedKeyType === 'PRODUCTION') {\n            return productionAccessToken;\n        } else {\n            return sandboxAccessToken;\n        }\n    }\n\n\n    /**\n     * Load the access token for given key type\n     * @memberof TryOutController\n     */\n    updateAccessToken() {\n        const {\n            keys, selectedKeyType,\n        } = this.state;\n        let accessToken;\n        if (keys.get(selectedKeyType)) {\n            ({ accessToken } = keys.get(selectedKeyType).token);\n        }\n        if (selectedKeyType === 'PRODUCTION') {\n            this.setProductionAccessToken(accessToken);\n        } else {\n            this.setSandboxAccessToken(accessToken);\n        }\n    }\n\n    /**\n     * @inheritdoc\n     * @memberof ApiConsole\n     */\n    render() {\n        const { classes } = this.props;\n        const {\n            swagger, api, securitySchemeType, selectedEnvironment, productionAccessToken, sandboxAccessToken,\n            labels, environments, scopes, username, password, selectedKeyType, serverError, settings, host, baseUrl,\n        } = this.state;\n        if (serverError) {\n            return (\n                <Typography variant='h4' className={classes.titleSub}>\n                    {serverError}\n                </Typography>\n            );\n        }\n        if (!api || !swagger || !settings) {\n            return <Progress />;\n        }\n        let authorizationHeader = api.authorizationHeader ? api.authorizationHeader : 'Authorization';\n        authorizationHeader = 'testkey';\n        if (!swagger.openapi) {\n            swagger.host = host;\n            swagger.basePath = baseUrl;\n            swagger.schemes = ['https'];\n        } else {\n            swagger.servers = settings;\n        }\n        const isProtoTyped = api.lifeCycleStatus.toLowerCase() === 'prototyped';\n        const enableForTest = api.enableStore === false;\n        return (\n            <>\n                {!isProtoTyped && (\n                    <>\n                        <Typography variant='h4' align='left' className={classes.mainTitle}>\n                            <FormattedMessage\n                                id='Apis.Details.index.Tryout'\n                                defaultMessage='Test Console'\n                            />\n                        </Typography>\n                        <Typography variant='caption' component='div' className={classes.helpText}>\n                            <FormattedMessage\n                                id='APis.Details.tryout.help.main'\n                                defaultMessage='Test APIs while in the Development stage.'\n                            />\n                        </Typography>\n                        <div className={classes.messageBox}>\n                            <InlineMessage type='info' height={140}>\n                                <div className={classes.contentWrapper}>\n                                    <Typography variant='h5' component='h3' className={classes.head}>\n                                        <FormattedMessage\n                                            id='Apis.Details.tryout.title'\n                                            defaultMessage='Start Testing'\n                                        />\n                                    </Typography>\n                                    <Typography component='p'>\n                                        <FormattedMessage\n                                            id='Apis.Details.tryout.initialize.test'\n                                            defaultMessage='Initialize the API for the testing phase'\n                                        />\n                                    </Typography>\n                                    <div className={classes.actions}>\n                                        <Button\n                                            variant='contained'\n                                            color='primary'\n                                            className={classes.button}\n                                            disabled={isRestricted(['apim:api_create', 'apim:api_publish'], api)}\n                                            onClick={this.handleClick}\n                                        >\n                                            <FormattedMessage\n                                                id='Apis.Details.index.initTest'\n                                                defaultMessage='Initialize test'\n                                            />\n                                        </Button>\n                                    </div>\n                                </div>\n                            </InlineMessage>\n                        </div>\n                    </>\n                )}\n                {(isProtoTyped && enableForTest) && (\n                    <Paper className={classes.paper}>\n                        <Typography variant='h4' className={classes.titleSub}>\n                            <FormattedMessage id='Apis.Details.index.Tryout' defaultMessage='Test Console' />\n                        </Typography>\n                        <TryOutController\n                            setSecurityScheme={this.setSecurityScheme}\n                            securitySchemeType={securitySchemeType}\n                            setSelectedEnvironment={this.setSelectedEnvironment}\n                            selectedEnvironment={selectedEnvironment}\n                            productionAccessToken={productionAccessToken}\n                            setProductionAccessToken={this.setProductionAccessToken}\n                            sandboxAccessToken={sandboxAccessToken}\n                            setSandboxAccessToken={this.setSandboxAccessToken}\n                            swagger={swagger}\n                            labels={labels}\n                            environments={environments}\n                            scopes={scopes}\n                            setUsername={this.setUsername}\n                            setPassword={this.setPassword}\n                            username={username}\n                            password={password}\n                            setSelectedKeyType={this.setSelectedKeyType}\n                            selectedKeyType={selectedKeyType}\n                            updateSwagger={this.updateSwagger}\n                            setKeys={this.setKeys}\n                            api={this.state.api}\n                        />\n                        <SwaggerUI\n                            api={this.state.api}\n                            accessTokenProvider={this.accessTokenProvider}\n                            spec={swagger}\n                            authorizationHeader={authorizationHeader}\n                            securitySchemeType={securitySchemeType}\n                        />\n                    </Paper>\n                )}\n                {(isProtoTyped && !enableForTest) && (\n                    <Banner\n                        disableActions\n                        dense\n                        paperProps={{ elevation: 1 }}\n                        type='info'\n                        message='API should be in prototype(testing) state. Please demote to created state and click\n                        on the initialize Test button in the Test Console left menu item.'\n                    />\n                )}\n            </>\n        );\n    }\n}\nTestConsole.propTypes = {\n    classes: PropTypes.shape({\n        paper: PropTypes.string.isRequired,\n        titleSub: PropTypes.string.isRequired,\n        grid: PropTypes.string.isRequired,\n        userNotificationPaper: PropTypes.string.isRequired,\n        buttonIcon: PropTypes.string.isRequired,\n        lcState: PropTypes.shape({}).isRequired,\n        theme: PropTypes.shape({}).isRequired,\n        intl: PropTypes.shape({\n            formatMessage: PropTypes.func,\n        }).isRequired,\n    }).isRequired,\n};\n\nTestConsole.contextType = ApiContext;\n\nexport default withAPI(withStyles(styles)(TestConsole));\n","/*\n * Copyright (c) 2017, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { isRestricted } from 'AppData/AuthManager';\nimport LifeCycleIcon from '@material-ui/icons/Autorenew';\nimport EndpointIcon from '@material-ui/icons/GamesOutlined';\nimport PersonPinCircleOutlinedIcon from '@material-ui/icons/PersonPinCircleOutlined';\nimport ResourcesIcon from '@material-ui/icons/VerticalSplit';\nimport ScopesIcon from '@material-ui/icons/VpnKey';\nimport DocumentsIcon from '@material-ui/icons/LibraryBooks';\nimport BusinessIcon from '@material-ui/icons/Business';\nimport CodeIcon from '@material-ui/icons/Code';\nimport ConfigurationIcon from '@material-ui/icons/Build';\nimport RuntimeConfigurationIcon from '@material-ui/icons/Settings';\nimport PropertiesIcon from '@material-ui/icons/List';\nimport SubscriptionsIcon from '@material-ui/icons/RssFeed';\nimport MonetizationIcon from '@material-ui/icons/LocalAtm';\nimport StoreIcon from '@material-ui/icons/Store';\nimport DashboardIcon from '@material-ui/icons/Dashboard';\nimport { withStyles } from '@material-ui/core/styles';\nimport { injectIntl, defineMessages } from 'react-intl';\nimport {\n    Redirect, Route, Switch, Link, matchPath,\n} from 'react-router-dom';\nimport isEmpty from 'lodash/isEmpty';\nimport Utils from 'AppData/Utils';\nimport ResourceNotFound from 'AppComponents/Base/Errors/ResourceNotFound';\nimport CustomIcon from 'AppComponents/Shared/CustomIcon';\nimport LeftMenuItem from 'AppComponents/Shared/LeftMenuItem';\nimport API from 'AppData/api';\nimport APIProduct from 'AppData/APIProduct';\nimport { Progress } from 'AppComponents/Shared';\nimport Alert from 'AppComponents/Shared/Alert';\nimport { doRedirectToLogin } from 'AppComponents/Shared/RedirectToLogin';\nimport AppContext from 'AppComponents/Shared/AppContext';\nimport LastUpdatedTime from 'AppComponents/Apis/Details/components/LastUpdatedTime';\nimport Overview from './NewOverview/Overview';\nimport DesignConfigurations from './Configuration/DesignConfigurations';\nimport RuntimeConfiguration from './Configuration/RuntimeConfiguration';\nimport RuntimeConfigurationWebSocket from './Configuration/RuntimeConfigurationWebSocket';\nimport LifeCycle from './LifeCycle/LifeCycle';\nimport Documents from './Documents';\nimport Operations from './Operations/Operations';\nimport APIOperations from './Resources/APIOperations';\nimport APIProductOperations from './ProductResources/APIProductOperations';\nimport ProductResourcesEdit from './ProductResources/ProductResourcesEdit';\nimport Endpoints from './Endpoints/Endpoints';\nimport Environments from './Environments/Environments';\nimport Subscriptions from './Subscriptions/Subscriptions';\nimport Comments from './Comments/Comments';\nimport Scope from './Scopes';\nimport Security from './Security';\nimport APIDefinition from './APIDefinition/APIDefinition';\nimport WSDL from './APIDefinition/WSDL';\nimport APIDetailsTopMenu from './components/APIDetailsTopMenu';\nimport BusinessInformation from './BusinessInformation/BusinessInformation';\nimport Properties from './Properties/Properties';\nimport Monetization from './Monetization';\nimport ExternalStores from './ExternalStores/ExternalStores';\nimport { APIProvider } from './components/ApiContext';\nimport CreateNewVersion from './NewVersion/NewVersion';\nimport TestConsole from './TestConsole/TestConsole';\n\nconst styles = (theme) => ({\n    LeftMenu: {\n        backgroundColor: theme.palette.background.leftMenu,\n        width: theme.custom.leftMenuWidth,\n        textAlign: 'center',\n        fontFamily: theme.typography.fontFamily,\n        position: 'absolute',\n        bottom: 0,\n        left: 0,\n        top: 0,\n        overflowY: 'auto',\n    },\n    leftLInkMain: {\n        borderRight: 'solid 1px ' + theme.palette.background.leftMenu,\n        paddingBottom: theme.spacing(1),\n        paddingTop: theme.spacing(1),\n        cursor: 'pointer',\n        backgroundColor: theme.palette.background.leftMenuActive,\n        color: theme.palette.getContrastText(theme.palette.background.leftMenuActive),\n        textDecoration: 'none',\n    },\n    detailsContent: {\n        display: 'flex',\n        flex: 1,\n    },\n    content: {\n        display: 'flex',\n        flex: 1,\n        flexDirection: 'column',\n        marginLeft: theme.custom.leftMenuWidth,\n        paddingBottom: theme.spacing(3),\n    },\n    contentInside: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n        paddingTop: theme.spacing(2),\n    },\n});\n\n/**\n * Base component for API specific Details page,\n * What this component do is, Handle all the request coming under `/apis/:api_uuid` path, If the :api_uuid or\n *  the later part of the URL is not valid , This will return a `PageNotFound` component.\n * For valid API request , This component will fetch the API and pass the API response data to below components in `api`\n * prop name.\n * Note: If you want to add new route or new page under APIs detail, add the desired path to `PATHS` constant mapping.\n * This mapping will be used in parent component to directly return `PageNotFound` component, If user making a request\n * to an undefined path segment.\n */\nclass Details extends Component {\n    /**\n     * Return boolean , whether provided URL has a valid Route under the Details page.\n     * Check https://github.com/ReactTraining/react-router/blob/master/packages/react-router-dom/modules/NavLink.js\n     * code for the usage of public matchPath method\n     * @static\n     * @param {String} pathname location URL of an incoming request\n     * @memberof Details\n     * @returns {Boolean} whether URL matched with defined sub paths or not\n     */\n    static isValidURL(pathname) {\n        for (const [subPathKey, subPath] of Object.entries(Details.subPaths)) {\n            // Skip the BASE path , because it will match for any `/apis/:apiUUID/*` values\n            if ((subPathKey !== 'BASE') && (subPathKey !== 'BASE_PRODUCT')) {\n                const matched = matchPath(pathname, subPath);\n                if (matched) {\n                    return matched;\n                }\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Creates an instance of Details.\n     * @param {any} props @inheritDoc\n     * @memberof Details\n     */\n    constructor(props) {\n        super(props);\n        const isAPIProduct = null;\n        this.state = {\n            api: null,\n            apiNotFound: false,\n            // updateAPI: this.updateAPI,\n            isAPIProduct,\n            imageUpdate: 0,\n        };\n        this.setAPI = this.setAPI.bind(this);\n        this.setAPIProduct = this.setAPIProduct.bind(this);\n        this.updateAPI = this.updateAPI.bind(this);\n        this.setImageUpdate = this.setImageUpdate.bind(this);\n    }\n\n    /**\n     * @inheritDoc\n     * @memberof Details\n     */\n    componentDidMount() {\n        const {\n            location: { pathname },\n            isAPIProduct,\n        } = this.props;\n        // Load API data iff request page is valid\n        if (Details.isValidURL(pathname)) {\n            if (isAPIProduct) {\n                this.setAPIProduct();\n            } else {\n                this.setAPI();\n            }\n            const api = new API();\n            api.getTenantsByState('active')\n                .then((response) => {\n                    const { list } = response.body;\n                    this.setState({ tenantList: list });\n                }).catch((error) => {\n                    console.error('error when getting tenants ' + error);\n                });\n        }\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof Details\n     */\n    componentDidUpdate() {\n        const { api } = this.state;\n        const { match, isAPIProduct } = this.props;\n        const { apiUUID } = match.params;\n        const { apiProdUUID } = match.params;\n        if (!api || (api.id === apiUUID || api.id === apiProdUUID)) {\n            return;\n        }\n        if (isAPIProduct) {\n            this.setAPIProduct();\n        } else {\n            this.setAPI();\n        }\n    }\n\n    /**\n     *\n     * This method is a hack to update the image in the toolbar when a new image is uploaded\n     * @memberof Details\n     */\n    setImageUpdate() {\n        this.setState((previousState) => ({\n            imageUpdate: previousState.imageUpdate + 1,\n        }));\n    }\n\n    /**\n     *\n     *\n     * @memberof Details\n     */\n    setAPI(newAPI) {\n        if (newAPI) {\n            this.setState({ api: newAPI });\n        } else {\n            const { match } = this.props;\n            const { apiUUID } = match.params;\n            const promisedApi = API.get(apiUUID);\n            promisedApi\n                .then((api) => {\n                    this.setState({ api });\n                })\n                .catch((error) => {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.log(error);\n                    }\n                    const { status } = error;\n                    if (status === 404) {\n                        this.setState({ apiNotFound: true });\n                    } else if (status === 401) {\n                        doRedirectToLogin();\n                    }\n                });\n        }\n    }\n\n    /**\n     *\n     *\n     * @memberof Details\n     */\n    setAPIProduct() {\n        const { match } = this.props;\n        const { apiProdUUID } = match.params;\n        const { isAPIProduct } = this.props;\n        const promisedApi = APIProduct.get(apiProdUUID);\n        promisedApi\n            .then((api) => {\n                this.setState({ isAPIProduct });\n                this.setState({ api });\n            })\n            .catch((error) => {\n                if (process.env.NODE_ENV !== 'production') {\n                    console.log(error);\n                }\n                const { status } = error;\n                if (status === 404) {\n                    this.setState({ apiNotFound: true });\n                }\n            });\n    }\n\n    /**\n     *\n     * @returns\n     * @memberof Details\n     */\n    getLeftMenuItemForDefinitionByType(apiType) {\n        const { isAPIProduct } = this.state;\n        const { intl, match } = this.props;\n        const uuid = match.params.apiUUID || match.params.api_uuid || match.params.apiProdUUID;\n        const pathPrefix = '/' + (isAPIProduct ? 'api-products' : 'apis') + '/' + uuid + '/';\n        const apiDefinitionMenuItem = (\n            <LeftMenuItem\n                text={intl.formatMessage({\n                    id: 'Apis.Details.index.api.definition2',\n                    defaultMessage: 'API definition',\n                })}\n                route='api definition'\n                to={pathPrefix + 'api definition'}\n                Icon={<CodeIcon />}\n            />\n        );\n\n        switch (apiType) {\n            case 'GRAPHQL':\n                return (\n                    <>\n                        <LeftMenuItem\n                            text={intl.formatMessage({\n                                id: 'Apis.Details.index.schema.definition',\n                                defaultMessage: 'Schema Definition',\n                            })}\n                            route='schema definition'\n                            to={pathPrefix + 'schema definition'}\n                            Icon={<CodeIcon />}\n                        />\n                    </>\n                );\n            case 'WS':\n                return '';\n            case 'SOAP':\n                return (\n                    <>\n                        {apiDefinitionMenuItem}\n                        <LeftMenuItem\n                            text={intl.formatMessage({\n                                id: 'Apis.Details.index.wsdl.definition',\n                                defaultMessage: 'WSDL Definition',\n                            })}\n                            route='wsdl'\n                            to={pathPrefix + 'wsdl'}\n                            Icon={<CodeIcon />}\n                        />\n                    </>\n                );\n            default:\n                return (\n                    <>\n                        {apiDefinitionMenuItem}\n                    </>\n                );\n        }\n    }\n\n    getLeftMenuItemForResourcesByType(apiType) {\n        const { isAPIProduct } = this.state;\n        const { intl, match } = this.props;\n        const uuid = match.params.apiUUID || match.params.api_uuid || match.params.apiProdUUID;\n        const pathPrefix = '/' + (isAPIProduct ? 'api-products' : 'apis') + '/' + uuid + '/';\n\n        switch (apiType) {\n            case 'GRAPHQL':\n                return (\n                    <>\n                        <LeftMenuItem\n                            text={intl.formatMessage({\n                                id: 'Apis.Details.index.operations',\n                                defaultMessage: 'operations',\n                            })}\n                            to={pathPrefix + 'operations'}\n                            Icon={<ResourcesIcon />}\n                        />\n                    </>\n                );\n            case 'WS':\n                return '';\n            default:\n                return (\n                    <>\n                        <LeftMenuItem\n                            text={intl.formatMessage({\n                                id: 'Apis.Details.index.resources',\n                                defaultMessage: 'resources',\n                            })}\n                            to={pathPrefix + 'resources'}\n                            Icon={<ResourcesIcon />}\n                        />\n                    </>\n                );\n        }\n    }\n\n    /**\n     * This method is similar to ReactJS `setState` method, In this `updateAPI()` method, we accept partially updated\n     * API object or comple API object. When updating , the provided updatedAPI object will be merged with the existing\n     * API object in the state and use it as the payload in the /apis PUT operation.\n     *\n     * Partially updated API object means: {description: \"Here is my new description..\"} kind of object. It should have\n     * a key in API object and value contains the updated value of that property\n     * @param {Object} [_updatedProperties={}] Partially updated API object or complete API object\n     * (even an instance of API class is accepted here)\n     * @param {Boolean} isAPIProduct Whether the update operation should execute on an API or API Product\n     * @returns {Promise} promise object that resolve to update (/apis PUT operation) response\n     */\n    updateAPI(_updatedProperties = {}) {\n        const { api } = this.state;\n        let isAPIProduct = false;\n        if (api.apiType === 'APIProduct') {\n            isAPIProduct = true;\n        }\n        const updatedProperties = _updatedProperties instanceof API ? _updatedProperties.toJson() : _updatedProperties;\n        let promisedUpdate;\n        // TODO: Ideally, The state should hold the corresponding API object\n        // which we could call it's `update` method safely ~tmkb\n        if (!isEmpty(updatedProperties)) {\n            // newApi object has to be provided as the updatedProperties. Then api will be updated.\n            promisedUpdate = api.update(updatedProperties);\n        } else {\n            // Just like calling noArg `setState()` will just trigger a re-render without modifying the state,\n            // Calling `updateAPI()` without args wil return the API without any update.\n            // Just sync-up the api state with backend\n            promisedUpdate = API.get(api.id);\n        }\n        return promisedUpdate\n            .then((updatedAPI) => {\n                if (isAPIProduct) {\n                    Alert.info(`${updatedAPI.name} API updated successfully`);\n                    this.setState({ api: updatedAPI });\n                    return updatedAPI;\n                } else {\n                    Alert.info(`${updatedAPI.name} API updated successfully`);\n                    this.setState({ api: updatedAPI });\n                    return updatedAPI;\n                }\n            })\n            .catch((error) => {\n                // TODO: Should log and handle the error case by the original callee ~tmkb\n                console.error(error);\n                Alert.error(`Something went wrong while updating the ${api.name} API!!`);\n                // Kinda force render,Resting API object to old one\n                this.setState({ api });\n                throw error;\n            });\n    }\n\n    /**\n     * Renders Grid container layout with NavBar place static in LHS, Components which coming as children for\n     * Details page\n     * should wrap it's content with <Grid item > element\n     * @returns {Component} Render API Details page\n     */\n    render() {\n        const {\n            api, apiNotFound, isAPIProduct, imageUpdate, tenantList,\n        } = this.state;\n        const {\n            classes,\n            theme,\n            match,\n            intl,\n            location: pageLocation,\n            location: { pathname }, // nested destructuring\n        } = this.props;\n\n        const { settings: settingsContext } = this.context;\n\n        // pageLocation renaming is to prevent es-lint errors saying can't use global name location\n        if (!Details.isValidURL(pathname)) {\n            return <ResourceNotFound location={pageLocation} />;\n        }\n        const uuid = match.params.apiUUID || match.params.api_uuid || match.params.apiProdUUID;\n        const pathPrefix = '/' + (isAPIProduct ? 'api-products' : 'apis') + '/' + uuid + '/';\n        const redirectUrl = pathPrefix;\n        if (apiNotFound) {\n            const { apiUUID } = match.params;\n            const resourceNotFoundMessageText = defineMessages({\n                titleMessage: {\n                    id: 'Apis.Details.index.api.not.found.title',\n                    defaultMessage: 'API is not found in the {environmentLabel} Environment',\n                },\n                bodyMessage: {\n                    id: 'Apis.Details.index.api.not.found.body',\n                    defaultMessage: 'Cannot find the API with the given id',\n                },\n            });\n            const resourceNotFountMessage = {\n                title: intl.formatMessage(resourceNotFoundMessageText.titleMessage, {\n                    environmentLabel: `${Utils.getCurrentEnvironment().label}`,\n                }),\n                body: intl.formatMessage(resourceNotFoundMessageText.bodyMessage, { apiUUID: `${apiUUID}` }),\n            };\n            return <ResourceNotFound message={resourceNotFountMessage} />;\n        }\n\n        if (!api) {\n            return <Progress />;\n        }\n        const { leftMenuIconMainSize } = theme.custom;\n\n        return (\n            <>\n                <APIProvider\n                    value={{\n                        api,\n                        updateAPI: this.updateAPI,\n                        isAPIProduct,\n                        setAPI: this.setAPI,\n                        setImageUpdate: this.setImageUpdate,\n                        imageUpdate,\n                        tenantList,\n                    }}\n                >\n                    <div className={classes.LeftMenu}>\n                        <Link to={'/' + (isAPIProduct ? 'api-products' : 'apis') + '/'}>\n                            <div className={classes.leftLInkMain}>\n                                <CustomIcon\n                                    width={leftMenuIconMainSize}\n                                    height={leftMenuIconMainSize}\n                                    icon={isAPIProduct ? 'api-product' : 'api'}\n                                />\n                            </div>\n                        </Link>\n                        <LeftMenuItem\n                            text={intl.formatMessage({\n                                id: 'Apis.Details.index.overview',\n                                defaultMessage: 'overview',\n                            })}\n                            to={pathPrefix + 'overview'}\n                            Icon={<DashboardIcon />}\n                        />\n                        <LeftMenuItem\n                            text={intl.formatMessage({\n                                id: 'Apis.Details.index.design.configs',\n                                defaultMessage: 'Design Configurations',\n                            })}\n                            route='configuration'\n                            to={pathPrefix + 'configuration'}\n                            Icon={<ConfigurationIcon />}\n                        />\n                        {!api.isWebSocket() && (\n                            <LeftMenuItem\n                                text={intl.formatMessage({\n                                    id: 'Apis.Details.index.runtime.configs',\n                                    defaultMessage: 'Runtime Configurations',\n                                })}\n                                route='runtime-configuration'\n                                to={pathPrefix + 'runtime-configuration'}\n                                Icon={<RuntimeConfigurationIcon />}\n                            />\n                        )}\n                        {api.isWebSocket() && (\n                            <LeftMenuItem\n                                text={intl.formatMessage({\n                                    id: 'Apis.Details.index.runtime.configs',\n                                    defaultMessage: 'Runtime Configurations',\n                                })}\n                                route='runtime-configuration'\n                                to={pathPrefix + 'runtime-configuration-websocket'}\n                                Icon={<RuntimeConfigurationIcon />}\n                            />\n                        )}\n                        {this.getLeftMenuItemForResourcesByType(api.type)}\n                        {!isAPIProduct && (\n                            <LeftMenuItem\n                                text={intl.formatMessage({\n                                    id: 'Apis.Details.index.endpoints',\n                                    defaultMessage: 'endpoints',\n                                })}\n                                to={pathPrefix + 'endpoints'}\n                                Icon={<EndpointIcon />}\n                            />\n                        )}\n                        <LeftMenuItem\n                            text={intl.formatMessage({\n                                id: 'Apis.Details.index.subscriptions',\n                                defaultMessage: 'subscriptions',\n                            })}\n                            to={pathPrefix + 'subscriptions'}\n                            Icon={<SubscriptionsIcon />}\n                        />\n                        {!isAPIProduct && !isRestricted(['apim:api_publish'], api) && (\n                            <LeftMenuItem\n                                text={intl.formatMessage({\n                                    id: 'Apis.Details.index.lifecycle',\n                                    defaultMessage: 'lifecycle',\n                                })}\n                                to={pathPrefix + 'lifecycle'}\n                                Icon={<LifeCycleIcon />}\n                            />\n                        )}\n                        {this.getLeftMenuItemForDefinitionByType(api.type)}\n                        {!isAPIProduct && (\n                            <LeftMenuItem\n                                text={intl.formatMessage({\n                                    id: 'Apis.Details.index.environments',\n                                    defaultMessage: 'environments',\n                                })}\n                                route='environments'\n                                to={pathPrefix + 'environments'}\n                                Icon={<PersonPinCircleOutlinedIcon />}\n                            />\n                        )}\n                        {!api.isWebSocket() && !isAPIProduct && (\n                            <LeftMenuItem\n                                text={intl.formatMessage({\n                                    id: 'Apis.Details.index.left.menu.scope',\n                                    defaultMessage: 'Local Scopes',\n                                })}\n                                to={pathPrefix + 'scopes'}\n                                Icon={<ScopesIcon />}\n                            />\n                        )}\n                        <LeftMenuItem\n                            text={intl.formatMessage({\n                                id: 'Apis.Details.index.business.info',\n                                defaultMessage: 'business info',\n                            })}\n                            to={pathPrefix + 'business info'}\n                            Icon={<BusinessIcon />}\n                        />\n                        <LeftMenuItem\n                            text={intl.formatMessage({\n                                id: 'Apis.Details.index.properties',\n                                defaultMessage: 'properties',\n                            })}\n                            to={pathPrefix + 'properties'}\n                            Icon={<PropertiesIcon />}\n                        />\n                        <LeftMenuItem\n                            text={intl.formatMessage({\n                                id: 'Apis.Details.index.documents',\n                                defaultMessage: 'documents',\n                            })}\n                            to={pathPrefix + 'documents'}\n                            Icon={<DocumentsIcon />}\n                        />\n                        {!api.isWebSocket() && !isAPIProduct && !api.isGraphql() && !isRestricted(['apim:api_publish'],\n                            api) && (\n                            <LeftMenuItem\n                                text={intl.formatMessage({\n                                    id: 'Apis.Details.index.Tryout',\n                                    defaultMessage: 'test console',\n                                })}\n                                to={pathPrefix + 'test-console'}\n                                iconText='test'\n                            />\n                        )}\n                        {!api.isWebSocket() && !isRestricted(['apim:api_publish'], api) && (\n                            <LeftMenuItem\n                                text={intl.formatMessage({\n                                    id: 'Apis.Details.index.monetization',\n                                    defaultMessage: 'monetization',\n                                })}\n                                to={pathPrefix + 'monetization'}\n                                Icon={<MonetizationIcon />}\n                            />\n                        )}\n                        {!isAPIProduct && settingsContext.externalStoresEnabled && (\n                            <LeftMenuItem\n                                text={intl.formatMessage({\n                                    id: 'Apis.Details.index.external-stores',\n                                    defaultMessage: 'external dev portals',\n                                })}\n                                to={pathPrefix + 'external-devportals'}\n                                Icon={<StoreIcon />}\n                            />\n                        )}\n                    </div>\n                    <div className={classes.content}>\n                        <APIDetailsTopMenu api={api} isAPIProduct={isAPIProduct} imageUpdate={imageUpdate} />\n                        <div className={classes.contentInside}>\n                            <LastUpdatedTime lastUpdatedTime={api.lastUpdatedTime} />\n                            <Switch>\n                                <Redirect exact from={Details.subPaths.BASE} to={redirectUrl} />\n                                <Route\n                                    path={Details.subPaths.OVERVIEW_PRODUCT}\n                                    key={Details.subPaths.OVERVIEW_PRODUCT}\n                                    component={() => <Overview api={api} />}\n                                />\n                                <Route path={Details.subPaths.OVERVIEW} component={() => <Overview api={api} />} />\n                                <Route\n                                    path={Details.subPaths.API_DEFINITION}\n                                    component={() => <APIDefinition api={api} updateAPI={this.updateAPI} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.WSDL}\n                                    component={() => <WSDL api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.API_DEFINITION_PRODUCT}\n                                    component={() => <APIDefinition api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.SCHEMA_DEFINITION}\n                                    component={() => <APIDefinition api={api} />}\n                                />\n                                <Route path={Details.subPaths.LIFE_CYCLE} component={() => <LifeCycle api={api} />} />\n                                <Route\n                                    path={Details.subPaths.CONFIGURATION}\n                                    component={() => <DesignConfigurations api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.RUNTIME_CONFIGURATION}\n                                    component={() => <RuntimeConfiguration api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.RUNTIME_CONFIGURATION_WEBSOCKET}\n                                    component={() => <RuntimeConfigurationWebSocket api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.CONFIGURATION_PRODUCT}\n                                    component={() => <DesignConfigurations api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.RUNTIME_CONFIGURATION_PRODUCT}\n                                    component={() => <RuntimeConfiguration api={api} />}\n                                />\n                                <Route path={Details.subPaths.ENDPOINTS} component={() => <Endpoints api={api} />} />\n                                <Route\n                                    path={Details.subPaths.ENVIRONMENTS}\n                                    component={() => <Environments api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.OPERATIONS}\n                                    component={() => <Operations api={api} updateAPI={this.updateAPI} />}\n                                />\n                                <Route\n                                    exact\n                                    path={Details.subPaths.RESOURCES_PRODUCT}\n                                    component={APIProductOperations}\n                                />\n                                <Route\n                                    path={Details.subPaths.RESOURCES_PRODUCT_EDIT}\n                                    component={ProductResourcesEdit}\n                                />\n\n                                <Route\n                                    path={Details.subPaths.RESOURCES}\n                                    key={Details.subPaths.RESOURCES}\n                                    component={APIOperations}\n                                />\n\n                                <Route path={Details.subPaths.SCOPES} component={() => <Scope api={api} />} />\n                                <Route path={Details.subPaths.DOCUMENTS} component={() => <Documents api={api} />} />\n                                <Route\n                                    path={Details.subPaths.DOCUMENTS_PRODUCT}\n                                    component={() => <Documents api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.SUBSCRIPTIONS}\n                                    component={() => <Subscriptions api={api} updateAPI={this.updateAPI} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.SUBSCRIPTIONS_PRODUCT}\n                                    component={() => <Subscriptions api={api} updateAPI={this.updateAPI} />}\n                                />\n                                <Route path={Details.subPaths.SECURITY} component={() => <Security api={api} />} />\n                                <Route path={Details.subPaths.COMMENTS} component={() => <Comments api={api} />} />\n                                <Route\n                                    path={Details.subPaths.BUSINESS_INFO}\n                                    component={() => <BusinessInformation api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.BUSINESS_INFO_PRODUCT}\n                                    component={() => <BusinessInformation api={api} />}\n                                />\n                                <Route path={Details.subPaths.PROPERTIES} component={() => <Properties api={api} />} />\n                                <Route\n                                    path={Details.subPaths.PROPERTIES_PRODUCT}\n                                    component={() => <Properties api={api} />}\n                                />\n                                <Route path={Details.subPaths.NEW_VERSION} component={() => <CreateNewVersion />} />\n                                <Route path={Details.subPaths.SUBSCRIPTIONS} component={() => <Subscriptions />} />\n                                <Route\n                                    path={Details.subPaths.MONETIZATION}\n                                    component={() => <Monetization api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.MONETIZATION_PRODUCT}\n                                    component={() => <Monetization api={api} />}\n                                />\n                                <Route\n                                    path={Details.subPaths.TRYOUT}\n                                    component={() => <TestConsole apiObj={api} />}\n                                />\n                                <Route path={Details.subPaths.EXTERNAL_STORES} component={ExternalStores} />\n                            </Switch>\n                        </div>\n                    </div>\n                </APIProvider>\n            </>\n        );\n    }\n}\n\nDetails.contextType = AppContext;\n// Add your path here and refer it in above <Route/> component,\n// Paths that are not defined here will be returned with Not Found error\n// key name doesn't matter here, Use an appropriate name as the key\nDetails.subPaths = {\n    BASE: '/apis/:api_uuid',\n    BASE_PRODUCT: '/api-products/:apiprod_uuid',\n    OVERVIEW: '/apis/:api_uuid/overview',\n    OVERVIEW_PRODUCT: '/api-products/:apiprod_uuid/overview',\n    API_DEFINITION: '/apis/:api_uuid/api definition',\n    WSDL: '/apis/:api_uuid/wsdl',\n    API_DEFINITION_PRODUCT: '/api-products/:apiprod_uuid/api definition',\n    SCHEMA_DEFINITION: '/apis/:api_uuid/schema definition',\n    LIFE_CYCLE: '/apis/:api_uuid/lifecycle',\n    CONFIGURATION: '/apis/:api_uuid/configuration',\n    RUNTIME_CONFIGURATION: '/apis/:api_uuid/runtime-configuration',\n    CONFIGURATION_PRODUCT: '/api-products/:apiprod_uuid/configuration',\n    RUNTIME_CONFIGURATION_PRODUCT: '/api-products/:apiprod_uuid/runtime-configuration',\n    RUNTIME_CONFIGURATION_WEBSOCKET: '/apis/:api_uuid/runtime-configuration-websocket',\n    ENDPOINTS: '/apis/:api_uuid/endpoints',\n    ENVIRONMENTS: '/apis/:api_uuid/environments',\n    OPERATIONS: '/apis/:api_uuid/operations',\n    RESOURCES: '/apis/:api_uuid/resources',\n    RESOURCES_PRODUCT: '/api-products/:apiprod_uuid/resources',\n    RESOURCES_PRODUCT_EDIT: '/api-products/:apiprod_uuid/resources/edit',\n    SCOPES: '/apis/:api_uuid/scopes',\n    DOCUMENTS: '/apis/:api_uuid/documents',\n    DOCUMENTS_PRODUCT: '/api-products/:apiprod_uuid/documents',\n    SUBSCRIPTIONS_PRODUCT: '/api-products/:apiprod_uuid/subscriptions',\n    SUBSCRIPTIONS: '/apis/:api_uuid/subscriptions',\n    SECURITY: '/apis/:api_uuid/security',\n    COMMENTS: '/apis/:api_uuid/comments',\n    BUSINESS_INFO: '/apis/:api_uuid/business info',\n    BUSINESS_INFO_PRODUCT: '/api-products/:apiprod_uuid/business info',\n    PROPERTIES: '/apis/:api_uuid/properties',\n    PROPERTIES_PRODUCT: '/api-products/:apiprod_uuid/properties',\n    NEW_VERSION: '/apis/:api_uuid/new_version',\n    MONETIZATION: '/apis/:api_uuid/monetization',\n    MONETIZATION_PRODUCT: '/api-products/:apiprod_uuid/monetization',\n    EXTERNAL_STORES: '/apis/:api_uuid/external-devportals',\n    TRYOUT: '/apis/:api_uuid/test-console',\n    QUERYANALYSIS: '/apis/:api_uuid/queryanalysis',\n};\n\n// To make sure that paths will not change by outsiders, Basically an enum\nObject.freeze(Details.paths);\n\nDetails.propTypes = {\n    classes: PropTypes.shape({\n        LeftMenu: PropTypes.string,\n        content: PropTypes.string,\n        leftLInkMain: PropTypes.string,\n        contentInside: PropTypes.string,\n    }).isRequired,\n    match: PropTypes.shape({\n        params: PropTypes.object,\n    }).isRequired,\n    location: PropTypes.shape({\n        pathname: PropTypes.object,\n    }).isRequired,\n    history: PropTypes.shape({\n        push: PropTypes.object,\n    }).isRequired,\n    theme: PropTypes.shape({\n        custom: PropTypes.shape({\n            leftMenuIconMainSize: PropTypes.number,\n        }),\n    }).isRequired,\n    isAPIProduct: PropTypes.bool.isRequired,\n    intl: PropTypes.shape({ formatMessage: PropTypes.func }).isRequired,\n};\n\nexport default injectIntl(withStyles(styles, { withTheme: true })(Details));\n"],"sourceRoot":""}